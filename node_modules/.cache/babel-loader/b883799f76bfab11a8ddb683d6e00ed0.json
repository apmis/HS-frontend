{"ast":null,"code":"import{Fragment as _Fragment}from\"react/jsx-runtime\";import _regeneratorRuntime from\"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/* eslint-disable */import React,{useState,useContext,useEffect,useRef}from'react';import{useRouteMatch,useHistory}from'react-router-dom';//Route, Switch,Link, NavLink,\nimport client from'../../feathers';import{DebounceInput}from'react-debounce-input';import{useForm}from\"react-hook-form\";//import {useHistory} from 'react-router-dom'\nimport{UserContext,ObjectContext}from'../../context';import{toast}from'bulma-toast';import{format,formatDistanceToNowStrict}from'date-fns';import AdmissionCreate from'./AdmissionCreate';import PatientProfile from'../ClientMgt/PatientProfile';/* import {ProductCreate} from './Products' */ // eslint-disable-next-line\n//const searchfacility={};\nimport{Accordion,AccordionItem,AccordionItemHeading,AccordionItemButton,AccordionItemPanel}from'react-accessible-accordion';// Demo styles, see 'Styles' section below for some notes on use.\nimport'react-accessible-accordion/dist/fancy-example.css';import ClientBilledAdmission from'./ClientAdmission';export default function Inpatient(){//const {state}=useContext(ObjectContext) //,setState\n// eslint-disable-next-line\nvar _useState=useState(),_useState2=_slicedToArray(_useState,2),selectedProductEntry=_useState2[0],setSelectedProductEntry=_useState2[1];//const [showState,setShowState]=useState() //create|modify|detail\nvar _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];// eslint-disable-next-line\nvar _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),success=_useState6[0],setSuccess=_useState6[1];// eslint-disable-next-line\nvar _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),message=_useState8[0],setMessage=_useState8[1];var OrderServ=client.service('order');//const history = useHistory()\n// const {user,setUser} = useContext(UserContext)\nvar _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),facilities=_useState10[0],setFacilities=_useState10[1];// eslint-disable-next-line\nvar _useState11=useState(),_useState12=_slicedToArray(_useState11,2),selectedDispense=_useState12[0],setSelectedDispense=_useState12[1];//\n// eslint-disable-next-line\nvar _useContext=useContext(ObjectContext),state=_useContext.state,setState=_useContext.setState;// eslint-disable-next-line\nvar _useContext2=useContext(UserContext),user=_useContext2.user,setUser=_useContext2.setUser;/*  useEffect(() => {\n        const updatedOne= state.currentClients.filter(el=>(JSON.stringify(el.client_id)===JSON.stringify(state.DispenseModule.selectedDispense.client_id)))\n        console.log(\"udatedone\", updatedOne)\n        console.log(\"state\", state.currentClients)\n        handleRow(updatedOne)\n         return () => {\n             \n         }\n     }, []) */return/*#__PURE__*/_jsx(\"section\",{className:\"section remPadTop\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"columns \",children:[/*#__PURE__*/_jsx(\"div\",{className:\"column is-2 \"}),/*#__PURE__*/_jsx(\"div\",{className:\"column is-8 \",children:/*#__PURE__*/_jsx(InpatientList,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"column is-2 \"})]})});}export function InpatientList(){// const { register, handleSubmit, watch, errors } = useForm();\n// eslint-disable-next-line\nvar history=useHistory();var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),error=_useState14[0],setError=_useState14[1];// eslint-disable-next-line\nvar _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),success=_useState16[0],setSuccess=_useState16[1];// eslint-disable-next-line\nvar _useState17=useState(\"\"),_useState18=_slicedToArray(_useState17,2),message=_useState18[0],setMessage=_useState18[1];var OrderServ=client.service('admission');//const history = useHistory()\n// const {user,setUser} = useContext(UserContext)\nvar _useState19=useState([]),_useState20=_slicedToArray(_useState19,2),facilities=_useState20[0],setFacilities=_useState20[1];// eslint-disable-next-line\nvar _useState21=useState(),_useState22=_slicedToArray(_useState21,2),selectedDispense=_useState22[0],setSelectedDispense=_useState22[1];//\n// eslint-disable-next-line\nvar _useContext3=useContext(ObjectContext),state=_useContext3.state,setState=_useContext3.setState;// eslint-disable-next-line\nvar _useContext4=useContext(UserContext),user=_useContext4.user,setUser=_useContext4.setUser;var _useState23=useState(\"\"),_useState24=_slicedToArray(_useState23,2),selectedMedication=_useState24[0],setSelectedMedication=_useState24[1];var handleSelectedClient=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(Client){var newClientModule;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:// await setSelectedClient(Client)\nnewClientModule={selectedClient:Client,show:'detail'};_context.next=3;return setState(function(prevstate){return _objectSpread(_objectSpread({},prevstate),{},{ClientModule:newClientModule});});case 3:case\"end\":return _context.stop();}}},_callee);}));return function handleSelectedClient(_x){return _ref.apply(this,arguments);};}();var handleMedicationRow=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(inpatient){var currClient,newClientModule;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:currClient=inpatient.client;// eslint-disable-next-line\ncurrClient.ward=inpatient.ward_name;currClient.bed=inpatient.bed;currClient.bed_id=inpatient.bed_id;currClient.ward_id=inpatient.ward_id;currClient.admission_id=inpatient._id;console.log(currClient);//currClient.details=inpatient\nnewClientModule={selectedClient:currClient,show:'modify'};_context2.next=10;return setState(function(prevstate){return _objectSpread(_objectSpread({},prevstate),{},{ClientModule:newClientModule});});case 10://console.log(state)\nhistory.push('/app/ward/encounter');case 11:case\"end\":return _context2.stop();}}},_callee2);}));return function handleMedicationRow(_x2){return _ref2.apply(this,arguments);};}();var handleCreateNew=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var newProductEntryModule;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:newProductEntryModule={selectedDispense:{},show:'create'};_context3.next=3;return setState(function(prevstate){return _objectSpread(_objectSpread({},prevstate),{},{DispenseModule:newProductEntryModule});});case 3:case\"end\":return _context3.stop();}}},_callee3);}));return function handleCreateNew(){return _ref3.apply(this,arguments);};}();var handleSearch=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(val){var field;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:field='name';console.log(val);OrderServ.find({query:{$or:[{order:{$regex:val,$options:'i'}},{order_status:{$regex:val,$options:'i'}},{clientname:{$regex:val,$options:'i'}}],order_category:\"Admission Order\",fulfilled:\"False\",destination:user.currentEmployee.facilityDetail._id,destination_location:state.WardModule.selectedWard._id,order_status:\"Pending\",// storeId:state.StoreModule.selectedStore._id,\n//facility:user.currentEmployee.facilityDetail._id || \"\",\n$limit:50,$sort:{createdAt:-1}}}).then(/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(res){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:console.log(res);setFacilities(res.groupedOrder);// await setState((prevstate)=>({...prevstate, currentClients:res.groupedOrder}))\nsetMessage(\" ProductEntry  fetched successfully\");setSuccess(true);case 4:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x4){return _ref5.apply(this,arguments);};}()).catch(function(err){// console.log(err)\nsetMessage(\"Error fetching ProductEntry, probable network issues \"+err);setError(true);});case 3:case\"end\":return _context5.stop();}}},_callee5);}));return function handleSearch(_x3){return _ref4.apply(this,arguments);};}();var getFacilities=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(){var findProductEntry;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return OrderServ.find({query:{/* order_category:\"Admission Order\",\n                fulfilled:\"False\", */facility:user.currentEmployee.facilityDetail._id,ward_id:state.WardModule.selectedWard._id,end_time:\"\",/*  order_status:\"Pending\",  */ // need to set this finally\n//storeId:state.StoreModule.selectedStore._id,\n//clientId:state.ClientModule.selectedClient._id,\n$limit:100,$sort:{bed:-1}}});case 2:findProductEntry=_context6.sent;console.log(\"updatedorder\",findProductEntry.data);_context6.next=6;return setFacilities(findProductEntry.data);case 6:_context6.next=8;return setState(function(prevstate){return _objectSpread(_objectSpread({},prevstate),{},{currentClients:findProductEntry.data});});case 8:case\"end\":return _context6.stop();}}},_callee6);}));return function getFacilities(){return _ref6.apply(this,arguments);};}();//1.consider using props for global data\nuseEffect(function(){// console.log(\"started\")\ngetFacilities();OrderServ.on('created',function(obj){return getFacilities();});OrderServ.on('updated',function(obj){return getFacilities();});OrderServ.on('patched',function(obj){return getFacilities();});OrderServ.on('removed',function(obj){return getFacilities();});return function(){};},[]);var handleRow=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(ProductEntry){var newProductEntryModule;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return setSelectedDispense(ProductEntry);case 2:newProductEntryModule={selectedDispense:ProductEntry,show:'detail'};_context7.next=5;return setState(function(prevstate){return _objectSpread(_objectSpread({},prevstate),{},{DispenseModule:newProductEntryModule});});case 5:case\"end\":return _context7.stop();}}},_callee7);}));return function handleRow(_x5){return _ref7.apply(this,arguments);};}();useEffect(function(){getFacilities();return function(){};},[state.WardModule.selectedWard]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"level\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"level-left\",children:/*#__PURE__*/_jsx(\"div\",{className:\"level-item\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left  \",children:[/*#__PURE__*/_jsx(DebounceInput,{className:\"input is-small \",type:\"text\",placeholder:\"Search Tests\",minLength:3,debounceTimeout:400,onChange:function onChange(e){return handleSearch(e.target.value);}}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-search\"})})]})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"level-item\",children:[\" \",/*#__PURE__*/_jsx(\"span\",{className:\"is-size-6 has-text-weight-medium\",children:\"INPATIENTS \"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\" pullup\",children:/*#__PURE__*/_jsx(\"div\",{className:\" is-fullwidth vscrollable pr-1\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table is-striped  is-hoverable is-fullwidth is-scrollable mr-2\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"abbr\",{title:\"Serial No\",children:\"S/No\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"abbr\",{title:\"Bed\",children:\"Bed\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"abbr\",{title:\"Name\",children:\" Name\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"abbr\",{title:\"Gender\",children:\"Gender\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"abbr\",{title:\"Age\",children:\"Age\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"abbr\",{title:\"Days\",children:\"Days on Admission\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"abbr\",{title:\"Age\",children:\"Payment Mode\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"abbr\",{title:\"Tags\",children:\"Tags\"})})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:facilities.map(function(order,i){return/*#__PURE__*/_jsxs(\"tr\",{onClick:function onClick(){return handleMedicationRow(order);},className:order._id===((selectedMedication===null||selectedMedication===void 0?void 0:selectedMedication._id)||null)?\"is-selected\":\"\",children:[/*#__PURE__*/_jsx(\"th\",{children:i+1}),/*#__PURE__*/_jsx(\"th\",{children:order.bed}),/*#__PURE__*/_jsxs(\"th\",{children:[order.client.firstname,\" \",order.client.lastname]}),/*#__PURE__*/_jsx(\"td\",{children:order.client.gender}),/*#__PURE__*/_jsx(\"td\",{children:order.client.dob&&/*#__PURE__*/_jsx(_Fragment,{children:formatDistanceToNowStrict(new Date(order.client.dob))})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"span\",{children:[formatDistanceToNowStrict(new Date(order.createdAt),{addSuffix:true}),\"  \"]})}),\" \",/*#__PURE__*/_jsx(\"td\",{children:order.client.paymentinfo.map(function(pay,i){return/*#__PURE__*/_jsxs(_Fragment,{children:[pay.paymentmode,\" \",pay.paymentmode===\"Cash\"?\"\":\":\",\" \",pay.organizationName,/*#__PURE__*/_jsx(\"br\",{})]});})}),/*#__PURE__*/_jsx(\"td\",{children:order.client.clientTags})]},order._id);})})]})})})]});}export function DispenseDetail(){//const { register, handleSubmit, watch, setValue } = useForm(); //errors,\n// eslint-disable-next-line\nvar _useState25=useState(false),_useState26=_slicedToArray(_useState25,2),error=_useState26[0],setError=_useState26[1];//, \nvar _useState27=useState(\"\"),_useState28=_slicedToArray(_useState27,2),selectedMedication=_useState28[0],setSelectedMedication=_useState28[1];var _useState29=useState(\"\"),_useState30=_slicedToArray(_useState29,2),currentOrder=_useState30[0],setCurrentOrder=_useState30[1];// eslint-disable-next-line\nvar _useState31=useState(\"\"),_useState32=_slicedToArray(_useState31,2),message=_useState32[0],setMessage=_useState32[1];//,\n//const ProductEntryServ=client.service('/ProductEntry')\n//const history = useHistory()\n//const {user,setUser} = useContext(UserContext)\nvar _useContext5=useContext(ObjectContext),state=_useContext5.state,setState=_useContext5.setState;var OrderServ=client.service('order');/* const [ProductEntry, setProductEntry] = useState(\"\")\n    const [facilities, setFacilities] = useState(\"\") */var ProductEntry=state.DispenseModule.selectedDispense;//const facilities=ProductEntry.orders\nvar handleRow=/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(ProductEntry){var newProductEntryModule;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return setSelectedMedication(ProductEntry);case 2:newProductEntryModule={selectedMedication:ProductEntry,show:'detail'};_context8.next=5;return setState(function(prevstate){return _objectSpread(_objectSpread({},prevstate),{},{medicationModule:newProductEntryModule});});case 5:case\"end\":return _context8.stop();}}},_callee8);}));return function handleRow(_x6){return _ref8.apply(this,arguments);};}();var handleEdit=/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(ProductEntry){var newProductEntryModule;return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:newProductEntryModule={selectedDispense:ProductEntry,show:'modify'};_context9.next=3;return setState(function(prevstate){return _objectSpread(_objectSpread({},prevstate),{},{DispenseModule:newProductEntryModule});});case 3:case\"end\":return _context9.stop();}}},_callee9);}));return function handleEdit(_x7){return _ref9.apply(this,arguments);};}();useEffect(function(){var client1=state.currentClients.find(function(el){return JSON.stringify(el.client_id)===JSON.stringify(state.DispenseModule.selectedDispense);});setCurrentOrder(client1);// console.log(client1)\nreturn function(){};},[]);/*  \n     const setprod=async()=>{\n        await setProductEntry(state.DispenseModule.selectedDispense)\n    } */useEffect(function(){/* OrderServ.on('created', (obj)=>getFacilities())\n        OrderServ.on('updated', (obj)=>getFacilities())\n       \n        OrderServ.on('removed', (obj)=>getFacilities()) */OrderServ.on('patched',function(obj){//update state.DispenseModule.selectedDispense\n// console.log(obj.clientId)\n// console.log(\"currentClients\",state.currentClients)\nvar current1=state.currentClients.find(function(el){return JSON.stringify(el.client_id)===JSON.stringify(obj.clientId);});setCurrentOrder(current1);// console.log(\"currentone\",current1)\n});return function(){};},[]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"card \",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"p\",{className:\"card-header-title\",children:\"Dispense Details\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-content vscrollable\",children:/*#__PURE__*/_jsx(\"div\",{className:\"table-container pullup \",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table is-striped is-narrow is-hoverable is-fullwidth is-scrollable \",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"abbr\",{title:\"Serial No\",children:\"S/No\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"abbr\",{title:\"Date\",children:\"Date\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"abbr\",{title:\"Order\",children:\"Medication\"})}),/*#__PURE__*/_jsx(\"th\",{children:\"Fulfilled\"}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"abbr\",{title:\"Status\",children:\"Status\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"abbr\",{title:\"Requesting Physician\",children:\"Requesting Physician\"})})]})}),/*#__PURE__*/_jsx(\"tfoot\",{}),/*#__PURE__*/_jsx(\"tbody\",{children:state.DispenseModule.selectedDispense.orders.map(function(order,i){return/*#__PURE__*/_jsxs(\"tr\",{onClick:function onClick(){return handleRow(order);},className:order._id===((selectedMedication===null||selectedMedication===void 0?void 0:selectedMedication._id)||null)?\"is-selected\":\"\",children:[/*#__PURE__*/_jsx(\"th\",{children:i+1}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{children:format(new Date(order.createdAt),'dd-MM-yy')})}),\" \",/*#__PURE__*/_jsx(\"th\",{children:order.order}),/*#__PURE__*/_jsx(\"td\",{children:order.fulfilled===\"True\"?\"Yes\":\"No\"}),/*#__PURE__*/_jsx(\"td\",{children:order.order_status}),/*#__PURE__*/_jsx(\"td\",{children:order.requestingdoctor_Name})]},order._id);})})]})})})]})});}","map":{"version":3,"sources":["/home/mfybaby/Documents/HealthStack2/HS-frontend/src/components/Ward/Inpatient.js"],"names":["React","useState","useContext","useEffect","useRef","useRouteMatch","useHistory","client","DebounceInput","useForm","UserContext","ObjectContext","toast","format","formatDistanceToNowStrict","AdmissionCreate","PatientProfile","Accordion","AccordionItem","AccordionItemHeading","AccordionItemButton","AccordionItemPanel","ClientBilledAdmission","Inpatient","selectedProductEntry","setSelectedProductEntry","error","setError","success","setSuccess","message","setMessage","OrderServ","service","facilities","setFacilities","selectedDispense","setSelectedDispense","state","setState","user","setUser","InpatientList","history","selectedMedication","setSelectedMedication","handleSelectedClient","Client","newClientModule","selectedClient","show","prevstate","ClientModule","handleMedicationRow","inpatient","currClient","ward","ward_name","bed","bed_id","ward_id","admission_id","_id","console","log","push","handleCreateNew","newProductEntryModule","DispenseModule","handleSearch","val","field","find","query","$or","order","$regex","$options","order_status","clientname","order_category","fulfilled","destination","currentEmployee","facilityDetail","destination_location","WardModule","selectedWard","$limit","$sort","createdAt","then","res","groupedOrder","catch","err","getFacilities","facility","end_time","findProductEntry","data","currentClients","on","obj","handleRow","ProductEntry","e","target","value","map","i","firstname","lastname","gender","dob","Date","addSuffix","paymentinfo","pay","paymentmode","organizationName","clientTags","DispenseDetail","currentOrder","setCurrentOrder","medicationModule","handleEdit","client1","el","JSON","stringify","client_id","current1","clientId","orders","requestingdoctor_Name"],"mappings":"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","sourcesContent":["/* eslint-disable */\nimport React, {useState,useContext, useEffect,useRef} from 'react'\nimport {  useRouteMatch,  useHistory} from 'react-router-dom' //Route, Switch,Link, NavLink,\nimport client from '../../feathers'\nimport {DebounceInput} from 'react-debounce-input';\nimport { useForm } from \"react-hook-form\";\n//import {useHistory} from 'react-router-dom'\nimport {UserContext,ObjectContext} from '../../context'\nimport {toast} from 'bulma-toast'\nimport {format, formatDistanceToNowStrict } from 'date-fns'\nimport AdmissionCreate from './AdmissionCreate'\nimport PatientProfile from '../ClientMgt/PatientProfile'\n/* import {ProductCreate} from './Products' */\n// eslint-disable-next-line\n//const searchfacility={};\nimport {\n    Accordion,\n    AccordionItem,\n    AccordionItemHeading,\n    AccordionItemButton,\n    AccordionItemPanel,\n} from 'react-accessible-accordion';\n\n// Demo styles, see 'Styles' section below for some notes on use.\nimport 'react-accessible-accordion/dist/fancy-example.css';\nimport ClientBilledAdmission from './ClientAdmission';\n\n\n\nexport default function Inpatient() {\n    //const {state}=useContext(ObjectContext) //,setState\n    // eslint-disable-next-line\n    const [selectedProductEntry,setSelectedProductEntry]=useState()\n    //const [showState,setShowState]=useState() //create|modify|detail\n    const [error, setError] =useState(false)\n    // eslint-disable-next-line\n   const [success, setSuccess] =useState(false)\n    // eslint-disable-next-line\n  const [message, setMessage] = useState(\"\") \n   const OrderServ=client.service('order')\n   //const history = useHistory()\n  // const {user,setUser} = useContext(UserContext)\n   const [facilities,setFacilities]=useState([])\n    // eslint-disable-next-line\n  const [selectedDispense, setSelectedDispense]=useState() //\n   // eslint-disable-next-line\n   const {state,setState}=useContext(ObjectContext)\n   // eslint-disable-next-line\n   const {user,setUser}=useContext(UserContext)\n\n\n\n\n    /*  useEffect(() => {\n        const updatedOne= state.currentClients.filter(el=>(JSON.stringify(el.client_id)===JSON.stringify(state.DispenseModule.selectedDispense.client_id)))\n        console.log(\"udatedone\", updatedOne)\n        console.log(\"state\", state.currentClients)\n        handleRow(updatedOne)\n         return () => {\n             \n         }\n     }, []) */\n    \n    return(\n        <section className= \"section remPadTop\">\n           {/*  <div className=\"level\">\n            <div className=\"level-item\"> <span className=\"is-size-6 has-text-weight-medium\">ProductEntry  Module</span></div>\n            </div> */}\n            <div className=\"columns \">\n            <div className=\"column is-2 \">\n                \n               {/*  {(state.AdmissionModule.show ==='detail')&&<AdmissionCreate />} */}\n                </div>\n\n                <div className=\"column is-8 \">\n                    <InpatientList />\n                    </div>\n              \n              \n                <div className=\"column is-2 \">\n                \n               {/*  {(state.AdmissionModule.show ==='detail')&&<PatientProfile />} */}\n                </div>\n\n            </div>                            \n            </section>\n       \n    )\n    \n}\n\nexport function InpatientList(){\n   // const { register, handleSubmit, watch, errors } = useForm();\n    // eslint-disable-next-line\n    const history =useHistory()\n    const [error, setError] =useState(false)\n     // eslint-disable-next-line\n    const [success, setSuccess] =useState(false)\n     // eslint-disable-next-line\n   const [message, setMessage] = useState(\"\") \n    const OrderServ=client.service('admission')\n    //const history = useHistory()\n   // const {user,setUser} = useContext(UserContext)\n    const [facilities,setFacilities]=useState([])\n     // eslint-disable-next-line\n   const [selectedDispense, setSelectedDispense]=useState() //\n    // eslint-disable-next-line\n    const {state,setState}=useContext(ObjectContext)\n    // eslint-disable-next-line\n    const {user,setUser}=useContext(UserContext)\n    const [selectedMedication, setSelectedMedication] =useState(\"\")\n\n    const handleSelectedClient= async(Client)=>{\n        // await setSelectedClient(Client)\n         const    newClientModule={\n             selectedClient:Client,\n             show :'detail'\n         }\n        await setState((prevstate)=>({...prevstate, ClientModule:newClientModule}))\n     }\n\n    const handleMedicationRow= async(inpatient)=>{ \n      \n        \n      let currClient =inpatient.client \n      // eslint-disable-next-line\n        currClient.ward=inpatient.ward_name\n        currClient.bed=inpatient.bed\n        currClient.bed_id=inpatient.bed_id\n        currClient.ward_id=inpatient.ward_id\n        currClient.admission_id=inpatient._id\n        console.log(currClient)\n        //currClient.details=inpatient\n\n   \n         const    newClientModule={\n             selectedClient:currClient,\n             show :'modify'\n         }\n        await setState((prevstate)=>({...prevstate, ClientModule:newClientModule}))\n        //console.log(state)\n        \n     \n      history.push('/app/ward/encounter')\n    \n    }\n\n    const handleCreateNew = async()=>{\n        const    newProductEntryModule={\n            selectedDispense:{},\n            show :'create'\n            }\n       await setState((prevstate)=>({...prevstate, DispenseModule:newProductEntryModule}))\n       //console.log(state)\n        \n\n    }\n  \n\n    const handleSearch= async(val)=>{\n       const field='name'\n       console.log(val)\n       OrderServ.find({query: {\n           $or:[\n                {order: {\n                    $regex:val,\n                    $options:'i'\n                   \n                }},\n               { order_status: {\n                    $regex:val,\n                    $options:'i'\n                   \n                }},\n                {clientname: {\n                    $regex:val,\n                    $options:'i'\n                   \n                }}\n                ],\n                order_category:\"Admission Order\",\n                fulfilled:\"False\",\n                destination: user.currentEmployee.facilityDetail._id,\n                destination_location:state.WardModule.selectedWard._id,\n                order_status:\"Pending\",\n               // storeId:state.StoreModule.selectedStore._id,\n               //facility:user.currentEmployee.facilityDetail._id || \"\",\n                $limit:50,\n                $sort: {\n                    createdAt: -1\n                  }\n                }}).then( async(res)=>{\n               console.log(res)\n               setFacilities(res.groupedOrder)\n              // await setState((prevstate)=>({...prevstate, currentClients:res.groupedOrder}))\n                setMessage(\" ProductEntry  fetched successfully\")\n                setSuccess(true)\n            })\n            .catch((err)=>{\n               // console.log(err)\n                setMessage(\"Error fetching ProductEntry, probable network issues \"+ err )\n                setError(true)\n            })\n        }\n\n    const getFacilities= async()=>{\n       \n         \n    const findProductEntry= await OrderServ.find(\n            {query: {\n                /* order_category:\"Admission Order\",\n                fulfilled:\"False\", */\n                facility: user.currentEmployee.facilityDetail._id,\n                ward_id:state.WardModule.selectedWard._id,\n                end_time:\"\",\n               /*  order_status:\"Pending\",  */ // need to set this finally\n                //storeId:state.StoreModule.selectedStore._id,\n                //clientId:state.ClientModule.selectedClient._id,\n                $limit:100,\n                $sort: {\n                    bed: -1\n                }\n                }})\n\n                \n           console.log(\"updatedorder\", findProductEntry.data)\n            await setFacilities(findProductEntry.data)\n            await setState((prevstate)=>({...prevstate, currentClients:findProductEntry.data}))\n            }   \n\n    //1.consider using props for global data\n    useEffect(() => {\n        // console.log(\"started\")\n            getFacilities()\n            OrderServ.on('created', (obj)=>getFacilities())\n            OrderServ.on('updated', (obj)=>getFacilities())\n            OrderServ.on('patched', (obj)=>getFacilities())\n            OrderServ.on('removed', (obj)=>getFacilities())\n            return () => {\n            \n            }\n            },[])\n\n    const handleRow= async(ProductEntry)=>{\n    \n        await setSelectedDispense(ProductEntry)\n\n        const    newProductEntryModule={\n            selectedDispense:ProductEntry,\n            show :'detail'\n        }\n        await setState((prevstate)=>({...prevstate, DispenseModule:newProductEntryModule}))\n        //console.log(state)\n        \n        }\n\n   useEffect(() =>{\n    getFacilities()\n\n            return ()=>{\n                \n            }\n\n   }, [state.WardModule.selectedWard])\n\n    return(     \n            <>  \n                <div className=\"level\">\n                    <div className=\"level-left\">\n                        <div className=\"level-item\">\n                            <div className=\"field\">\n                                <p className=\"control has-icons-left  \">\n                                    <DebounceInput className=\"input is-small \" \n                                        type=\"text\" placeholder=\"Search Tests\"\n                                        minLength={3}\n                                        debounceTimeout={400}\n                                        onChange={(e)=>handleSearch(e.target.value)} />\n                                    <span className=\"icon is-small is-left\">\n                                        <i className=\"fas fa-search\"></i>\n                                    </span>\n                                </p>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"level-item\"> <span className=\"is-size-6 has-text-weight-medium\">INPATIENTS </span></div>\n                     {/* <div className=\"level-right\">\n                       <div className=\"level-item\"> \n                            <div nclassName=\"level-item\"><div className=\"button is-success is-small\" onClick={handleCreateNew}>New</div></div>\n                        </div> \n                    </div>*/}\n\n                </div>\n                <div className=\" pullup\">\n                    <div className=\" is-fullwidth vscrollable pr-1\">   \n                \n                                    <table className=\"table is-striped  is-hoverable is-fullwidth is-scrollable mr-2\">\n                                            <thead>\n                                                <tr>\n                                                    <th><abbr title=\"Serial No\">S/No</abbr></th>\n                                                    <th><abbr title=\"Bed\">Bed</abbr></th>\n                                                    <th><abbr title=\"Name\"> Name</abbr></th>\n                                                    <th><abbr title=\"Gender\">Gender</abbr></th> \n                                                   {/*  <th><abbr title=\"Status\">Last Name</abbr></th> */}\n                                                    <th><abbr title=\"Age\">Age</abbr></th>\n                                                    <th><abbr title=\"Days\">Days on Admission</abbr></th>\n                                                    <th><abbr title=\"Age\">Payment Mode</abbr></th>\n                                                    <th><abbr title=\"Tags\">Tags</abbr></th>\n                                                   {/*  <th>Diagnosis</th>\n                                                    \n                                                    */}\n                                                </tr>\n                                            </thead>\n                                            <tbody>\n                                            { facilities.map((order, i)=>(\n\n                                                        <tr key={order._id} onClick={()=>handleMedicationRow(order)} className={order._id===(selectedMedication?._id||null)?\"is-selected\":\"\"}>                                         \n                                                        <th>{i+1}</th>\n                                                        <th>{order.bed}</th>\n                                                        <th>{order.client.firstname} {order.client.lastname}</th>\n                                                        \n                                                        <td>{order.client.gender}</td>\n                                                        <td>{order.client.dob && <>{formatDistanceToNowStrict(new Date(order.client.dob))}</>}</td>\n                                                        <td><span>{formatDistanceToNowStrict(new Date(order.createdAt),{addSuffix: true})}  </span></td> {/*  {format(new Date(order.createdAt),'dd-MM-yy')} */}\n                                                        <td>{order.client.paymentinfo.map((pay,i)=>(\n                                                                <>\n                                                                {pay.paymentmode} {pay.paymentmode===\"Cash\"?\"\":\":\" } {pay.organizationName}<br></br>\n                                                                </>\n                                                            ))}</td>\n                                                        <td>{order.client.clientTags}</td>\n                                                        </tr>\n\n                                                ))}\n                                            </tbody>\n                                            </table>\n                                            \n                             \n                    </div>                   \n                </div>  \n            </>          \n        )\n    }\n\n\nexport function DispenseDetail(){\n    //const { register, handleSubmit, watch, setValue } = useForm(); //errors,\n     // eslint-disable-next-line\n    const [error, setError] =useState(false) //, \n    const [selectedMedication, setSelectedMedication] =useState(\"\")\n    const [currentOrder, setCurrentOrder] =useState(\"\")\n     // eslint-disable-next-line\n    const [message, setMessage] = useState(\"\") //,\n    //const ProductEntryServ=client.service('/ProductEntry')\n    //const history = useHistory()\n    //const {user,setUser} = useContext(UserContext)\n    const {state,setState} = useContext(ObjectContext)\n    const OrderServ=client.service('order')\n    /* const [ProductEntry, setProductEntry] = useState(\"\")\n    const [facilities, setFacilities] = useState(\"\") */\n\n let ProductEntry =state.DispenseModule.selectedDispense\n   //const facilities=ProductEntry.orders\n\n   const handleRow= async(ProductEntry)=>{\n    //console.log(\"b4\",state)\n\n    //console.log(\"handlerow\",ProductEntry)\n\n    await setSelectedMedication(ProductEntry)\n\n    const    newProductEntryModule={\n        selectedMedication:ProductEntry,\n        show :'detail'\n    }\n  await setState((prevstate)=>({...prevstate, medicationModule:newProductEntryModule}))\n   //console.log(state)\n  // ProductEntry.show=!ProductEntry.show\n\n}\n\n    const handleEdit= async(ProductEntry)=>{\n        const    newProductEntryModule={\n            selectedDispense:ProductEntry,\n            show :'modify'\n        }\n       await setState((prevstate)=>({...prevstate, DispenseModule:newProductEntryModule}))\n       //console.log(state)\n       \n    }\n\n    useEffect(() => {\n\n\n      const client1=  state.currentClients.find(el=>{\n            return JSON.stringify(el.client_id)===JSON.stringify(state.DispenseModule.selectedDispense)\n        })\n\n    setCurrentOrder(client1)\n   // console.log(client1)\n        return () => {\n        \n        }\n    }, [])\n   \n\n /*  \n     const setprod=async()=>{\n        await setProductEntry(state.DispenseModule.selectedDispense)\n    } */\n \n    useEffect(() => {\n        /* OrderServ.on('created', (obj)=>getFacilities())\n        OrderServ.on('updated', (obj)=>getFacilities())\n       \n        OrderServ.on('removed', (obj)=>getFacilities()) */\n        OrderServ.on('patched',  (obj)=>{\n            //update state.DispenseModule.selectedDispense\n           // console.log(obj.clientId)\n           // console.log(\"currentClients\",state.currentClients)\n           const current1=state.currentClients.find(el=>(JSON.stringify(el.client_id)===JSON.stringify(obj.clientId)))\n           setCurrentOrder(current1)\n          // console.log(\"currentone\",current1)\n        })\n      \n        return () => {\n         \n        }\n    },[])\n \n    return (\n        <>\n        <div className=\"card \">\n            <div className=\"card-header\">\n                <p className=\"card-header-title\">\n                    Dispense Details\n                </p>\n            </div>\n            <div className=\"card-content vscrollable\">\n            {/* {JSON.stringify(ProductEntry.orders,2,10)} */}\n            <div className=\"table-container pullup \">\n                                <table className=\"table is-striped is-narrow is-hoverable is-fullwidth is-scrollable \">\n                                    <thead>\n                                        <tr>\n                                        <th><abbr title=\"Serial No\">S/No</abbr></th>\n                                        {/* <th><abbr title=\"Client Name\">Client Name</abbr></th> */}\n                                        {/* <th><abbr title=\"Number of Orders\"># of Medication</abbr></th> */}\n                                        <th><abbr title=\"Date\">Date</abbr></th>\n                                        <th><abbr title=\"Order\">Medication</abbr></th>\n                                        <th>Fulfilled</th>\n                                        <th><abbr title=\"Status\">Status</abbr></th>\n                                        <th><abbr title=\"Requesting Physician\">Requesting Physician</abbr></th>\n                                        \n                                        {/* <th><abbr title=\"Actions\">Actions</abbr></th> */}\n                                        </tr>\n                                    </thead>\n                                    <tfoot>\n                                        \n                                    </tfoot>\n                                    <tbody>\n                                        {state.DispenseModule.selectedDispense.orders.map((order, i)=>(\n\n                                            <tr key={order._id} onClick={()=>handleRow(order)} className={order._id===(selectedMedication?._id||null)?\"is-selected\":\"\"}>\n                                            \n                                               <th>{i+1}</th>\n                                                 {/* <td>{ProductEntry.clientname}</td> \n                                                <td>{ProductEntry.orders.length}</td> */}\n                                           \n                                           \n                                            <td><span>{format(new Date(order.createdAt),'dd-MM-yy')}</span></td> {/* {formatDistanceToNowStrict(new Date(ProductEntry.createdAt),{addSuffix: true})} <br/> */} \n                                          <th>{order.order}</th>\n                                            <td>{order.fulfilled===\"True\"?\"Yes\":\"No\"}</td>\n                                            <td>{order.order_status}</td>\n                                            <td>{order.requestingdoctor_Name}</td>\n                                            \n                                           {/*  <td><span className=\"showAction\"  >...</span></td> */}\n                                           \n                                            </tr>\n\n                                        ))}\n                                    </tbody>\n                                    </table>\n                        \n                </div>              \n               \n            </div>\n        </div>\n        </>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}