{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _toConsumableArray from\"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext,useEffect,useRef}from'react';import{useForm}from\"react-hook-form\";import{formatDistanceToNowStrict,format,subDays,addDays}from'date-fns';import client from'../../../feathers';import{toast}from'bulma-toast';import{UserContext,ObjectContext}from'../../../context';var VitalSignChart=function VitalSignChart(){var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,setValue=_useForm.setValue;var fluidTypeOptions=[\"Input\",\"Output\"];var _useContext=useContext(UserContext),user=_useContext.user,setUser=_useContext.setUser;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),facilities=_useState2[0],setFacilities=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),selectedFluid=_useState4[0],setSelectedFluid=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),chosen=_useState6[0],setChosen=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),chosen1=_useState8[0],setChosen1=_useState8[1];var _useState9=useState(true),_useState10=_slicedToArray(_useState9,2),chosen2=_useState10[0],setChosen2=_useState10[1];var _useContext2=useContext(ObjectContext),state=_useContext2.state;var _useState11=useState(\"Draft\"),_useState12=_slicedToArray(_useState11,2),docStatus=_useState12[0],setDocStatus=_useState12[1];var ClientServ=client.service('clinicaldocument');var fac=useRef([]);var struc=useRef([]);var handleRow=function handleRow(){console.log(\"let's pray\");};var draftDoc=state.DocumentClassModule.selectedDocumentClass.document;var checkonadmission=function checkonadmission(){console.log(state.ClientModule.selectedClient.admission_id);if(!!state.ClientModule.selectedClient.admission_id){setChosen2(false);}else{toast({message:'Patient not on admission',type:'is-danger',dismissible:true,pauseOnHover:true});}};useEffect(function(){checkonadmission();findexistingChart();return function(){};},[draftDoc]);var findexistingChart=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var findClinic;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return ClientServ.find({query:{client:state.ClientModule.selectedClient._id,facility:user.currentEmployee.facilityDetail._id,documentname:state.DocumentClassModule.selectedDocumentClass.name,episodeofcare_id:state.ClientModule.selectedClient.admission_id,$limit:20,$sort:{createdAt:-1}}});case 2:findClinic=_context.sent;fac.current=findClinic.data[0];//console.log(fac.current)\nif(findClinic.total>1){setChosen1(false);setFacilities(fac.current.documentdetail.recordings);}case 5:case\"end\":return _context.stop();}}},_callee);}));return function findexistingChart(){return _ref.apply(this,arguments);};}();useEffect(function(){if(!!draftDoc&&draftDoc.status===\"Draft\"){/*  Object.entries(draftDoc.documentdetail).map(([keys,value],i)=>(\n                  setValue(keys, value,  {\n                      shouldValidate: true,\n                      shouldDirty: true\n                  })\n\n              )) */setFacilities(draftDoc.documentdetail.recordings);// setAllergies(draftDoc.documentdetail.Allergy_Skin_Test)\n}return function(){draftDoc={};};},[draftDoc]);var handleSave=function handleSave(){var document={};var data={};data.recordings=facilities;// data.createdby=user._id\nif(user.currentEmployee){document.facility=user.currentEmployee.facilityDetail._id;document.facilityname=user.currentEmployee.facilityDetail.facilityName;// or from facility dropdown\n}document.documentdetail=data;document.documentname=state.DocumentClassModule.selectedDocumentClass.name;document.documentClassId=state.DocumentClassModule.selectedDocumentClass._id;document.location=state.ClinicModule.selectedClinic.name+\" \"+state.ClinicModule.selectedClinic.locationType;document.locationId=state.ClinicModule.selectedClinic._id;document.client=state.ClientModule.selectedClient._id;document.createdBy=user._id;document.createdByname=user.firstname+\" \"+user.lastname;document.status=docStatus===\"Draft\"?\"Draft\":\"completed\";document.episodeofcare_id=state.ClientModule.selectedClient.admission_id;console.log(document);// alert(document.status)\nClientServ.create(document).then(function(res){setChosen(true);toast({message:'Fluid Input/Output entry successful',type:'is-success',dismissible:true,pauseOnHover:true});}).catch(function(err){toast({message:'Error creating Appointment '+err,type:'is-danger',dismissible:true,pauseOnHover:true});});};var onSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(data,e){var document;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:// console.log(state.DocumentClassModule.selectedDocumentClass)\nconsole.log(state.employeeLocation.locationName);e.preventDefault();data.entrytime=new Date();data.location=state.employeeLocation.locationName+\" \"+state.employeeLocation.locationType;data.locationId=state.employeeLocation.locationId;data.episodeofcare_id=state.ClientModule.selectedClient.admission_id;data.createdBy=user._id;data.createdByname=user.firstname+\" \"+user.lastname;// await update(data)\nstruc.current=[data].concat(_toConsumableArray(facilities));// console.log(struc.current)\nsetFacilities(function(prev){return[data].concat(_toConsumableArray(facilities));});// data.recordings=facilities\ne.target.reset();setChosen(false);//handleSave()\ndocument={};data={};data.recordings=struc.current;// data.createdby=user._id\nif(user.currentEmployee){document.facility=user.currentEmployee.facilityDetail._id;document.facilityname=user.currentEmployee.facilityDetail.facilityName;// or from facility dropdown\n}document.documentdetail=data;document.documentname=state.DocumentClassModule.selectedDocumentClass.name;document.documentClassId=state.DocumentClassModule.selectedDocumentClass._id;document.location=state.employeeLocation.locationName+\" \"+state.employeeLocation.locationType;document.locationId=state.employeeLocation.locationId;document.client=state.ClientModule.selectedClient._id;document.createdBy=user._id;document.createdByname=user.firstname+\" \"+user.lastname;document.status=docStatus===\"Draft\"?\"Draft\":\"completed\";document.episodeofcare_id=state.ClientModule.selectedClient.admission_id;console.log(document);// alert(document.status)\nif(chosen1){ClientServ.create(document).then(function(res){setChosen(true);toast({message:'Vital Signs entry successful',type:'is-success',dismissible:true,pauseOnHover:true});}).catch(function(err){toast({message:'Fluid Input/Output entry '+err,type:'is-danger',dismissible:true,pauseOnHover:true});});}else{ClientServ.patch(fac.current._id,{documentdetail:document.documentdetail}).then(function(res){setChosen(true);toast({message:'Fluid Input/Output entry successful',type:'is-success',dismissible:true,pauseOnHover:true});}).catch(function(err){toast({message:'Fluid Input/Output entry '+err,type:'is-danger',dismissible:true,pauseOnHover:true});});}case 28:case\"end\":return _context2.stop();}}},_callee2);}));return function onSubmit(_x,_x2){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"p\",{className:\"card-header-title\",children:\"Vital Signs Chart\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-content vscrollable  pt-0\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"columns mb-0 mt-0\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"column\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field \",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small\",children:\"Date & Time\"}),/*#__PURE__*/_jsx(\"p\",{className:\"control is-expanded\",children:/*#__PURE__*/_jsx(\"input\",{ref:register({required:true}),name:\"vitals_time\",className:\"input is-small\",type:\"datetime-local\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"column\"}),/*#__PURE__*/_jsx(\"div\",{className:\"column\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"field is-horizontal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field-body\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left has-icons-right\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register(),name:\"Temperature\",type:\"text\",placeholder:\"Temperature\"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-hospital\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left has-icons-right\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register(),name:\"Pulse\",type:\"text\",placeholder:\"Pulse\"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-map-signs\"})})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field is-horizontal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field-body\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register(),name:\"Respiratory_rate\",type:\"text\",placeholder:\"Respiratory rate\"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\" fas fa-user-md \"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register(),name:\"Random_glucose\",type:\"text\",placeholder:\"Blood Glucose\"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-envelope\"})})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field is-horizontal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field-body\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register(),name:\"Systolic_BP\",type:\"text\",placeholder:\"Systolic BP\"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-envelope\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register(),name:\"Diastolic_BP\",type:\"text\",placeholder:\"Diastolic_BP\"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-envelope\"})})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field is-horizontal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field-body\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register(),name:\"SPO2\",type:\"text\",placeholder:\"SPO2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-envelope\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register(),name:\"Pain\",type:\"text\",placeholder:\"Pain\"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-envelope\"})})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small\",children:\"Comments\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"comments\",className:\"input is-small\",type:\"text\"})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"columns\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"column\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field mt-4\",children:/*#__PURE__*/_jsx(\"button\",{className:\"button is-info is-small\",children:\"Enter\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"column\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field mt-4\"})})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"mx-4 \",children:/*#__PURE__*/_jsx(\"div\",{className:\"table-container pullup vscrola\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table is-striped is-narrow is-hoverable is-fullwidth is-scrollable \",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"abbr\",{title:\"Serial No\",children:\"S/No\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"abbr\",{title:\"Time\",children:\"Date/Time\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"abbr\",{title:\"Last Name\",children:\"Temp\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"abbr\",{title:\"Class\",children:\"Pulse\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"abbr\",{title:\"Location\",children:\"RR  \"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"abbr\",{title:\"Location\",children:\"BP \"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"abbr\",{title:\"Location\",children:\"SPO2\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"abbr\",{title:\"Location\",children:\"Pain\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"abbr\",{title:\"Location\",children:\"RBG\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"abbr\",{title:\"Type\",children:\"Comments\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"abbr\",{title:\"Status\",children:\"Entry Time\"})})]})}),/*#__PURE__*/_jsx(\"tfoot\",{}),/*#__PURE__*/_jsx(\"tbody\",{children:facilities.map(function(Client,i){return/*#__PURE__*/_jsxs(\"tr\",{onClick:function onClick(){return handleRow(Client);},className:Client._id===((selectedFluid===null||selectedFluid===void 0?void 0:selectedFluid._id)||null)?\"is-selected\":\"\",children:[/*#__PURE__*/_jsx(\"th\",{children:i+1}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"strong\",{children:format(new Date(Client.vitals_time),\"HH:mm:ss\")})}),/*#__PURE__*/_jsx(\"th\",{children:Client.Temperature}),/*#__PURE__*/_jsx(\"th\",{children:Client.Pulse}),/*#__PURE__*/_jsx(\"td\",{children:Client.Respiratory_rate}),/*#__PURE__*/_jsxs(\"td\",{children:[Client.Systolic_BP,\"/\",Client.Diastolic_BP]}),/*#__PURE__*/_jsx(\"td\",{children:Client.SPO2}),/*#__PURE__*/_jsx(\"td\",{children:Client.Pain}),/*#__PURE__*/_jsx(\"td\",{children:Client.Random_glucose}),/*#__PURE__*/_jsx(\"td\",{children:Client.comments}),Client.entrytime&&/*#__PURE__*/_jsx(\"td\",{children:format(new Date(Client.entrytime),\"dd-MM HH:mm:ss\")})]},Client._id);})})]})})})]});};export default VitalSignChart;","map":{"version":3,"sources":["/home/mfybaby/Documents/HealthStack2/HS-frontend/src/components/clientForm/forms/vitalSignChart.jsx"],"names":["React","useState","useContext","useEffect","useRef","useForm","formatDistanceToNowStrict","format","subDays","addDays","client","toast","UserContext","ObjectContext","VitalSignChart","register","handleSubmit","setValue","fluidTypeOptions","user","setUser","facilities","setFacilities","selectedFluid","setSelectedFluid","chosen","setChosen","chosen1","setChosen1","chosen2","setChosen2","state","docStatus","setDocStatus","ClientServ","service","fac","struc","handleRow","console","log","draftDoc","DocumentClassModule","selectedDocumentClass","document","checkonadmission","ClientModule","selectedClient","admission_id","message","type","dismissible","pauseOnHover","findexistingChart","find","query","_id","facility","currentEmployee","facilityDetail","documentname","name","episodeofcare_id","$limit","$sort","createdAt","findClinic","current","data","total","documentdetail","recordings","status","handleSave","facilityname","facilityName","documentClassId","location","ClinicModule","selectedClinic","locationType","locationId","createdBy","createdByname","firstname","lastname","create","then","res","catch","err","onSubmit","e","employeeLocation","locationName","preventDefault","entrytime","Date","prev","target","reset","patch","required","map","Client","i","vitals_time","Temperature","Pulse","Respiratory_rate","Systolic_BP","Diastolic_BP","SPO2","Pain","Random_glucose","comments"],"mappings":"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","sourcesContent":["import React, {useState,useContext, useEffect,useRef} from 'react'\n   import { useForm } from \"react-hook-form\";\n   import { formatDistanceToNowStrict, format, subDays,addDays } from 'date-fns'\n   import client from '../../../feathers'\n   import {toast} from 'bulma-toast'\n   import {UserContext,ObjectContext} from '../../../context'\n\nconst VitalSignChart = () => {\n\n  const { register, handleSubmit,setValue} = useForm(); \n  const fluidTypeOptions=[\"Input\",\"Output\"]\n  const {user,setUser} = useContext(UserContext)\n  const [facilities,setFacilities]=useState([])\n  const [selectedFluid,setSelectedFluid]=useState()\n  const [chosen, setChosen]=useState(true)\n    const [chosen1, setChosen1]=useState(true)\n    const [chosen2, setChosen2]=useState(true) \n    const {state}=useContext(ObjectContext)\n    const [docStatus,setDocStatus] = useState(\"Draft\")\n    const ClientServ=client.service('clinicaldocument')\n    const fac = useRef([])\n    const struc = useRef([])\n\n  const handleRow = ()=>{\n    console.log(\"let's pray\")\n  }\n\n  let draftDoc=state.DocumentClassModule.selectedDocumentClass.document\n\n\n      const checkonadmission=()=>{\n        console.log(state.ClientModule.selectedClient.admission_id)\n        if (!!state.ClientModule.selectedClient.admission_id){\n        setChosen2(false)\n        }\n        else{\n          toast({\n            message: 'Patient not on admission',\n            type: 'is-danger',\n            dismissible: true,\n            pauseOnHover: true,\n          })\n        }\n      }\n\n    useEffect(() => {\n      checkonadmission()\n    findexistingChart()\n\n      return () => {\n      \n      }\n    },[draftDoc])\n\n\n        const findexistingChart=async()=>{\n\n          const findClinic= await ClientServ.find(\n            {query: {\n                client:state.ClientModule.selectedClient._id,\n                facility:user.currentEmployee.facilityDetail._id,\n                documentname:state.DocumentClassModule.selectedDocumentClass.name,\n                episodeofcare_id:state.ClientModule.selectedClient.admission_id,\n\n                    $limit:20,\n                    $sort: {\n                        createdAt: -1\n                    }\n                }})\n\n              fac.current=findClinic.data[0]\n              //console.log(fac.current)\n              if (findClinic.total >1) {\n                setChosen1(false)\n                setFacilities(fac.current.documentdetail.recordings)\n              }\n          \n        }\n\n    \n          useEffect(() => {\n            if( !!draftDoc && draftDoc.status===\"Draft\"){\n\n              /*  Object.entries(draftDoc.documentdetail).map(([keys,value],i)=>(\n                  setValue(keys, value,  {\n                      shouldValidate: true,\n                      shouldDirty: true\n                  })\n\n              )) */\n              setFacilities(draftDoc.documentdetail.recordings)\n              // setAllergies(draftDoc.documentdetail.Allergy_Skin_Test)\n              }\n                  return () => {\n                      draftDoc={}\n                  }\n              }, [draftDoc])\n          \n              \n\n\n          const handleSave=()=>{\n            \n            let document={}\n            let data={}\n            data.recordings=facilities\n            // data.createdby=user._id\n            \n\n              if (user.currentEmployee){\n                document.facility=user.currentEmployee.facilityDetail._id \n                document.facilityname=user.currentEmployee.facilityDetail.facilityName // or from facility dropdown\n                }\n              document.documentdetail= data\n                document.documentname=state.DocumentClassModule.selectedDocumentClass.name\n                document.documentClassId=state.DocumentClassModule.selectedDocumentClass._id\n                document.location=state.ClinicModule.selectedClinic.name+\" \"+state.ClinicModule.selectedClinic.locationType\n                document.locationId=state.ClinicModule.selectedClinic._id\n                document.client=state.ClientModule.selectedClient._id\n                document.createdBy=user._id\n                document.createdByname=user.firstname+ \" \"+user.lastname\n                document.status=docStatus===\"Draft\"?\"Draft\":\"completed\"\n                document.episodeofcare_id=state.ClientModule.selectedClient.admission_id\n              console.log(document);\n\n            // alert(document.status)\n              ClientServ.create(document)\n            .then((res)=>{\n                    \n              setChosen(true)\n                \n                    toast({\n                        message: 'Fluid Input/Output entry successful',\n                        type: 'is-success',\n                        dismissible: true,\n                        pauseOnHover: true,\n                      })\n                    \n                })\n                .catch((err)=>{\n                    toast({\n                        message: 'Error creating Appointment ' + err,\n                        type: 'is-danger',\n                        dismissible: true,\n                        pauseOnHover: true,\n                      })\n                }) \n\n          }  \n\n          const onSubmit = async (data,e) =>{\n          // console.log(state.DocumentClassModule.selectedDocumentClass)\n          console.log(state.employeeLocation.locationName)\n            e.preventDefault();\n            data.entrytime=new Date()\n            data.location=state.employeeLocation.locationName+\" \"+state.employeeLocation.locationType\n            data.locationId=state.employeeLocation.locationId\n            data.episodeofcare_id=state.ClientModule.selectedClient.admission_id\n            data.createdBy=user._id\n            data.createdByname=user.firstname+ \" \"+user.lastname\n\n          // await update(data)\n          struc.current=[data,...facilities]\n          // console.log(struc.current)\n            setFacilities((prev)=>[data, ...facilities])\n          // data.recordings=facilities\n          e.target.reset();\n          setChosen(false)\n          //handleSave()\n          let document={}\n            data={}\n            data.recordings=struc.current\n            // data.createdby=user._id\n            \n\n              if (user.currentEmployee){\n                document.facility=user.currentEmployee.facilityDetail._id \n                document.facilityname=user.currentEmployee.facilityDetail.facilityName // or from facility dropdown\n                }\n              document.documentdetail= data\n                document.documentname=state.DocumentClassModule.selectedDocumentClass.name\n                document.documentClassId=state.DocumentClassModule.selectedDocumentClass._id\n                document.location=state.employeeLocation.locationName+\" \"+state.employeeLocation.locationType\n                document.locationId=state.employeeLocation.locationId\n                document.client=state.ClientModule.selectedClient._id\n                document.createdBy=user._id\n                document.createdByname=user.firstname+ \" \"+user.lastname\n                document.status=docStatus===\"Draft\"?\"Draft\":\"completed\"\n                document.episodeofcare_id=state.ClientModule.selectedClient.admission_id\n              console.log(document);\n\n            // alert(document.status)\n            if (chosen1){\n\n              ClientServ.create(document)\n            .then((res)=>{\n                    \n              setChosen(true)\n                \n                    toast({\n                        message: 'Vital Signs entry successful',\n                        type: 'is-success',\n                        dismissible: true,\n                        pauseOnHover: true,\n                      })\n                    \n                })\n                .catch((err)=>{\n                    toast({\n                        message: 'Fluid Input/Output entry ' + err,\n                        type: 'is-danger',\n                        dismissible: true,\n                        pauseOnHover: true,\n                      })\n                }) \n\n        \n          }  else{\n            ClientServ.patch(fac.current._id,{documentdetail:document.documentdetail})\n            .then((res)=>{\n                    \n              setChosen(true)\n                \n                    toast({\n                        message: 'Fluid Input/Output entry successful',\n                        type: 'is-success',\n                        dismissible: true,\n                        pauseOnHover: true,\n                      })\n                    \n                })\n                .catch((err)=>{\n                    toast({\n                        message: 'Fluid Input/Output entry ' + err,\n                        type: 'is-danger',\n                        dismissible: true,\n                        pauseOnHover: true,\n                      })\n                }) \n\n          }\n        }\n       \n  return (\n   \n      \n      <div className=\"card\">\n        <div className=\"card-header\">\n          <p className=\"card-header-title\">Vital Signs Chart</p>\n        </div>\n        <div className=\"card-content vscrollable  pt-0\">\n        <form onSubmit={handleSubmit(onSubmit)}>\n          <div className=\"columns mb-0 mt-0\"> \n          <div className=\"column\"> \n           <div className=\"field \">\n                <label className=\"label is-small\">Date & Time</label>\n                <p className=\"control is-expanded\">\n                  <input ref={register ({ required: true })} name=\"vitals_time\" className=\"input is-small\" type=\"datetime-local\" />\n                </p>\n          </div>\n        </div>\n        <div className=\"column\"> \n       \n          </div>\n          <div className=\"column\"> \n         \n              </div>\n              </div> \n              <div className=\"field is-horizontal\">\n                <div className=\"field-body\">\n                    <div className=\"field\">\n                        <p className=\"control has-icons-left has-icons-right\">\n                            <input className=\"input is-small\" ref={register()}  name=\"Temperature\" type=\"text\" placeholder=\"Temperature\" />\n                            <span className=\"icon is-small is-left\">\n                                <i className=\"fas fa-hospital\"></i>\n                            </span>                    \n                        </p>\n                    </div>\n                \n                \n                    <div className=\"field\">\n                        <p className=\"control has-icons-left has-icons-right\">\n                        <input className=\"input is-small\" ref={register()}  name=\"Pulse\" type=\"text\" placeholder=\"Pulse\" />\n                        <span className=\"icon is-small is-left\">\n                            <i className=\"fas fa-map-signs\"></i>\n                        </span>\n                        \n                        </p>\n                    </div>\n                    </div>\n                    </div>\n            <div className=\"field is-horizontal\">\n                <div className=\"field-body\">   \n                <div className=\"field\">\n                    <p className=\"control has-icons-left\">\n                        <input className=\"input is-small\" ref={register()} name=\"Respiratory_rate\" type=\"text\" placeholder=\"Respiratory rate\"/>\n                        <span className=\"icon is-small is-left\">\n                        <i className=\" fas fa-user-md \"></i>\n                        </span>\n                    </p>\n                </div>\n                <div className=\"field\">\n                    <p className=\"control has-icons-left\">\n                    \n                        <input className=\"input is-small\" ref={register()} name=\"Random_glucose\" type=\"text\" placeholder=\"Blood Glucose\"  />\n                        <span className=\"icon is-small is-left\">\n                        <i className=\"fas fa-envelope\"></i>\n                        </span>\n                    </p>\n                </div> \n            </div>  \n        </div>\n        <div className=\"field is-horizontal\">\n            <div className=\"field-body\">\n                <div className=\"field\">\n                    <p className=\"control has-icons-left\">\n                    \n                        <input className=\"input is-small\" ref={register()} name=\"Systolic_BP\" type=\"text\" placeholder=\"Systolic BP\"  />\n                        <span className=\"icon is-small is-left\">\n                        <i className=\"fas fa-envelope\"></i>\n                        </span>\n                    </p>\n                </div> \n                <div className=\"field\">\n                    <p className=\"control has-icons-left\">\n                    \n                        <input className=\"input is-small\" ref={register()} name=\"Diastolic_BP\" type=\"text\" placeholder=\"Diastolic_BP\"  />\n                        <span className=\"icon is-small is-left\">\n                        <i className=\"fas fa-envelope\"></i>\n                        </span>\n                    </p>\n                </div> \n                </div> \n                </div> \n            <div className=\"field is-horizontal\">\n             <div className=\"field-body\">\n                <div className=\"field\">\n                    <p className=\"control has-icons-left\">\n                    \n                        <input className=\"input is-small\" ref={register()} name=\"SPO2\" type=\"text\" placeholder=\"SPO2\"  />\n                        <span className=\"icon is-small is-left\">\n                        <i className=\"fas fa-envelope\"></i>\n                        </span>\n                    </p>\n                </div> \n                <div className=\"field\">\n                    <p className=\"control has-icons-left\">\n                    \n                        <input className=\"input is-small\" ref={register()} name=\"Pain\" type=\"text\" placeholder=\"Pain\"  />\n                        <span className=\"icon is-small is-left\">\n                        <i className=\"fas fa-envelope\"></i>\n                        </span>\n                    </p>\n                </div> \n            </div>\n        </div>\n        {/* <div className=\"field is-horizontal\">\n            <div className=\"field-body\">\n            <div className=\"field\">\n                    <p className=\"control has-icons-left\">\n                    \n                        <input className=\"input is-small\" ref={register()} name=\"Height\" type=\"text\" placeholder=\"Height (m)\"  />\n                        <span className=\"icon is-small is-left\">\n                        <i className=\"fas fa-envelope\"></i>\n                        </span>\n                    </p>\n                </div> \n                <div className=\"field\">\n                    <p className=\"control has-icons-left\">\n                    \n                        <input className=\"input is-small\" ref={register()} name=\"Weight\" type=\"text\" placeholder=\"Weight (Kg)\"  />\n                        <span className=\"icon is-small is-left\">\n                        <i className=\"fas fa-envelope\"></i>\n                        </span>\n                    </p>\n                </div> \n                \n            </div> \n        </div>  */}\n        {/* <div className=\"field\">\n                    <label className=\" is-small\">\n                        <input  type=\"radio\"  checked={docStatus===\"Draft\"} name=\"status\" value=\"Draft\"  onChange={(e)=>{handleChangeStatus(e)}}/>\n                        <span > Draft</span>\n                    </label> <br/>\n                    <label className=\" is-small\">\n                        <input type=\"radio\" checked={docStatus===\"Final\"} name=\"status\"  value=\"Final\" onChange={(e)=>handleChangeStatus(e)}/>\n                        <span> Final </span>\n                    </label>\n                </div>   */}\n               \n         \n\n         \n          <div className=\"field-body\">\n            <div className=\"field\">\n              <label className=\"label is-small\">Comments</label>\n              <div className=\"control\">\n                <input ref={register} name=\"comments\" className=\"input is-small\" type=\"text\"/>\n              </div>\n            </div>\n          </div>\n          <div className=\"columns\">\n          <div className=\"column\">\n            \n          <div className=\"field mt-4\">\n            <button className=\"button is-info is-small\">Enter</button>\n          </div>\n          </div>\n          <div className=\"column\">\n          <div className=\"field mt-4\">\n           {/*  <button className=\"button is-success is-small is-pulled-right\" disabled={chosen} onClick={handleSave}>save</button> */}\n          </div>\n          </div>\n          </div>\n          </form>\n        \n        </div>\n        < div className=\"mx-4 \" >\n        <div className=\"table-container pullup vscrola\">\n                                <table className=\"table is-striped is-narrow is-hoverable is-fullwidth is-scrollable \">\n                                    <thead>\n                                        <tr>\n                                        <th><abbr title=\"Serial No\">S/No</abbr></th>\n                                        <th><abbr title=\"Time\">Date/Time</abbr></th>\n                                        {/* <th>Type</th> */}\n                                       <th><abbr title=\"Last Name\">Temp</abbr></th>\n                                       <th><abbr title=\"Class\">Pulse</abbr></th>\n                                        <th><abbr title=\"Location\">RR  </abbr></th> \n                                        <th><abbr title=\"Location\">BP </abbr></th> \n                                        <th><abbr title=\"Location\">SPO2</abbr></th>\n                                        <th><abbr title=\"Location\">Pain</abbr></th>  \n                                        <th><abbr title=\"Location\">RBG</abbr></th> \n                                        <th><abbr title=\"Type\">Comments</abbr></th>\n                                         <th><abbr title=\"Status\">Entry Time</abbr></th>\n                                       {/* <th><abbr title=\"Reason\">Reason</abbr></th>\n                                        <th><abbr title=\"Practitioner\">Practitioner</abbr></th> */}\n                                        {/* <th><abbr title=\"Actions\">Actions</abbr></th> */}\n                                        </tr>\n                                    </thead>\n                                    <tfoot>                                      \n                                    </tfoot>\n                                    <tbody>\n                                        {facilities.map((Client, i)=>(\n\n                                            <tr key={Client._id} onClick={()=>handleRow(Client)}  className={Client._id===(selectedFluid?._id||null)?\"is-selected\":\"\"}>\n                                            <th>{i+1}</th>\n                                            <td><strong>{format(new Date(Client.vitals_time),\"HH:mm:ss\")}</strong></td>\n                                            <th>{Client.Temperature}</th>\n                                            <th>{Client.Pulse}</th>\n                                            <td>{Client.Respiratory_rate}</td>\n                                            <td>{ Client.Systolic_BP}/{Client.Diastolic_BP}</td>\n                                           <td>{Client.SPO2}</td>\n                                           <td>{Client.Pain}</td>\n                                           <td>{Client.Random_glucose}</td>\n                                        {/*    <td>{Client.Height}</td>\n                                           <td>{Client.Weight}</td> */}\n\n                                         \n                                            <td>{Client.comments}</td>\n                                          {Client.entrytime &&  <td>{format(new Date(Client.entrytime),\"dd-MM HH:mm:ss\")}</td>}\n                                       \n                                           \n                                            </tr>\n\n                                        ))}\n                                    </tbody>\n                                    </table>\n                                    \n                </div>  \n\n    </div>\n      </div>\n    \n  );\n};\n\nexport default VitalSignChart;\n"]},"metadata":{},"sourceType":"module"}