{"ast":null,"code":"import _defineProperty from\"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/* eslint-disable */import React,{useState,useContext,useEffect,useRef}from'react';import client from'../../feathers';import{DebounceInput}from'react-debounce-input';import{useForm}from\"react-hook-form\";import{format,formatDistanceToNowStrict}from'date-fns';//import {useHistory} from 'react-router-dom'\nimport{UserContext,ObjectContext}from'../../context';import{toast}from'bulma-toast';// eslint-disable-next-line\nvar searchfacility={};export default function Expense(){var _useContext=useContext(ObjectContext),state=_useContext.state;//,setState\n// eslint-disable-next-line\nvar _useState=useState(),_useState2=_slicedToArray(_useState,2),selectedLocation=_useState2[0],setSelectedLocation=_useState2[1];//const [showState,setShowState]=useState() //create|modify|detail\nreturn/*#__PURE__*/_jsx(\"section\",{className:\"section remPadTop\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"columns \",children:[/*#__PURE__*/_jsx(\"div\",{className:\"column is-1\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"column is-10  \",children:[/*#__PURE__*/_jsx(ExpenseCreate,{}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2\",children:/*#__PURE__*/_jsx(ExpenseList,{})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"column is-1\"})]})});}export function ExpenseCreate(){var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,setValue=_useForm.setValue;//, watch, errors, reset \nvar _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),success=_useState6[0],setSuccess=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),message=_useState8[0],setMessage=_useState8[1];// eslint-disable-next-line\nvar _useState9=useState(),_useState10=_slicedToArray(_useState9,2),facility=_useState10[0],setFacility=_useState10[1];var accountServ=client.service('expense');//const history = useHistory()\nvar _useContext2=useContext(UserContext),user=_useContext2.user;//,setUser\n// eslint-disable-next-line\nvar _useState11=useState(),_useState12=_slicedToArray(_useState11,2),currentUser=_useState12[0],setCurrentUser=_useState12[1];var sourceTypeOptions=[\"Cash\",\"Bank\"];var getSearchfacility=function getSearchfacility(obj){setValue(\"facility\",obj._id,{shouldValidate:true,shouldDirty:true});};useEffect(function(){setCurrentUser(user);//console.log(currentUser)\nreturn function(){};},[user]);//check user for facility or get list of facility  \nuseEffect(function(){//setFacility(user.activeLocation.FacilityId)//\nif(!user.stacker){console.log(currentUser);setValue(\"facility\",user.currentEmployee.facilityDetail._id,{shouldValidate:true,shouldDirty:true});}});var onSubmit=function onSubmit(data,e){e.preventDefault();/*  if (data.locationType===\"\"){\n            alert(\"Kindly choose location type\")\n            return\n        } */setMessage(\"\");setError(false);setSuccess(false);// data.createdby=user._id\nconsole.log(data);if(user.currentEmployee){data.facility=user.currentEmployee.facilityDetail._id;// or from facility dropdown\ndata.createdby=user.firstname+\" \"+user.lastname;data.userid=user._id;}accountServ.create(data).then(function(res){//console.log(JSON.stringify(res))\ne.target.reset();/*  setMessage(\"Created Location successfully\") */setSuccess(true);toast({message:'Account created succesfully',type:'is-success',dismissible:true,pauseOnHover:true});setSuccess(false);}).catch(function(err){toast({message:'Error creating Account '+err,type:'is-danger',dismissible:true,pauseOnHover:true});});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"card \",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"p\",{className:\"card-header-title\",children:\"Create Account\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-content vscrollable\",children:/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit(onSubmit),children:/*#__PURE__*/_jsx(\"div\",{class:\"field is-horizontal\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"field-body\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"div\",{className:\"select is-small \",children:/*#__PURE__*/_jsxs(\"select\",{name:\"source\",ref:register({required:true}),className:\"selectadd\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Choose Source \"}),sourceTypeOptions.map(function(option,i){return/*#__PURE__*/_jsxs(\"option\",{value:option,children:[\" \",option]},i);})]})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left has-icons-right\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register({required:true}),name:\"expenseAccount_name\",type:\"text\",placeholder:\"Expense Account Name\"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-map-signs\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left has-icons-right\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register({required:true}),name:\"description\",type:\"text\",placeholder:\"Description\"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-map-signs\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left has-icons-right\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register({required:true}),name:\"payee\",type:\"text\",placeholder:\"Payee\"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-map-signs\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left has-icons-right\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register({required:true}),name:\"amount\",type:\"text\",placeholder:\"Amount\"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-map-signs\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsx(\"p\",{className:\"control\",children:/*#__PURE__*/_jsx(\"button\",{className:\"button is-success is-small\",children:\"Add\"})})})]})})})})]})});}export function ExpenseList(){// const { register, handleSubmit, watch, errors } = useForm();\n// eslint-disable-next-line\nvar _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),error=_useState14[0],setError=_useState14[1];// eslint-disable-next-line\nvar _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),success=_useState16[0],setSuccess=_useState16[1];// eslint-disable-next-line\nvar _useState17=useState(\"\"),_useState18=_slicedToArray(_useState17,2),message=_useState18[0],setMessage=_useState18[1];var LocationServ=client.service('expense');//const history = useHistory()\n// const {user,setUser} = useContext(UserContext)\nvar _useState19=useState([]),_useState20=_slicedToArray(_useState19,2),facilities=_useState20[0],setFacilities=_useState20[1];// eslint-disable-next-line\nvar _useState21=useState(),_useState22=_slicedToArray(_useState21,2),selectedLocation=_useState22[0],setSelectedLocation=_useState22[1];//\n// eslint-disable-next-line\nvar _useContext3=useContext(ObjectContext),state=_useContext3.state,setState=_useContext3.setState;// eslint-disable-next-line\nvar _useContext4=useContext(UserContext),user=_useContext4.user,setUser=_useContext4.setUser;var handleCreateNew=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var newLocationModule;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:newLocationModule={selectedAccount:{},show:'create'};_context.next=3;return setState(function(prevstate){return _objectSpread(_objectSpread({},prevstate),{},{ChartAccountModule:newLocationModule});});case 3:case\"end\":return _context.stop();}}},_callee);}));return function handleCreateNew(){return _ref.apply(this,arguments);};}();var handleRow=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(Location){var newLocationModule;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return setSelectedLocation(Location);case 2:newLocationModule={selectedAccount:Location,show:'detail'};_context2.next=5;return setState(function(prevstate){return _objectSpread(_objectSpread({},prevstate),{},{ChartAccountModule:newLocationModule});});case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function handleRow(_x){return _ref2.apply(this,arguments);};}();var handleSearch=function handleSearch(val){var _query;var field='name';console.log(val);LocationServ.find({query:(_query={},_defineProperty(_query,field,{$regex:val,$options:'i'}),_defineProperty(_query,\"facility\",user.currentEmployee.facilityDetail._id||\"\"),_defineProperty(_query,\"$limit\",100),_defineProperty(_query,\"$sort\",{accountType:1}),_query)}).then(function(res){console.log(res);setFacilities(res.data);setMessage(\" Location  fetched successfully\");setSuccess(true);}).catch(function(err){console.log(err);setMessage(\"Error fetching Location, probable network issues \"+err);setError(true);});};var getFacilities=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var findLocation,_findLocation;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!user.currentEmployee){_context3.next=8;break;}_context3.next=3;return LocationServ.find({query:{facility:user.currentEmployee.facilityDetail._id,$limit:2000,$sort:{createdAt:-1}}});case 3:findLocation=_context3.sent;_context3.next=6;return setFacilities(findLocation.data);case 6:_context3.next=14;break;case 8:if(!user.stacker){_context3.next=14;break;}_context3.next=11;return LocationServ.find({query:{$limit:2000,$sort:{facility:-1}}});case 11:_findLocation=_context3.sent;_context3.next=14;return setFacilities(_findLocation.data);case 14:case\"end\":return _context3.stop();}}},_callee3);}));return function getFacilities(){return _ref3.apply(this,arguments);};}();useEffect(function(){return function(){};},[]);useEffect(function(){if(user){getFacilities();}else{/* const localUser= localStorage.getItem(\"user\")\n                    const user1=JSON.parse(localUser)\n                    console.log(localUser)\n                    console.log(user1)\n                    fetchUser(user1)\n                    console.log(user)\n                    getFacilities(user) */}LocationServ.on('created',function(obj){return getFacilities();});LocationServ.on('updated',function(obj){return getFacilities();});LocationServ.on('patched',function(obj){return getFacilities();});LocationServ.on('removed',function(obj){return getFacilities();});return function(){};},[]);//todo: pagination and vertical scroll bar\nreturn/*#__PURE__*/_jsx(_Fragment,{children:user?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"level\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"level-left\",children:/*#__PURE__*/_jsx(\"div\",{className:\"level-item\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left  \",children:[/*#__PURE__*/_jsx(DebounceInput,{className:\"input is-small \",type:\"text\",placeholder:\"Search Expenses\",minLength:3,debounceTimeout:400,onChange:function onChange(e){return handleSearch(e.target.value);}}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-search\"})})]})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"level-item\",children:[\" \",/*#__PURE__*/_jsx(\"span\",{className:\"is-size-6 has-text-weight-medium\",children:\"List of Expenses \"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"table-container pullup \",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table is-striped is-narrow is-hoverable is-fullwidth is-scrollable \",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"abbr\",{title:\"Serial No\",children:\"S/No\"})}),/*#__PURE__*/_jsx(\"th\",{children:\"Source\"}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"abbr\",{title:\"Expense Accounte\",children:\"Expense Account\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"abbr\",{title:\"Descriptions\",children:\"Description\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"abbr\",{title:\"Payee\",children:\"Payee\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"abbr\",{title:\"Amount\",children:\"Amount\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"abbr\",{title:\"User\",children:\"User\"})})]})}),/*#__PURE__*/_jsx(\"tfoot\",{}),/*#__PURE__*/_jsx(\"tbody\",{children:facilities.map(function(Location,i){return/*#__PURE__*/_jsxs(\"tr\",{onClick:function onClick(){return handleRow(Location);},className:Location._id===((selectedLocation===null||selectedLocation===void 0?void 0:selectedLocation._id)||null)?\"is-selected\":\"\",children:[/*#__PURE__*/_jsx(\"th\",{children:i+1}),/*#__PURE__*/_jsx(\"th\",{children:Location.source}),/*#__PURE__*/_jsx(\"td\",{children:Location.expenseAccount_name}),/*#__PURE__*/_jsx(\"td\",{children:Location.description}),/*#__PURE__*/_jsx(\"td\",{children:Location.payee}),/*#__PURE__*/_jsx(\"td\",{children:Location.amount}),/*#__PURE__*/_jsx(\"td\",{children:Location.createdby}),user.stacker&&/*#__PURE__*/_jsx(\"td\",{children:Location.facility})]},Location._id);})})]})})]}):/*#__PURE__*/_jsx(\"div\",{children:\"loading\"})});}export function ExpenseDetail(){var _Location$sublocation,_Location$sublocation2,_Location$sublocation3,_Location$sublocation4;var _useForm2=useForm(),register=_useForm2.register,handleSubmit=_useForm2.handleSubmit,watch=_useForm2.watch,setValue=_useForm2.setValue,reset=_useForm2.reset;//errors,\n// eslint-disable-next-line\nvar _useState23=useState(false),_useState24=_slicedToArray(_useState23,2),error=_useState24[0],setError=_useState24[1];//, \n//const [success, setSuccess] =useState(false)\n// eslint-disable-next-line\nvar _useState25=useState(\"\"),_useState26=_slicedToArray(_useState25,2),message=_useState26[0],setMessage=_useState26[1];//,\n//const LocationServ=client.service('/Location')\n//const history = useHistory()\n//const {user,setUser} = useContext(UserContext)\nvar _useState27=useState(false),_useState28=_slicedToArray(_useState27,2),showSub=_useState28[0],setShowSub=_useState28[1];var _useState29=useState(false),_useState30=_slicedToArray(_useState29,2),showUpdate=_useState30[0],setShowUpdate=_useState30[1];var _useContext5=useContext(ObjectContext),state=_useContext5.state,setState=_useContext5.setState;var LocationServ=client.service('expense');var sublocationTypeOptions=[\"Bed\",\"Unit\"];var Location=state.LocationModule.selectedLocation;var handleEdit=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var newLocationModule;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:newLocationModule={selectedLocation:Location,show:'modify'};_context4.next=3;return setState(function(prevstate){return _objectSpread(_objectSpread({},prevstate),{},{LocationModule:newLocationModule});});case 3:case\"end\":return _context4.stop();}}},_callee4);}));return function handleEdit(){return _ref4.apply(this,arguments);};}();var handleSublocation=function handleSublocation(){setShowSub(true);// show popup to create new sublocation.\n};var onSubmit=function onSubmit(data,e){e.preventDefault();if(data.type===\"\"||data.typeName===\"\"){alert(\"Kindly enter missing data \");return;}console.log(data);/*   if (user.currentEmployee){\n         data.facility=user.currentEmployee.facilityDetail._id  // or from facility dropdown\n          } */if(!Location.sublocations){Location.sublocations=[];}Location.sublocations.push(data);reset();setShowUpdate(true);};var handleUpdate=function handleUpdate(){LocationServ.patch(Location._id,Location).then(function(res){//console.log(JSON.stringify(res))\n// e.target.reset();\n// setMessage(\"updated Location successfully\")\ntoast({message:'Location updated succesfully',type:'is-success',dismissible:true,pauseOnHover:true});setShowUpdate(false);}).catch(function(err){//setMessage(\"Error creating Location, probable network issues \"+ err )\n// setError(true)\ntoast({message:\"Error updating Location, probable network issues or \"+err,type:'is-danger',dismissible:true,pauseOnHover:true});});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"card \",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"p\",{className:\"card-header-title\",children:\"Location Details\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-content vscrollable\",children:[/*#__PURE__*/_jsx(\"table\",{children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"label\",{className:\"label is-small\",children:[\" \",/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-hospital\"})}),\"Name:\"]})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"span\",{className:\"is-size-7 padleft\",name:\"name\",children:[\" \",Location.name,\" \"]})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"label\",{className:\"label is-small\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-map-signs\"})}),\"Location Type:\"]})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"span\",{className:\"is-size-7 padleft\",name:\"LocationType\",children:[Location.locationType,\" \"]})})]})]})}),(((_Location$sublocation=Location.sublocations)===null||_Location$sublocation===void 0?void 0:_Location$sublocation.length)>0||showSub)&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-size-7 mt-2\",children:\"Sublocations:\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit(onSubmit),children:/*#__PURE__*/_jsx(\"div\",{class:\"field is-horizontal\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"field-body\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"div\",{className:\"select is-small \",children:/*#__PURE__*/_jsxs(\"select\",{name:\"type\",ref:register({required:true})/* onChange={(e)=>handleChangeMode(e.target.value)} */,className:\"selectadd\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Choose Sub-location Type \"}),sublocationTypeOptions.map(function(option,i){return/*#__PURE__*/_jsxs(\"option\",{value:option,children:[\" \",option]},i);})]})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left has-icons-right\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register({required:true}),name:\"typeName\",type:\"text\",placeholder:\"Name of Sub-location\"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-map-signs\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsx(\"p\",{className:\"control\",children:/*#__PURE__*/_jsx(\"button\",{className:\"button is-success is-small selectadd\",children:\"Add\"})})})]})})})}),((_Location$sublocation2=Location.sublocations)===null||_Location$sublocation2===void 0?void 0:_Location$sublocation2.length)>0&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"table\",{className:\"table is-striped  is-hoverable is-fullwidth is-scrollable \",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"abbr\",{title:\"Serial No\",children:\"S/No\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"abbr\",{title:\"Type\",children:\"Type\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"abbr\",{title:\"Name\",children:\"Name\"})})]})}),/*#__PURE__*/_jsx(\"tfoot\",{}),/*#__PURE__*/_jsx(\"tbody\",{children:(_Location$sublocation3=Location.sublocations)===null||_Location$sublocation3===void 0?void 0:_Location$sublocation3.map(function(ProductEntry,i){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:i+1}),/*#__PURE__*/_jsx(\"td\",{children:ProductEntry.type}),/*#__PURE__*/_jsx(\"td\",{children:ProductEntry.typeName})]},i);})})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field mt-2  is-grouped\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"control\",children:/*#__PURE__*/_jsx(\"button\",{className:\"button is-success is-small\",onClick:handleEdit,children:\"Edit\"})}),!showSub&&/*#__PURE__*/_jsx(\"p\",{className:((_Location$sublocation4=Location.sublocations)===null||_Location$sublocation4===void 0?void 0:_Location$sublocation4.length)>0?\"is-hidden control\":\" control\",children:/*#__PURE__*/_jsx(\"button\",{className:\"button is-info is-small\",onClick:handleSublocation,children:\"Create Sublocation\"})}),showUpdate&&/*#__PURE__*/_jsx(\"p\",{className:\"control\",children:/*#__PURE__*/_jsx(\"button\",{className:\"button is-info is-small\",onClick:handleUpdate,children:\"Update\"})})]})]})]})});}export function ExpenseModify(){var _useForm3=useForm(),register=_useForm3.register,handleSubmit=_useForm3.handleSubmit,setValue=_useForm3.setValue,reset=_useForm3.reset,errors=_useForm3.errors;//watch, errors,\n// eslint-disable-next-line \nvar _useState31=useState(false),_useState32=_slicedToArray(_useState31,2),error=_useState32[0],setError=_useState32[1];// eslint-disable-next-line \nvar _useState33=useState(false),_useState34=_slicedToArray(_useState33,2),success=_useState34[0],setSuccess=_useState34[1];// eslint-disable-next-line \nvar _useState35=useState(\"\"),_useState36=_slicedToArray(_useState35,2),message=_useState36[0],setMessage=_useState36[1];// eslint-disable-next-line \nvar LocationServ=client.service('expense');//const history = useHistory()\n// eslint-disable-next-line\nvar _useContext6=useContext(UserContext),user=_useContext6.user;var _useContext7=useContext(ObjectContext),state=_useContext7.state,setState=_useContext7.setState;var Location=state.LocationModule.selectedLocation;useEffect(function(){setValue(\"name\",Location.name,{shouldValidate:true,shouldDirty:true});setValue(\"locationType\",Location.locationType,{shouldValidate:true,shouldDirty:true});/*  setValue(\"profession\", Location.profession,  {\n                shouldValidate: true,\n                shouldDirty: true\n            })\n            setValue(\"phone\", Location.phone,  {\n                shouldValidate: true,\n                shouldDirty: true\n            })\n            setValue(\"email\", Location.email,  {\n                shouldValidate: true,\n                shouldDirty: true\n            })\n            setValue(\"department\", Location.department,  {\n                shouldValidate: true,\n                shouldDirty: true\n            })\n            setValue(\"deptunit\", Location.deptunit,  {\n                shouldValidate: true,\n                shouldDirty: true\n            }) */ /*   setValue(\"LocationCategory\", Location.LocationCategory,  {\n                shouldValidate: true,\n                shouldDirty: true\n            }) */return function(){};});var handleCancel=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){var newLocationModule;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:newLocationModule={selectedLocation:{},show:'create'};_context5.next=3;return setState(function(prevstate){return _objectSpread(_objectSpread({},prevstate),{},{LocationModule:newLocationModule});});case 3:case\"end\":return _context5.stop();}}},_callee5);}));return function handleCancel(){return _ref5.apply(this,arguments);};}();var changeState=function changeState(){var newLocationModule={selectedLocation:{},show:'create'};setState(function(prevstate){return _objectSpread(_objectSpread({},prevstate),{},{LocationModule:newLocationModule});});};var handleDelete=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(){var conf,dleteId;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:conf=window.confirm(\"Are you sure you want to delete this data?\");dleteId=Location._id;if(conf){LocationServ.remove(dleteId).then(function(res){//console.log(JSON.stringify(res))\nreset();/*  setMessage(\"Deleted Location successfully\")\n                setSuccess(true)\n                changeState()\n               setTimeout(() => {\n                setSuccess(false)\n                }, 200); */toast({message:'Location deleted succesfully',type:'is-success',dismissible:true,pauseOnHover:true});changeState();}).catch(function(err){// setMessage(\"Error deleting Location, probable network issues \"+ err )\n// setError(true)\ntoast({message:\"Error deleting Location, probable network issues or \"+err,type:'is-danger',dismissible:true,pauseOnHover:true});});}case 3:case\"end\":return _context6.stop();}}},_callee6);}));return function handleDelete(){return _ref6.apply(this,arguments);};}();/* ()=> setValue(\"firstName\", \"Bill\", , {\n            shouldValidate: true,\n            shouldDirty: true\n          })) */var onSubmit=function onSubmit(data,e){e.preventDefault();setSuccess(false);console.log(data);data.facility=Location.facility;//console.log(data);\nLocationServ.patch(Location._id,data).then(function(res){//console.log(JSON.stringify(res))\n// e.target.reset();\n// setMessage(\"updated Location successfully\")\ntoast({message:'Location updated succesfully',type:'is-success',dismissible:true,pauseOnHover:true});changeState();}).catch(function(err){//setMessage(\"Error creating Location, probable network issues \"+ err )\n// setError(true)\ntoast({message:\"Error updating Location, probable network issues or \"+err,type:'is-danger',dismissible:true,pauseOnHover:true});});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"card \",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"p\",{className:\"card-header-title\",children:\"Location Details-Modify\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-content vscrollable\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"label is-small\",children:[\" Name\",/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left has-icons-right\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input  is-small\",ref:register({required:true}),name:\"name\",type:\"text\",placeholder:\"Name\"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-hospital\"})})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"label is-small\",children:[\"Location Type\",/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left has-icons-right\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input is-small \",ref:register({required:true}),disabled:true,name:\"locationType\",type:\"text\",placeholder:\"Location Type\"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-map-signs\"})})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field  is-grouped mt-2\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"control\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"button is-success is-small\",onClick:handleSubmit(onSubmit),children:\"Save\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"control\",children:/*#__PURE__*/_jsx(\"button\",{className:\"button is-warning is-small\",onClick:handleCancel,children:\"Cancel\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"control\",children:/*#__PURE__*/_jsx(\"button\",{className:\"button is-danger is-small\",onClick:function onClick(){return handleDelete();},type:\"delete\",children:\"Delete\"})})]})]})]})});}export function InputSearch(_ref7){var getSearchfacility=_ref7.getSearchfacility,clear=_ref7.clear;var facilityServ=client.service('facility');var _useState37=useState([]),_useState38=_slicedToArray(_useState37,2),facilities=_useState38[0],setFacilities=_useState38[1];// eslint-disable-next-line\nvar _useState39=useState(false),_useState40=_slicedToArray(_useState39,2),searchError=_useState40[0],setSearchError=_useState40[1];// eslint-disable-next-line\nvar _useState41=useState(false),_useState42=_slicedToArray(_useState41,2),showPanel=_useState42[0],setShowPanel=_useState42[1];// eslint-disable-next-line\nvar _useState43=useState(\"\"),_useState44=_slicedToArray(_useState43,2),searchMessage=_useState44[0],setSearchMessage=_useState44[1];// eslint-disable-next-line \nvar _useState45=useState(\"\"),_useState46=_slicedToArray(_useState45,2),simpa=_useState46[0],setSimpa=_useState46[1];// eslint-disable-next-line \nvar _useState47=useState(false),_useState48=_slicedToArray(_useState47,2),chosen=_useState48[0],setChosen=_useState48[1];// eslint-disable-next-line \nvar _useState49=useState(0),_useState50=_slicedToArray(_useState49,2),count=_useState50[0],setCount=_useState50[1];var inputEl=useRef(null);var handleRow=/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(obj){return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return setChosen(true);case 2://alert(\"something is chaning\")\ngetSearchfacility(obj);_context7.next=5;return setSimpa(obj.facilityName);case 5:// setSelectedFacility(obj)\nsetShowPanel(false);_context7.next=8;return setCount(2);case 8:case\"end\":return _context7.stop();}}},_callee7);}));return function handleRow(_x2){return _ref8.apply(this,arguments);};}();var handleBlur=/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(e){return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:if(count===2){console.log(\"stuff was chosen\");}/*  console.log(\"blur\")\n         setShowPanel(false)\n        console.log(JSON.stringify(simpa))\n        if (simpa===\"\"){\n            console.log(facilities.length)\n            setSimpa(\"abc\")\n            setSimpa(\"\")\n            setFacilities([])\n            inputEl.current.setValue=\"\"\n        }\n        console.log(facilities.length)\n        console.log(inputEl.current) */case 1:case\"end\":return _context8.stop();}}},_callee8);}));return function handleBlur(_x3){return _ref9.apply(this,arguments);};}();var handleSearch=/*#__PURE__*/function(){var _ref10=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(val){var field,_query2;return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:field='facilityName';//field variable\nif(!(val.length>=3)){_context9.next=5;break;}facilityServ.find({query:(_query2={},_defineProperty(_query2,field,{$regex:val,$options:'i'}),_defineProperty(_query2,\"$limit\",10),_defineProperty(_query2,\"$sort\",{createdAt:-1}),_query2)}).then(function(res){console.log(\"facility  fetched successfully\");setFacilities(res.data);setSearchMessage(\" facility  fetched successfully\");setShowPanel(true);}).catch(function(err){console.log(err);setSearchMessage(\"Error searching facility, probable network issues \"+err);setSearchError(true);});_context9.next=11;break;case 5:console.log(\"less than 3 \");console.log(val);setShowPanel(false);_context9.next=10;return setFacilities([]);case 10:console.log(facilities);case 11:case\"end\":return _context9.stop();}}},_callee9);}));return function handleSearch(_x4){return _ref10.apply(this,arguments);};}();useEffect(function(){if(clear){setSimpa(\"\");}return function(){};},[clear]);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsx(\"div\",{className:\"control has-icons-left  \",children:/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown \".concat(showPanel?\"is-active\":\"\"),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-trigger\",children:[/*#__PURE__*/_jsx(DebounceInput,{className:\"input is-small \",type:\"text\",placeholder:\"Search Facilities\",value:simpa,minLength:1,debounceTimeout:400,onBlur:function onBlur(e){return handleBlur(e);},onChange:function onChange(e){return handleSearch(e.target.value);},inputRef:inputEl}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-search\"})})]}),searchError&&/*#__PURE__*/_jsx(\"div\",{children:searchMessage}),/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-menu\",children:/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-content\",children:facilities.map(function(facility,i){return/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-item\",onClick:function onClick(){return handleRow(facility);},children:/*#__PURE__*/_jsx(\"span\",{children:facility.facilityName})},facility._id);})})})]})})})});}","map":{"version":3,"sources":["/home/mfybaby/Documents/HealthStack2/HS-frontend/src/components/Accounts/Expense.js"],"names":["React","useState","useContext","useEffect","useRef","client","DebounceInput","useForm","format","formatDistanceToNowStrict","UserContext","ObjectContext","toast","searchfacility","Expense","state","selectedLocation","setSelectedLocation","ExpenseCreate","register","handleSubmit","setValue","error","setError","success","setSuccess","message","setMessage","facility","setFacility","accountServ","service","user","currentUser","setCurrentUser","sourceTypeOptions","getSearchfacility","obj","_id","shouldValidate","shouldDirty","stacker","console","log","currentEmployee","facilityDetail","onSubmit","data","e","preventDefault","createdby","firstname","lastname","userid","create","then","res","target","reset","type","dismissible","pauseOnHover","catch","err","required","map","option","i","ExpenseList","LocationServ","facilities","setFacilities","setState","setUser","handleCreateNew","newLocationModule","selectedAccount","show","prevstate","ChartAccountModule","handleRow","Location","handleSearch","val","field","find","query","$regex","$options","accountType","getFacilities","$limit","$sort","createdAt","findLocation","on","value","source","expenseAccount_name","description","payee","amount","ExpenseDetail","watch","showSub","setShowSub","showUpdate","setShowUpdate","sublocationTypeOptions","LocationModule","handleEdit","handleSublocation","typeName","alert","sublocations","push","handleUpdate","patch","name","locationType","length","ProductEntry","ExpenseModify","errors","handleCancel","changeState","handleDelete","conf","window","confirm","dleteId","remove","InputSearch","clear","facilityServ","searchError","setSearchError","showPanel","setShowPanel","searchMessage","setSearchMessage","simpa","setSimpa","chosen","setChosen","count","setCount","inputEl","facilityName","handleBlur"],"mappings":"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","sourcesContent":["/* eslint-disable */\nimport React, {useState,useContext, useEffect,useRef} from 'react'\nimport client from '../../feathers'\nimport {DebounceInput} from 'react-debounce-input';\nimport { useForm } from \"react-hook-form\";\nimport {format, formatDistanceToNowStrict } from 'date-fns'\n//import {useHistory} from 'react-router-dom'\nimport {UserContext,ObjectContext} from '../../context'\nimport {toast} from 'bulma-toast'\n// eslint-disable-next-line\nconst searchfacility={};\n\n\nexport default function Expense() {\n    const {state}=useContext(ObjectContext) //,setState\n    // eslint-disable-next-line\n    const [selectedLocation,setSelectedLocation]=useState()\n    //const [showState,setShowState]=useState() //create|modify|detail\n    \n    return(\n        <section className= \"section remPadTop\">\n           {/*  <div className=\"level\">\n            <div className=\"level-item\"> <span className=\"is-size-6 has-text-weight-medium\">Location  Module</span></div>\n            </div> */}\n            <div className=\"columns \">\n            <div className=\"column is-1\">\n                </div>\n            <div className=\"column is-10  \">\n               \n                <ExpenseCreate />\n                <div className=\"mt-2\">\n                <ExpenseList />\n                </div>\n                </div>\n            <div className=\"column is-1\">\n                {/* {(state.ExpenseModule.show ==='create')&&<ExpenseCreate />}\n                {(state.ExpenseModule.show ==='detail')&&<ExpenseDetail  />}\n                {(state.ExpenseModule.show ==='modify')&&<ExpenseModify Location={selectedExpense} />} */}\n               \n            </div>\n\n            </div>                            \n            </section>\n       \n    )\n    \n}\n\nexport function ExpenseCreate(){\n    const { register, handleSubmit,setValue} = useForm(); //, watch, errors, reset \n    const [error, setError] =useState(false)\n    const [success, setSuccess] =useState(false)\n    const [message,setMessage] = useState(\"\")\n    // eslint-disable-next-line\n    const [facility,setFacility] = useState()\n    const accountServ=client.service('expense')\n    //const history = useHistory()\n    const {user} = useContext(UserContext) //,setUser\n    // eslint-disable-next-line\n    const [currentUser,setCurrentUser] = useState()\n    const sourceTypeOptions =[\"Cash\", \"Bank\", ]\n\n\n    const getSearchfacility=(obj)=>{\n        \n        setValue(\"facility\", obj._id,  {\n            shouldValidate: true,\n            shouldDirty: true\n        })\n    }\n    \n    useEffect(() => {\n        setCurrentUser(user)\n        //console.log(currentUser)\n        return () => {\n        \n        }\n    }, [user])\n\n  //check user for facility or get list of facility  \n    useEffect(()=>{\n        //setFacility(user.activeLocation.FacilityId)//\n      if (!user.stacker){\n          console.log(currentUser)\n        setValue(\"facility\", user.currentEmployee.facilityDetail._id,  {\n            shouldValidate: true,\n            shouldDirty: true\n        }) \n      }\n    })\n\n    const onSubmit = (data,e) =>{\n        e.preventDefault();\n       /*  if (data.locationType===\"\"){\n            alert(\"Kindly choose location type\")\n            return\n        } */\n        setMessage(\"\")\n        setError(false)\n        setSuccess(false)\n         // data.createdby=user._id\n          console.log(data);\n          if (user.currentEmployee){\n         data.facility=user.currentEmployee.facilityDetail._id  // or from facility dropdown\n         data.createdby=user.firstname + \" \" +user.lastname\n         data.userid=user._id\n          }\n        accountServ.create(data)\n        .then((res)=>{\n                //console.log(JSON.stringify(res))\n                e.target.reset();\n               /*  setMessage(\"Created Location successfully\") */\n                setSuccess(true)\n                toast({\n                    message: 'Account created succesfully',\n                    type: 'is-success',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n                  setSuccess(false)\n            })\n            .catch((err)=>{\n                toast({\n                    message: 'Error creating Account ' + err,\n                    type: 'is-danger',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n            })\n\n      } \n\n    return (\n        <>\n            <div className=\"card \">\n            <div className=\"card-header\">\n                <p className=\"card-header-title\">\n                    Create Account\n                </p>\n            </div>\n            <div className=\"card-content vscrollable\">\n   \n            <form onSubmit={handleSubmit(onSubmit)}>\n            <div class=\"field is-horizontal\">\n                    <div class=\"field-body\">\n                <div className=\"field\">    \n                 <div className=\"control\">\n                     <div className=\"select is-small \">\n                         <select name=\"source\"  ref={register({ required: true })}  className=\"selectadd\" >\n                         <option value=\"\">Choose Source </option>\n                           {sourceTypeOptions.map((option,i)=>(\n                               <option key={i} value={option}> {option}</option>\n                           ))}\n                         </select>\n                     </div>\n                 </div>\n                </div>\n                <div className=\"field\">\n                    <p className=\"control has-icons-left has-icons-right\">\n                    <input className=\"input is-small\" ref={register({ required: true })}  name=\"expenseAccount_name\" type=\"text\" placeholder=\"Expense Account Name\" />\n                    <span className=\"icon is-small is-left\">\n                        <i className=\"fas fa-map-signs\"></i>\n                    </span>\n                    \n                </p>\n            </div>\n            <div className=\"field\">\n                    <p className=\"control has-icons-left has-icons-right\">\n                    <input className=\"input is-small\" ref={register({ required: true })}  name=\"description\" type=\"text\" placeholder=\"Description\" />\n                    <span className=\"icon is-small is-left\">\n                        <i className=\"fas fa-map-signs\"></i>\n                    </span>\n                    \n                </p>\n            </div>\n            <div className=\"field\">\n                    <p className=\"control has-icons-left has-icons-right\">\n                    <input className=\"input is-small\" ref={register({ required: true })}  name=\"payee\" type=\"text\" placeholder=\"Payee\" />\n                    <span className=\"icon is-small is-left\">\n                        <i className=\"fas fa-map-signs\"></i>\n                    </span>\n                    \n                </p>\n            </div>\n            <div className=\"field\">\n                    <p className=\"control has-icons-left has-icons-right\">\n                    <input className=\"input is-small\" ref={register({ required: true })}  name=\"amount\" type=\"text\" placeholder=\"Amount\" />\n                    <span className=\"icon is-small is-left\">\n                        <i className=\"fas fa-map-signs\"></i>\n                    </span>\n                    \n                </p>\n            </div>\n            {/* <div className=\"field\">\n                    <p className=\"control has-icons-left has-icons-right\">\n                    <input className=\"input is-small\" ref={register({ required: true })}  name=\"code\" type=\"text\" placeholder=\"Account Code\" />\n                    <span className=\"icon is-small is-left\">\n                        <i className=\"fas fa-map-signs\"></i>\n                    </span>\n                    \n                </p>\n            </div>\n           \n           <div className=\"field\"  style={ !user.stacker?{display:\"none\"}:{}} >\n                <InputSearch  getSearchfacility={getSearchfacility} clear={success} /> \n                <p className=\"control has-icons-left \" style={{display:\"none\"}}>\n                    <input className=\"input is-small\" ref={register ({ required: true }) } name=\"facility\" type=\"text\" placeholder=\"Facility\" />\n                    <span className=\"icon is-small is-left\">\n                    <i className=\"fas  fa-map-marker-alt\"></i>\n                    </span>\n                </p>\n            </div> */}\n           \n            <div className=\"field\">\n                <p className=\"control\">\n                    <button className=\"button is-success is-small\">\n                        Add\n                    </button>\n                </p>\n            </div>\n            </div>\n            </div>\n            </form>\n            </div>\n            </div>\n        </>\n    )\n   \n}\n\nexport function ExpenseList(){\n   // const { register, handleSubmit, watch, errors } = useForm();\n    // eslint-disable-next-line\n    const [error, setError] =useState(false)\n     // eslint-disable-next-line\n    const [success, setSuccess] =useState(false)\n     // eslint-disable-next-line\n   const [message, setMessage] = useState(\"\") \n    const LocationServ=client.service('expense')\n    //const history = useHistory()\n   // const {user,setUser} = useContext(UserContext)\n    const [facilities,setFacilities]=useState([])\n     // eslint-disable-next-line\n   const [selectedLocation, setSelectedLocation]=useState() //\n    // eslint-disable-next-line\n    const {state,setState}=useContext(ObjectContext)\n    // eslint-disable-next-line\n    const {user,setUser}=useContext(UserContext)\n\n\n\n    const handleCreateNew = async()=>{\n        const    newLocationModule={\n            selectedAccount:{},\n            show :'create'\n            }\n       await setState((prevstate)=>({...prevstate,  ChartAccountModule:newLocationModule}))\n       //console.log(state)\n        \n\n    }\n    const handleRow= async(Location)=>{\n        //console.log(\"b4\",state)\n\n        //console.log(\"handlerow\",Location)\n\n        await setSelectedLocation(Location)\n\n        const    newLocationModule={\n            selectedAccount:Location,\n            show :'detail'\n        }\n       await setState((prevstate)=>({...prevstate,  ChartAccountModule:newLocationModule}))\n       //console.log(state)\n\n    }\n\n   const handleSearch=(val)=>{\n       const field='name'\n       console.log(val)\n       LocationServ.find({query: {\n                [field]: {\n                    $regex:val,\n                    $options:'i'\n                   \n                },\n               facility:user.currentEmployee.facilityDetail._id || \"\",\n                $limit:100,\n                $sort: {\n                    accountType: 1\n                  }\n                    }}).then((res)=>{\n                console.log(res)\n               setFacilities(res.data)\n                setMessage(\" Location  fetched successfully\")\n                setSuccess(true) \n            })\n            .catch((err)=>{\n                console.log(err)\n                setMessage(\"Error fetching Location, probable network issues \"+ err )\n                setError(true)\n            })\n        }\n   \n        const getFacilities= async()=>{\n            if (user.currentEmployee){\n            \n        const findLocation= await LocationServ.find(\n                {query: {\n                    facility:user.currentEmployee.facilityDetail._id,\n                    $limit:2000,\n                    $sort: {\n                        createdAt: -1\n                    }\n                    }})\n\n         await setFacilities(findLocation.data)\n                }\n                else {\n                    if (user.stacker){\n                        const findLocation= await LocationServ.find(\n                            {query: {\n                                \n                                $limit:2000,\n                                $sort: {\n                                    facility: -1\n                                }\n                                }})\n            \n                    await setFacilities(findLocation.data)\n\n                    }\n                }\n          /*   .then((res)=>{\n                console.log(res)\n                    setFacilities(res.data)\n                    setMessage(\" Location  fetched successfully\")\n                    setSuccess(true)\n                })\n                .catch((err)=>{\n                    setMessage(\"Error creating Location, probable network issues \"+ err )\n                    setError(true)\n                }) */\n            }\n            \n            useEffect(() => {\n             \n\n                return () => {\n                    \n\n                }\n            },[])\n\n            useEffect(() => {\n               \n                if (user){\n                    getFacilities()\n                }else{\n                    /* const localUser= localStorage.getItem(\"user\")\n                    const user1=JSON.parse(localUser)\n                    console.log(localUser)\n                    console.log(user1)\n                    fetchUser(user1)\n                    console.log(user)\n                    getFacilities(user) */\n                }\n                LocationServ.on('created', (obj)=>getFacilities())\n                LocationServ.on('updated', (obj)=>getFacilities())\n                LocationServ.on('patched', (obj)=>getFacilities())\n                LocationServ.on('removed', (obj)=>getFacilities())\n                return () => {\n                \n                }\n            },[])\n\n\n    //todo: pagination and vertical scroll bar\n\n    return(\n        <>\n           {user?( <>  \n                <div className=\"level\">\n                    <div className=\"level-left\">\n                        <div className=\"level-item\">\n                            <div className=\"field\">\n                                <p className=\"control has-icons-left  \">\n                                    <DebounceInput className=\"input is-small \" \n                                        type=\"text\" placeholder=\"Search Expenses\"\n                                        minLength={3}\n                                        debounceTimeout={400}\n                                        onChange={(e)=>handleSearch(e.target.value)} />\n                                    <span className=\"icon is-small is-left\">\n                                        <i className=\"fas fa-search\"></i>\n                                    </span>\n                                </p>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"level-item\"> <span className=\"is-size-6 has-text-weight-medium\">List of Expenses </span></div>\n                    {/* <div className=\"level-right\">\n                        <div className=\"level-item\"> \n                            <div className=\"level-item\"><div className=\"button is-success is-small\" onClick={handleCreateNew}>New</div></div>\n                        </div>\n                    </div> */}\n\n                </div>\n                <div className=\"table-container pullup \">\n                                <table className=\"table is-striped is-narrow is-hoverable is-fullwidth is-scrollable \">\n                                    <thead>\n                                        <tr>\n                                        <th><abbr title=\"Serial No\">S/No</abbr></th>\n                                       {/*  <th><abbr title=\"Date\">Date</abbr></th> */}\n                                        <th>Source</th>\n                                        <th><abbr title=\"Expense Accounte\">Expense Account</abbr></th>\n                                       <th><abbr title=\"Descriptions\">Description</abbr></th>\n                                         <th><abbr title=\"Payee\">Payee</abbr></th>\n                                         <th><abbr title=\"Amount\">Amount</abbr></th>\n                                        <th><abbr title=\"User\">User</abbr></th>\n                                        \n                                       {/*  <th><abbr title=\"Departmental Unit\">Departmental Unit</abbr></th>  */}\n                                      {/*  {user.stacker && <th><abbr title=\"Facility\">Facility</abbr></th>} */}\n                                        {/* <th><abbr title=\"Actions\">Actions</abbr></th> */}\n                                        </tr>\n                                    </thead>\n                                    <tfoot>\n                                        \n                                    </tfoot>\n                                    <tbody>\n                                        {facilities.map((Location, i)=>(\n\n                                            <tr key={Location._id} onClick={()=>handleRow(Location)} className={Location._id===(selectedLocation?._id||null)?\"is-selected\":\"\"}>\n                                            <th>{i+1}</th>\n                                            {/* <td> <span>{format(new Date(location.createdAt),'dd-MM-yy')}</span></td> */}\n                                            <th>{Location.source}</th>\n                                            <td>{Location.expenseAccount_name}</td>\n                                            <td>{Location.description}</td>\n                                            <td>{Location.payee}</td>\n                                            <td>{Location.amount}</td>\n                                            <td>{Location.createdby}</td>\n                                               {/*  <td>{Location.deptunit}</td>  */}\n                                           {user.stacker &&  <td>{Location.facility}</td>}\n                                           {/*  <td><span   className=\"showAction\"  >...</span></td> */}\n                                           \n                                            </tr>\n\n                                        ))}\n                                    </tbody>\n                                    </table>\n                                    \n                </div>              \n            </>):<div>loading</div>}\n            </>\n              \n    )\n    }\n\n\nexport function ExpenseDetail(){\n    const { register, handleSubmit, watch, setValue,reset } = useForm(); //errors,\n     // eslint-disable-next-line\n    const [error, setError] =useState(false) //, \n    //const [success, setSuccess] =useState(false)\n     // eslint-disable-next-line\n    const [message, setMessage] = useState(\"\") //,\n    //const LocationServ=client.service('/Location')\n    //const history = useHistory()\n    //const {user,setUser} = useContext(UserContext)\n    const [showSub, setShowSub] = useState(false) \n    const [showUpdate, setShowUpdate] = useState(false) \n    const {state,setState} = useContext(ObjectContext)\n    \n    const LocationServ=client.service('expense')\n\n    const sublocationTypeOptions =[\"Bed\",\"Unit\", ]\n\n   const Location =state.LocationModule.selectedLocation \n\n    const handleEdit= async()=>{\n        const    newLocationModule={\n            selectedLocation:Location,\n            show :'modify'\n        }\n       await setState((prevstate)=>({...prevstate, LocationModule:newLocationModule}))\n       //console.log(state)\n       \n    }\n    const handleSublocation= ()=>{\n        setShowSub(true)\n        // show popup to create new sublocation.\n    }\n \n    const onSubmit = (data,e) =>{\n        e.preventDefault();\n        if (data.type===\"\"|| data.typeName===\"\"){\n            alert(\"Kindly enter missing data \")\n            return\n        }\n       \n          console.log(data);\n        /*   if (user.currentEmployee){\n         data.facility=user.currentEmployee.facilityDetail._id  // or from facility dropdown\n          } */\n          if (!Location.sublocations){\n              Location.sublocations=[]\n          }\n\n          Location.sublocations.push(data)\n          reset()\n          setShowUpdate(true)\n       \n        }\n    \n    const handleUpdate = ()=>{\n\n        LocationServ.patch(Location._id,Location)\n        .then((res)=>{\n                //console.log(JSON.stringify(res))\n               // e.target.reset();\n               // setMessage(\"updated Location successfully\")\n                 toast({\n                    message: 'Location updated succesfully',\n                    type: 'is-success',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n                  \n               setShowUpdate(false)\n\n            })\n            .catch((err)=>{\n                //setMessage(\"Error creating Location, probable network issues \"+ err )\n               // setError(true)\n                toast({\n                    message: \"Error updating Location, probable network issues or \"+ err,\n                    type: 'is-danger',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n            })\n        \n    }\n\n    return (\n        <>\n        <div className=\"card \">\n            <div className=\"card-header\">\n                <p className=\"card-header-title\">\n                    Location Details\n                </p>\n            </div>\n            <div className=\"card-content vscrollable\">\n           \n                <table> \n                <tbody>         \n                <tr>\n                    <td>\n                \n                    <label className=\"label is-small\"> <span className=\"icon is-small is-left\">\n                            <i className=\"fas fa-hospital\"></i>\n                        </span>                    \n                        Name: \n                        </label>\n                        </td>\n                        <td>\n                        <span className=\"is-size-7 padleft\"   name=\"name\"> {Location.name} </span>\n                        </td>\n                    </tr>\n                    <tr>\n                    <td>\n                <label className=\"label is-small\"><span className=\"icon is-small is-left\">\n                        <i className=\"fas fa-map-signs\"></i>\n                    </span>Location Type:\n                    </label></td>\n                    <td>\n                    <span className=\"is-size-7 padleft\"   name=\"LocationType\">{Location.locationType} </span> \n                    </td>\n                </tr>         \n\n            </tbody> \n            </table> \n            {  (Location.sublocations?.length>0 ||showSub) &&\n            <>\n                <label className=\"label is-size-7 mt-2\">Sublocations:</label>\n                <div>\n                    <form onSubmit={handleSubmit(onSubmit)}>\n                    <div class=\"field is-horizontal\">\n                    <div class=\"field-body\">\n                <div className=\"field\">    \n                    <div className=\"control\">\n                        <div className=\"select is-small \">\n                            <select name=\"type\"  ref={register({ required: true })} /* onChange={(e)=>handleChangeMode(e.target.value)} */ className=\"selectadd\" >\n                            <option value=\"\">Choose Sub-location Type </option>\n                            {sublocationTypeOptions.map((option,i)=>(\n                                <option key={i} value={option}> {option}</option>\n                            ))}\n                            </select>\n                        </div>\n                    </div>\n                    </div>\n                    <div className=\"field\">\n                        <p className=\"control has-icons-left has-icons-right\">\n                        <input className=\"input is-small\" ref={register({ required: true })}  name=\"typeName\" type=\"text\" placeholder=\"Name of Sub-location\" />\n                        <span className=\"icon is-small is-left\">\n                            <i className=\"fas fa-map-signs\"></i>\n                        </span>\n                        \n                    </p>\n                </div>\n                <div className=\"field\">\n                    <p className=\"control\">\n                        <button className=\"button is-success is-small selectadd\">\n                            Add\n                        </button>\n                    </p>\n                    </div>\n                </div>\n                </div>\n                    </form>\n                </div>\n           {      (Location.sublocations?.length>0 ) &&\n                <div>\n                    \n                    <table className=\"table is-striped  is-hoverable is-fullwidth is-scrollable \">\n                    <thead>\n                        <tr>\n                        <th><abbr title=\"Serial No\">S/No</abbr></th>\n                        <th><abbr title=\"Type\">Type</abbr></th>\n                        <th><abbr title=\"Name\">Name</abbr></th>\n                    \n                    \n                        </tr>\n                    </thead>\n                    <tfoot>\n                        \n                    </tfoot>\n                    <tbody>\n                    { Location.sublocations?.map((ProductEntry, i)=>(  \n\n                            <tr key={i}>\n                            <th>{i+1}</th>\n                            <td>{ProductEntry.type}</td>\n                            <td>{ProductEntry.typeName}</td>                        \n                            </tr>\n\n                        ))}\n                    </tbody>\n                    </table>\n                </div> }       \n              \n           </>\n           }\n            <div className=\"field mt-2  is-grouped\">\n                <p className=\"control\">\n                    <button className=\"button is-success is-small\" onClick={handleEdit}>\n                        Edit\n                    </button>\n                </p>\n             {!showSub &&   <p className={Location.sublocations?.length>0?\"is-hidden control\":\" control\"}>\n                    <button className=\"button is-info is-small\" onClick={handleSublocation}>\n                        Create Sublocation\n                    </button>\n                </p>}\n               {showUpdate &&  <p className= \"control\" >\n                    <button className=\"button is-info is-small\" onClick={handleUpdate}>\n                        Update\n                    </button>\n                </p>}\n                \n            </div>\n               \n        </div>\n        </div>\n        </>\n    )\n   \n   \n}\n\nexport function ExpenseModify(){\n    const { register, handleSubmit, setValue,reset, errors } = useForm(); //watch, errors,\n    // eslint-disable-next-line \n    const [error, setError] =useState(false)\n    // eslint-disable-next-line \n    const [success, setSuccess] =useState(false)\n    // eslint-disable-next-line \n    const [message,setMessage] = useState(\"\")\n    // eslint-disable-next-line \n    const LocationServ=client.service('expense')\n    //const history = useHistory()\n     // eslint-disable-next-line\n    const {user} = useContext(UserContext)\n    const {state,setState} = useContext(ObjectContext)\n\n    const Location =state.LocationModule.selectedLocation \n\n        useEffect(() => {\n            setValue(\"name\", Location.name,  {\n                shouldValidate: true,\n                shouldDirty: true\n            })\n            setValue(\"locationType\", Location.locationType,  {\n                shouldValidate: true,\n                shouldDirty: true\n            })\n           /*  setValue(\"profession\", Location.profession,  {\n                shouldValidate: true,\n                shouldDirty: true\n            })\n            setValue(\"phone\", Location.phone,  {\n                shouldValidate: true,\n                shouldDirty: true\n            })\n            setValue(\"email\", Location.email,  {\n                shouldValidate: true,\n                shouldDirty: true\n            })\n            setValue(\"department\", Location.department,  {\n                shouldValidate: true,\n                shouldDirty: true\n            })\n            setValue(\"deptunit\", Location.deptunit,  {\n                shouldValidate: true,\n                shouldDirty: true\n            }) */\n          /*   setValue(\"LocationCategory\", Location.LocationCategory,  {\n                shouldValidate: true,\n                shouldDirty: true\n            }) */\n            \n            return () => {\n                \n            }\n        })\n\n   const handleCancel=async()=>{\n    const    newLocationModule={\n        selectedLocation:{},\n        show :'create'\n      }\n   await setState((prevstate)=>({...prevstate, LocationModule:newLocationModule}))\n   //console.log(state)\n           }\n\n\n        const changeState =()=>{\n        const    newLocationModule={\n            selectedLocation:{},\n            show :'create'\n        }\n        setState((prevstate)=>({...prevstate, LocationModule:newLocationModule}))\n\n        }\n    const handleDelete=async()=>{\n        let conf=window.confirm(\"Are you sure you want to delete this data?\")\n        \n        const dleteId=Location._id\n        if (conf){\n             \n        LocationServ.remove(dleteId)\n        .then((res)=>{\n                //console.log(JSON.stringify(res))\n                reset();\n               /*  setMessage(\"Deleted Location successfully\")\n                setSuccess(true)\n                changeState()\n               setTimeout(() => {\n                setSuccess(false)\n                }, 200); */\n                toast({\n                    message: 'Location deleted succesfully',\n                    type: 'is-success',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n                changeState()\n            })\n            .catch((err)=>{\n               // setMessage(\"Error deleting Location, probable network issues \"+ err )\n               // setError(true)\n                toast({\n                    message: \"Error deleting Location, probable network issues or \"+ err,\n                    type: 'is-danger',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n            })\n        }\n    }\n        \n\n   /* ()=> setValue(\"firstName\", \"Bill\", , {\n            shouldValidate: true,\n            shouldDirty: true\n          })) */\n    const onSubmit = (data,e) =>{\n        e.preventDefault();\n        \n        setSuccess(false)\n        console.log(data)\n        data.facility=Location.facility\n          //console.log(data);\n          \n        LocationServ.patch(Location._id,data)\n        .then((res)=>{\n                //console.log(JSON.stringify(res))\n               // e.target.reset();\n               // setMessage(\"updated Location successfully\")\n                 toast({\n                    message: 'Location updated succesfully',\n                    type: 'is-success',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n                  \n                changeState()\n\n            })\n            .catch((err)=>{\n                //setMessage(\"Error creating Location, probable network issues \"+ err )\n               // setError(true)\n                toast({\n                    message: \"Error updating Location, probable network issues or \"+ err,\n                    type: 'is-danger',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n            })\n\n      } \n     \n      \n    return (\n        \n        <>\n        <div className=\"card \">\n            <div className=\"card-header\">\n                <p className=\"card-header-title\">\n                    Location Details-Modify\n                </p>\n            </div>\n            <div className=\"card-content vscrollable\">\n           \n            <form onSubmit={handleSubmit(onSubmit)}>\n                <div className=\"field\">\n                    <label className=\"label is-small\"> Name\n                    <p className=\"control has-icons-left has-icons-right\">\n                        <input className=\"input  is-small\" ref={register({ required: true })}  name=\"name\" type=\"text\" placeholder=\"Name\" />\n                        <span className=\"icon is-small is-left\">\n                            <i className=\"fas fa-hospital\"></i>\n                        </span>                    \n                    </p>\n                    </label>\n                    </div>\n                <div className=\"field\">\n                <label className=\"label is-small\">Location Type\n                    <p className=\"control has-icons-left has-icons-right\">\n                    <input className=\"input is-small \" ref={register({ required: true })} disabled name=\"locationType\" type=\"text\" placeholder=\"Location Type\" />\n                    <span className=\"icon is-small is-left\">\n                        <i className=\"fas fa-map-signs\"></i>\n                    </span>\n                    \n                </p>\n                </label>\n                </div>\n            {/* <div className=\"field\">\n            <label className=\"label is-small\">Profession\n                <p className=\"control has-icons-left\">\n                    <input className=\"input is-small\" ref={register({ required: true })} name=\"profession\" type=\"text\" placeholder=\"Profession\"/>\n                    <span className=\"icon is-small is-left\">\n                    <i className=\"fas fa-map-marker-alt\"></i>\n                    </span>\n                </p>\n                </label>\n                </div>\n            <div className=\"field\">\n            <label className=\"label is-small\">Phone\n                <p className=\"control has-icons-left\">\n                    <input className=\"input is-small\" ref={register({ required: true })} name=\"phone\" type=\"text\" placeholder=\"Phone No\"/>\n                    <span className=\"icon is-small is-left\">\n                    <i className=\"fas fa-phone-alt\"></i>\n                    </span>\n                </p>\n                </label>\n                 </div>\n            <div className=\"field\">\n            <label className=\"label is-small\">Email\n                <p className=\"control has-icons-left\">\n                    <input className=\"input is-small\" ref={register({ required: true })} name=\"email\" type=\"email\" placeholder=\"Location Email\"/>\n                    <span className=\"icon is-small is-left\">\n                    <i className=\"fas fa-envelope\"></i>\n                    </span>\n                </p>\n                </label>\n                </div>\n            <div className=\"field\">\n            <label className=\"label is-small\">Department\n                <p className=\"control has-icons-left\">\n                    <input className=\"input is-small\" ref={register({ required: true })} name=\"department\" type=\"text\" placeholder=\"Department\"/>\n                    <span className=\"icon is-small is-left\">\n                    <i className=\"fas fa-user-md\"></i>\n                    </span>\n                </p>\n                </label>\n                {errors.department && <span>This field is required</span>}\n                </div>\n            <div className=\"field\">\n            <label className=\"label is-small\">Departmental Unit\n                <p className=\"control has-icons-left\">\n                    <input className=\"input is-small\" ref={register({ required: true })} name=\"deptunit\" type=\"text\" placeholder=\"Departmental Unit\"/>\n                    <span className=\"icon is-small is-left\">\n                    <i className=\"fas fa-hospital-symbol\"></i>\n                    </span>\n                </p>\n                </label>\n                </div> */}\n           {/*  <div className=\"field\">\n            <label className=\"label is-small\">Category\n                <p className=\"control has-icons-left\">\n                    <input className=\"input is-small\" ref={register({ required: true })} name=\"LocationCategory\" type=\"text\" placeholder=\"Location Category\"/>\n                    <span className=\"icon is-small is-left\">\n                    <i className=\"fas fa-clinic-medical\"></i>\n                    </span>\n                </p>\n                </label>\n            </div> */}\n           \n           \n            </form>\n            \n            <div className=\"field  is-grouped mt-2\" >\n                <p className=\"control\">\n                    <button type=\"submit\" className=\"button is-success is-small\" onClick={handleSubmit(onSubmit)}>\n                        Save\n                    </button>\n                </p>\n                <p className=\"control\">\n                    <button className=\"button is-warning is-small\" onClick={handleCancel}>\n                        Cancel\n                    </button>\n                </p>\n                <p className=\"control\">\n                    <button className=\"button is-danger is-small\" onClick={()=>handleDelete()} type=\"delete\">\n                       Delete\n                    </button>\n                </p>\n            </div>\n        </div>\n        </div>\n        </>\n    )\n   \n   \n                \n}   \n\nexport  function InputSearch({getSearchfacility,clear}) {\n    \n    const facilityServ=client.service('facility')\n    const [facilities,setFacilities]=useState([])\n     // eslint-disable-next-line\n     const [searchError, setSearchError] =useState(false)\n     // eslint-disable-next-line\n    const [showPanel, setShowPanel] =useState(false)\n     // eslint-disable-next-line\n   const [searchMessage, setSearchMessage] = useState(\"\") \n   // eslint-disable-next-line \n   const [simpa,setSimpa]=useState(\"\")\n   // eslint-disable-next-line \n   const [chosen,setChosen]=useState(false)\n   // eslint-disable-next-line \n   const [count,setCount]=useState(0)\n   const inputEl=useRef(null)\n\n\n   const handleRow= async(obj)=>{\n        await setChosen(true)\n        //alert(\"something is chaning\")\n       getSearchfacility(obj)\n       \n       await setSimpa(obj.facilityName)\n       \n        // setSelectedFacility(obj)\n        setShowPanel(false)\n        await setCount(2)\n        /* const    newfacilityModule={\n            selectedFacility:facility,\n            show :'detail'\n        }\n   await setState((prevstate)=>({...prevstate, facilityModule:newfacilityModule})) */\n   //console.log(state)\n}\n    const handleBlur=async(e)=>{\n         if (count===2){\n             console.log(\"stuff was chosen\")\n         }\n       \n       /*  console.log(\"blur\")\n         setShowPanel(false)\n        console.log(JSON.stringify(simpa))\n        if (simpa===\"\"){\n            console.log(facilities.length)\n            setSimpa(\"abc\")\n            setSimpa(\"\")\n            setFacilities([])\n            inputEl.current.setValue=\"\"\n        }\n        console.log(facilities.length)\n        console.log(inputEl.current) */\n    }\n    const handleSearch=async(val)=>{\n        \n        const field='facilityName' //field variable\n       \n        if (val.length>=3){\n            facilityServ.find({query: {     //service\n                 [field]: {\n                     $regex:val,\n                     $options:'i'\n                    \n                 },\n                 $limit:10,\n                 $sort: {\n                     createdAt: -1\n                   }\n                     }}).then((res)=>{\n              console.log(\"facility  fetched successfully\") \n                setFacilities(res.data)\n                 setSearchMessage(\" facility  fetched successfully\")\n                 setShowPanel(true)\n             })\n             .catch((err)=>{\n                 console.log(err)\n                 setSearchMessage(\"Error searching facility, probable network issues \"+ err )\n                 setSearchError(true)\n             })\n         }\n        else{\n            console.log(\"less than 3 \")\n            console.log(val)\n            setShowPanel(false)\n            await setFacilities([])\n            console.log(facilities)\n        }\n    }\n    useEffect(() => {\n       if (clear){\n           setSimpa(\"\")\n       }\n        return () => {\n            \n        }\n    }, [clear] )\n    return (\n        <div>\n            <div className=\"field\">\n                <div className=\"control has-icons-left  \">\n                    <div className={`dropdown ${showPanel?\"is-active\":\"\"}`}>\n                        <div className=\"dropdown-trigger\">\n                            <DebounceInput className=\"input is-small \" \n                                type=\"text\" placeholder=\"Search Facilities\"\n                                value={simpa}\n                                minLength={1}\n                                debounceTimeout={400}\n                                onBlur={(e)=>handleBlur(e)}\n                                onChange={(e)=>handleSearch(e.target.value)}\n                                inputRef={inputEl}\n                                  />\n                            <span className=\"icon is-small is-left\">\n                                <i className=\"fas fa-search\"></i>\n                            </span>\n                        </div>\n                        {searchError&&<div>{searchMessage}</div>}\n                        <div className=\"dropdown-menu\" >\n                            <div className=\"dropdown-content\">\n                            {facilities.map((facility, i)=>(\n                                    \n                                    <div className=\"dropdown-item\" key={facility._id} onClick={()=>handleRow(facility)}>\n                                        \n                                        <span>{facility.facilityName}</span>\n                                        \n                                    </div>\n                                    \n                                    ))}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n          \n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}