{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import client from'../feathers';import{useForm}from\"react-hook-form\";import{useHistory}from'react-router-dom';export default function SignUp(){var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,watch=_useForm.watch,errors=_useForm.errors;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),errorMessage=_useState4[0],setErrorMessage=_useState4[1];var userServ=client.service('/users');var history=useHistory();var onSubmit=function onSubmit(data,e){e.preventDefault();setErrorMessage(\"\");setError(false);if(data.password!==data.password2){setErrorMessage(\"Passwords not identical\");setError(true);return;}delete data.password2;console.log(data);userServ.create(data).then(function(res){console.log(JSON.stringify(res));alert(\"User Created Successfully\");e.target.reset();history.push(\"/\");}).catch(function(err){setErrorMessage(\"Error with creating User, probable network issues \"+err);setError(true);});};return/*#__PURE__*/_jsx(\"section\",{className:\"section\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container signupcenter\",children:/*#__PURE__*/_jsx(\"div\",{className:\"columns\",children:/*#__PURE__*/_jsx(\"div\",{className:\"column is-4 is-offset-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card \",children:[/*#__PURE__*/_jsx(\"header\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"p\",{className:\"card-header-title\",children:\"HealthStack: Sign Up\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-content\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsx(\"div\",{className:\"field is-small\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"label is-small\",children:[\"First Name\",/*#__PURE__*/_jsx(\"div\",{className:\"control \",children:/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register({required:true}),type:\"text\",placeholder:\"Enter Full Name\",name:\"firstname\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field is-small\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"label is-small\",children:[\"Last Name\",/*#__PURE__*/_jsx(\"div\",{className:\"control \",children:/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register({required:true}),type:\"text\",placeholder:\"Enter Full Name\",name:\"lastname\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field is-small\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"label is-small  \",children:[\"Phone Number\",/*#__PURE__*/_jsx(\"div\",{className:\"control \",children:/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register({required:true}),type:\"text\",placeholder:\"Enter Phone Number\",name:\"phone\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field is-small\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"label is-small  \",children:[\"Email\",/*#__PURE__*/_jsx(\"div\",{className:\"control \",children:/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register({required:true}),type:\"text\",placeholder:\"Enter email\",name:\"email\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field is-small\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"label is-small  \",children:[\"Password\",/*#__PURE__*/_jsx(\"div\",{className:\"control \",children:/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register({required:true}),type:\"password\",placeholder:\"Password\",name:\"password\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field is-small\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"label is-small  \",children:[\"Repeat Password\",/*#__PURE__*/_jsx(\"div\",{className:\"control \",children:/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register({required:true}),type:\"password\",placeholder:\"Password\",name:\"password2\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field is-grouped\",children:/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"button is-link is-small\",children:\"Submit\"})})}),error&&/*#__PURE__*/_jsxs(\"div\",{className:\"message\",children:[\" \",errorMessage]})]})})]})})})})});}","map":{"version":3,"sources":["/home/mfybaby/Documents/HealthStack2/HS-frontend/src/components/SignUp.js"],"names":["React","useState","client","useForm","useHistory","SignUp","register","handleSubmit","watch","errors","error","setError","errorMessage","setErrorMessage","userServ","service","history","onSubmit","data","e","preventDefault","password","password2","console","log","create","then","res","JSON","stringify","alert","target","reset","push","catch","err","required"],"mappings":"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","sourcesContent":["import React, {useState} from 'react'\nimport client from '../feathers'\nimport { useForm } from \"react-hook-form\";\nimport {useHistory} from 'react-router-dom'\n\nexport default function SignUp() {\n    const { register, handleSubmit, watch, errors } = useForm();\n    const [error, setError] =useState(true)\n    const [errorMessage,setErrorMessage] = useState(\"\")\n    const userServ=client.service('/users')\n    const history = useHistory()\n\n   \n      const onSubmit = (data,e) =>{\n        e.preventDefault();\n        setErrorMessage(\"\")\n        setError(false)\n          if (data.password !==data.password2){\n              setErrorMessage(\"Passwords not identical\")\n              setError(true)\n              return\n          }       \n          delete data.password2\n          console.log(data);\n          userServ.create(data)\n            .then((res)=>{\n                console.log(JSON.stringify(res))\n                alert(\"User Created Successfully\")\n                e.target.reset();\n                history.push(\"/\")\n\n            })\n            .catch((err)=>{\n                setErrorMessage(\"Error with creating User, probable network issues \"+ err )\n                setError(true)\n            })\n        \n        \n\n\n      } \n\n    return (\n        <section className=\"section\">\n            <div className=\"container signupcenter\">\n                <div className=\"columns\">\n                    <div className=\"column is-4 is-offset-4\">\n                        <div className=\"card \">\n                            <header className=\"card-header\"> \n                                <p className=\"card-header-title\">HealthStack: Sign Up</p>\n                            </header>\n                        <div className=\"card-content\">\n                            <form onSubmit={handleSubmit(onSubmit)}>\n                            <div className=\"field is-small\">\n                                <label className=\"label is-small\">First Name\n                                    <div className=\"control \">\n                                        <input className=\"input is-small\"  ref={register({ required: true })}  type=\"text\" placeholder=\"Enter Full Name\" name=\"firstname\"/>\n                                    </div>\n                                </label>\n                            </div>\n                            <div className=\"field is-small\">\n                                <label className=\"label is-small\">Last Name\n                                    <div className=\"control \">\n                                        <input className=\"input is-small\"  ref={register({ required: true })}  type=\"text\" placeholder=\"Enter Full Name\" name=\"lastname\"/>\n                                    </div>\n                                </label>\n                            </div>\n                            <div className=\"field is-small\">\n                                <label className=\"label is-small  \">Phone Number\n                                    <div className=\"control \">\n                                        <input className=\"input is-small\" ref={register({ required: true })} type=\"text\" placeholder=\"Enter Phone Number\" name=\"phone\"/>\n                                    </div>\n                                </label>\n                            </div>\n                            <div className=\"field is-small\">\n                                <label className=\"label is-small  \">Email\n                                    <div className=\"control \">\n                                        <input className=\"input is-small\" ref={register({ required: true })} type=\"text\" placeholder=\"Enter email\" name=\"email\"/>\n                                    </div>\n                                </label>\n                            </div>\n                            \n                            <div className=\"field is-small\">\n                                <label className=\"label is-small  \">Password\n                                    <div className=\"control \">\n                                        <input className=\"input is-small\" ref={register({ required: true })} type=\"password\" placeholder=\"Password\" name=\"password\"/>\n                                    </div>\n                                </label>\n                            </div>\n                            <div className=\"field is-small\">\n                                <label className=\"label is-small  \">Repeat Password\n                                    <div className=\"control \">\n                                        <input className=\"input is-small\" ref={register({ required: true })} type=\"password\" placeholder=\"Password\" name=\"password2\"/>\n                                    </div>\n                                </label>\n                            </div>\n                    \n                        {/* <div className=\"field\">\n                            <label className=\"label is-small\">Username\n                            <div className=\"control has-icons-left has-icons-right\">\n                                <input className=\"input is-success  is-small\" type=\"text\" placeholder=\"Text input\" value={\"bulma\"} />\n                                <span className=\"icon is-small is-left\">\n                                <i className=\"fas fa-user\"></i>\n                                </span>\n                                <span className=\"icon is-small is-right\">\n                                <i className=\"fas fa-check\"></i>\n                                </span>\n                            </div>\n                            </label>\n                            <p className=\"help is-success\">This username is available</p>\n                        </div>\n\n                        <div className=\"field\">\n                            <label className=\"label is-small\">Email</label>\n                            <div className=\"control has-icons-left has-icons-right\">\n                                <input className=\"input is-danger is-small\" type=\"email\" placeholder=\"Email input\" value=\"hello@\" />\n                                <span className=\"icon is-small is-left\">\n                                <i className=\"fas fa-envelope\"></i>\n                                </span>\n                                <span className=\"icon is-small is-right\">\n                                <i className=\"fas fa-exclamation-triangle\"></i>\n                                </span>\n                            </div>\n                            <p className=\"help is-danger\">This email is invalid</p>\n                        </div>\n\n                        <div className=\"field\">\n                        <label className=\"label is-small\">Subject</label>\n                        <div className=\"control is-small\">\n                            <div className=\"select\">\n                            <select>\n                                <option>Select dropdown</option>\n                                <option>With options</option>\n                            </select>\n                            </div>\n                        </div>\n                        </div> */}\n\n                    {/*  <div className=\"field\">\n                            <label className=\"label\">Message</label>\n                            <div className=\"control\">\n                                <textarea className=\"textarea is-small\" placeholder=\"Textarea\"></textarea>\n                            </div>\n                        </div> */}\n\n                    {/*  <div className=\"field\">\n                            <div className=\"control is-small\">\n                                <label className=\"checkbox\">\n                                <input type=\"checkbox\"/>\n                                I agree to the <a href=\"./terms\">terms and conditions</a>\n                                </label>\n                            </div>\n                        </div> */}\n\n                    {/*  <div className=\"field\">\n                            <div className=\"control\">\n                                <label className=\"radio is-small\">\n                                <input type=\"radio\" name=\"question\"/>\n                                Yes\n                                </label>\n                                <label className=\"radio is-small\">\n                                <input type=\"radio\" name=\"question\" />\n                                No\n                                </label>\n                            </div>\n                        </div> */}\n\n                        <div className=\"field is-grouped\">\n                            <div className=\"control\">\n                                <button type=\"submit\" className=\"button is-link is-small\">Submit</button>\n                            </div>\n                           {/*  <div className=\"control\">\n                                <button className=\"button is-link is-light is-small\" >Cancel</button>\n                            </div> */}\n                        </div>\n                        { error && \n                        <div className=\"message\"> {errorMessage}                            \n                        </div>\n                        }\n                        </form>\n\n                        </div>\n                        </div>\n                        </div>\n                \n                </div>\n            </div>\n        </section>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}