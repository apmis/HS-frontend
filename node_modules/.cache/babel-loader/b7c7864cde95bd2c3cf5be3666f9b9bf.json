{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport _defineProperty from \"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _objectSpread from \"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _asyncToGenerator from \"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _slicedToArray from \"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/home/mfybaby/Documents/HealthStack2/HS-frontend/src/components/Radiology/RadiologyReport.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$();\n\n/* eslint-disable */\nimport React, { useState, useContext, useEffect, useRef } from 'react';\nimport client from '../../feathers';\nimport { DebounceInput } from 'react-debounce-input';\nimport { useForm } from \"react-hook-form\"; //import {useHistory} from 'react-router-dom'\n\nimport { UserContext, ObjectContext } from '../../context';\nimport { toast } from 'bulma-toast';\nimport { format, formatDistanceToNowStrict } from 'date-fns';\nimport ReportCreate from './ReportCreate';\nimport PatientProfile from '../ClientMgt/PatientProfile';\nimport Encounter from '../EncounterMgt/Encounter';\n/* import {ProductCreate} from './Products' */\n// eslint-disable-next-line\n//const searchfacility={};\n\nimport { Accordion, AccordionItem, AccordionItemHeading, AccordionItemState, AccordionItemButton, AccordionItemPanel } from 'react-accessible-accordion'; // Demo styles, see 'Styles' section below for some notes on use.\n\nimport 'react-accessible-accordion/dist/fancy-example.css'; //import BillPrescriptionCreate from './BillPrescriptionCreate';\n\nexport default function RadiologyReport() {\n  _s();\n\n  //const {state}=useContext(ObjectContext) //,setState\n  // eslint-disable-next-line\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      selectedProductEntry = _useState2[0],\n      setSelectedProductEntry = _useState2[1]; //const [showState,setShowState]=useState() //create|modify|detail\n\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      error = _useState4[0],\n      setError = _useState4[1]; // eslint-disable-next-line\n\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      success = _useState6[0],\n      setSuccess = _useState6[1]; // eslint-disable-next-line\n\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      message = _useState8[0],\n      setMessage = _useState8[1];\n\n  var BillServ = client.service('bills'); //const history = useHistory()\n  // const {user,setUser} = useContext(UserContext)\n\n  var _useState9 = useState([]),\n      _useState10 = _slicedToArray(_useState9, 2),\n      facilities = _useState10[0],\n      setFacilities = _useState10[1]; // eslint-disable-next-line\n\n\n  var _useState11 = useState([]),\n      _useState12 = _slicedToArray(_useState11, 2),\n      selectedOrders = _useState12[0],\n      setSelectedOrders = _useState12[1]; //\n  // eslint-disable-next-line\n\n\n  var _useContext = useContext(ObjectContext),\n      state = _useContext.state,\n      setState = _useContext.setState; // eslint-disable-next-line\n\n\n  var _useContext2 = useContext(UserContext),\n      user = _useContext2.user,\n      setUser = _useContext2.setUser;\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"section remPadTop\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"columns \",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"column is-4 \",\n        children: /*#__PURE__*/_jsxDEV(RadiologyOrderList, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"column is-5 \",\n        children: state.financeModule.show === 'detail' && /*#__PURE__*/_jsxDEV(RadiologyNoteCreate, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 60\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"column is-3 \",\n        children: state.ClientModule.show === 'detail' && /*#__PURE__*/_jsxDEV(PatientProfile, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 57\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 9\n  }, this);\n}\n\n_s(RadiologyReport, \"Mk9XOkuYlZZ+sQgEtZDLm1YX/c0=\");\n\n_c = RadiologyReport;\nexport function RadiologyOrderList() {\n  _s2();\n\n  var _this = this;\n\n  // const { register, handleSubmit, watch, errors } = useForm();\n  // eslint-disable-next-line\n  var _useState13 = useState(false),\n      _useState14 = _slicedToArray(_useState13, 2),\n      error = _useState14[0],\n      setError = _useState14[1]; // eslint-disable-next-line\n\n\n  var _useState15 = useState(false),\n      _useState16 = _slicedToArray(_useState15, 2),\n      success = _useState16[0],\n      setSuccess = _useState16[1]; // eslint-disable-next-line\n\n\n  var _useState17 = useState(\"\"),\n      _useState18 = _slicedToArray(_useState17, 2),\n      message = _useState18[0],\n      setMessage = _useState18[1];\n\n  var BillServ = client.service('bills'); //const history = useHistory()\n  // const {user,setUser} = useContext(UserContext)\n\n  var _useState19 = useState([]),\n      _useState20 = _slicedToArray(_useState19, 2),\n      facilities = _useState20[0],\n      setFacilities = _useState20[1]; // eslint-disable-next-line\n\n\n  var _useState21 = useState(),\n      _useState22 = _slicedToArray(_useState21, 2),\n      selectedDispense = _useState22[0],\n      setSelectedDispense = _useState22[1]; //\n\n\n  var _useState23 = useState([]),\n      _useState24 = _slicedToArray(_useState23, 2),\n      selectedOrders = _useState24[0],\n      setSelectedOrders = _useState24[1]; // eslint-disable-next-line\n\n\n  var _useContext3 = useContext(ObjectContext),\n      state = _useContext3.state,\n      setState = _useContext3.setState; // eslint-disable-next-line\n\n\n  var _useContext4 = useContext(UserContext),\n      user = _useContext4.user,\n      setUser = _useContext4.setUser;\n\n  var _useState25 = useState(\"\"),\n      _useState26 = _slicedToArray(_useState25, 2),\n      selectedFinance = _useState26[0],\n      setSelectedFinance = _useState26[1];\n\n  var _useState27 = useState(\"\"),\n      _useState28 = _slicedToArray(_useState27, 2),\n      expanded = _useState28[0],\n      setExpanded = _useState28[1];\n\n  var _useState29 = useState(\"\"),\n      _useState30 = _slicedToArray(_useState29, 2),\n      oldClient = _useState30[0],\n      setOldClient = _useState30[1];\n\n  var handleSelectedClient = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(Client) {\n      var newClientModule;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              // await setSelectedClient(Client)\n              newClientModule = {\n                selectedClient: Client,\n                show: 'detail'\n              };\n              _context.next = 3;\n              return setState(function (prevstate) {\n                return _objectSpread(_objectSpread({}, prevstate), {}, {\n                  ClientModule: newClientModule\n                });\n              });\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleSelectedClient(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var handleChoseClient = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(client, e, order) {\n      var newClient, newProductEntryModule;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              setOldClient(client.clientname);\n              newClient = client.clientname;\n\n              if (oldClient !== newClient) {\n                //alert(\"New Client Onboard\")\n                //remove all checked clientsly\n                selectedOrders.forEach(function (el) {\n                  return el.checked = \"\";\n                });\n                setSelectedOrders([]);\n              } // console.log(e.target.checked)\n\n\n              order.checked = e.target.checked;\n              _context2.next = 6;\n              return handleSelectedClient(order.participantInfo.client);\n\n            case 6:\n              _context2.next = 8;\n              return setSelectedFinance(order);\n\n            case 8:\n              newProductEntryModule = {\n                selectedFinance: order,\n                show: 'detail',\n                state: e.target.checked\n              };\n              _context2.next = 11;\n              return setState(function (prevstate) {\n                return _objectSpread(_objectSpread({}, prevstate), {}, {\n                  financeModule: newProductEntryModule\n                });\n              });\n\n            case 11:\n              if (!e.target.checked) {\n                _context2.next = 16;\n                break;\n              }\n\n              _context2.next = 14;\n              return setSelectedOrders(function (prevstate) {\n                return prevstate.concat(order);\n              });\n\n            case 14:\n              _context2.next = 17;\n              break;\n\n            case 16:\n              setSelectedOrders(function (prevstate) {\n                return prevstate.filter(function (el) {\n                  return el._id !== order._id;\n                });\n              });\n\n            case 17:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function handleChoseClient(_x2, _x3, _x4) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var handleMedicationRow = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(order) {\n      var newProductEntryModule;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return setSelectedFinance(order);\n\n            case 2:\n              _context3.next = 4;\n              return handleSelectedClient(order.participantInfo.client);\n\n            case 4:\n              // grab report\n              // if draft show create/modify\n              //if final: show final\n              // console.log(order)\n              newProductEntryModule = {\n                selectedFinance: order,\n                show: 'detail',\n                report_status: order.report_status\n              };\n              _context3.next = 7;\n              return setState(function (prevstate) {\n                return _objectSpread(_objectSpread({}, prevstate), {}, {\n                  financeModule: newProductEntryModule\n                });\n              });\n\n            case 7:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function handleMedicationRow(_x5) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var handleCreateNew = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n      var newProductEntryModule;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              newProductEntryModule = {\n                selectedDispense: {},\n                show: 'create'\n              };\n              _context4.next = 3;\n              return setState(function (prevstate) {\n                return _objectSpread(_objectSpread({}, prevstate), {}, {\n                  DispenseModule: newProductEntryModule\n                });\n              });\n\n            case 3:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function handleCreateNew() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  var handleSearch = function handleSearch(val) {\n    var _query;\n\n    var field = 'name'; //console.log(val)\n\n    BillServ.find({\n      query: (_query = {\n        'participantInfo.paymentmode.detail.principalName': {\n          $regex: val,\n          $options: 'i'\n        },\n\n        /*  $or:[\n             {\n        \n             } ,\n             {\n         'orderInfo.orderObj.clientname': {\n                     $regex:val,\n                     $options:'i'\n                 \n                 }\n             }\n             ], */\n        //order_category:\"Prescription\",\n        $or: [{\n          'participantInfo.paymentmode.type': \"Cash\"\n        }, {\n          'participantInfo.paymentmode.type': \"Family Cover\"\n        }]\n      }, _defineProperty(_query, \"$or\", [{\n        'orderInfo.orderObj.order_category': \"Radiology Order\"\n      }, {\n        'orderInfo.orderObj.order_category': \"Radiology\"\n      }]), _defineProperty(_query, 'orderInfo.orderObj.order_category', \"Radiology Order\"), _defineProperty(_query, 'participantInfo.billingFacility', user.currentEmployee.facilityDetail._id), _defineProperty(_query, \"billing_status\", \"Unpaid\"), _defineProperty(_query, \"$limit\", 20), _defineProperty(_query, \"$sort\", {\n        createdAt: -1\n      }), _query)\n    }).then(function (res) {\n      // console.log(res)\n      setFacilities(res.groupedOrder);\n      setMessage(\" ProductEntry  fetched successfully\");\n      setSuccess(true);\n    }).catch(function (err) {\n      // console.log(err)\n      setMessage(\"Error fetching ProductEntry, probable network issues \" + err);\n      setError(true);\n    });\n  };\n\n  var getFacilities = /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n      var findProductEntry;\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.next = 2;\n              return BillServ.find({\n                query: {\n                  /*  $or:[\n                       {\n                          'participantInfo.paymentmode.type':\"Cash\"\n                       },\n                       {\n                          'participantInfo.paymentmode.type':\"Family Cover\"\n                       }\n                   ], */\n                  'participantInfo.billingFacility': user.currentEmployee.facilityDetail._id,\n                  //'orderInfo.orderObj.order_category':\"Radiology Order\",\n                  $or: [{\n                    'orderInfo.orderObj.order_category': \"Radiology Order\"\n                  }, {\n                    'orderInfo.orderObj.order_category': \"Radiology\"\n                  }],\n                  // billing_status:\"Unpaid\",  // need to set this finally\n                  //storeId:state.StoreModule.selectedStore._id,\n                  //clientId:state.ClientModule.selectedClient._id,\n                  $limit: 1000,\n                  $sort: {\n                    createdAt: -1\n                  }\n                }\n              });\n\n            case 2:\n              findProductEntry = _context5.sent;\n              _context5.next = 5;\n              return setFacilities(findProductEntry.data);\n\n            case 5:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n\n    return function getFacilities() {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n\n  var handleRow = /*#__PURE__*/function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(Client, e) {\n      return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6);\n    }));\n\n    return function handleRow(_x6, _x7) {\n      return _ref6.apply(this, arguments);\n    };\n  }(); //1.consider using props for global data\n\n\n  useEffect(function () {\n    // console.log(\"started\")\n    getFacilities();\n    BillServ.on('created', function (obj) {\n      return getFacilities();\n    });\n    BillServ.on('updated', function (obj) {\n      return getFacilities();\n    });\n    BillServ.on('patched', function (obj) {\n      return getFacilities();\n    });\n    BillServ.on('removed', function (obj) {\n      return getFacilities();\n    });\n    return function () {};\n  }, []);\n  useEffect(function () {\n    return function () {};\n  }, [selectedOrders]);\n  useEffect(function () {\n    if (state.financeModule.show === \"create\") {\n      selectedOrders.forEach(function (el) {\n        return el.checked = \"\";\n      });\n      setSelectedOrders([]);\n    }\n\n    return function () {};\n  }, [state.financeModule.show]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"level\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"level-left\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"level-item\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"field\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"control has-icons-left  \",\n              children: [/*#__PURE__*/_jsxDEV(DebounceInput, {\n                className: \"input is-small \",\n                type: \"text\",\n                placeholder: \"Search Bills\",\n                minLength: 3,\n                debounceTimeout: 400,\n                onChange: function onChange(e) {\n                  return handleSearch(e.target.value);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 311,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"icon is-small is-left\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-search\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 317,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 316,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"level-item\",\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"is-size-6 has-text-weight-medium\",\n          children: \"Radiology Investigations \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 50\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \" pullup \",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \" is-fullwidth vscrollable pr-1\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"table is-striped  is-hoverable is-fullwidth is-scrollable mr-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: /*#__PURE__*/_jsxDEV(\"abbr\", {\n                  title: \"Serial No\",\n                  children: \"S/No\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 336,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 336,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: /*#__PURE__*/_jsxDEV(\"abbr\", {\n                  title: \"Date\",\n                  children: \"Date\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 337,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 337,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: /*#__PURE__*/_jsxDEV(\"abbr\", {\n                  title: \"Client\",\n                  children: \"Client\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 338,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 338,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: /*#__PURE__*/_jsxDEV(\"abbr\", {\n                  title: \"Description\",\n                  children: \"Test\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 340,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 340,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: /*#__PURE__*/_jsxDEV(\"abbr\", {\n                  title: \"Amount\",\n                  children: \"Amount\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 341,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: /*#__PURE__*/_jsxDEV(\"abbr\", {\n                  title: \"Status\",\n                  children: \"Payment Status\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 343,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 343,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: /*#__PURE__*/_jsxDEV(\"abbr\", {\n                  title: \"Status\",\n                  children: \"Result Status\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 344,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 344,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: facilities.map(function (order, i) {\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                onClick: function onClick() {\n                  return handleMedicationRow(order);\n                },\n                className: order._id === ((selectedFinance === null || selectedFinance === void 0 ? void 0 : selectedFinance._id) || null) ? \"is-selected\" : \"\",\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: i + 1\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 350,\n                  columnNumber: 33\n                }, _this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: format(new Date(order.createdAt), 'dd-MM-yy')\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 351,\n                    columnNumber: 37\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 351,\n                  columnNumber: 33\n                }, _this), \"  \", /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: order.orderInfo.orderObj.clientname\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 352,\n                  columnNumber: 33\n                }, _this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: order.serviceInfo.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 353,\n                  columnNumber: 33\n                }, _this), \" \", /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: order.serviceInfo.amount\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 354,\n                  columnNumber: 33\n                }, _this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: order.billing_status\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 355,\n                  columnNumber: 33\n                }, _this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: order.report_status\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 356,\n                  columnNumber: 33\n                }, _this)]\n              }, order._id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 349,\n                columnNumber: 33\n              }, _this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true);\n}\n\n_s2(RadiologyOrderList, \"KkMEvn9Bp8c06to8qXc/4BjEOOY=\");\n\n_c2 = RadiologyOrderList;\nexport function RadiologyNoteCreate() {\n  _s3();\n\n  var _useForm = useForm(),\n      register = _useForm.register,\n      handleSubmit = _useForm.handleSubmit,\n      setValue = _useForm.setValue; //, watch, errors, reset \n\n\n  var _useState31 = useState(false),\n      _useState32 = _slicedToArray(_useState31, 2),\n      error = _useState32[0],\n      setError = _useState32[1];\n\n  var _useState33 = useState(false),\n      _useState34 = _slicedToArray(_useState33, 2),\n      success = _useState34[0],\n      setSuccess = _useState34[1];\n\n  var _useState35 = useState(\"\"),\n      _useState36 = _slicedToArray(_useState35, 2),\n      message = _useState36[0],\n      setMessage = _useState36[1]; // eslint-disable-next-line\n\n\n  var _useState37 = useState(),\n      _useState38 = _slicedToArray(_useState37, 2),\n      facility = _useState38[0],\n      setFacility = _useState38[1];\n\n  var ClientServ = client.service('labresults'); //const history = useHistory()\n\n  var _useContext5 = useContext(UserContext),\n      user = _useContext5.user; //,setUser\n  // eslint-disable-next-line\n\n\n  var _useState39 = useState(),\n      _useState40 = _slicedToArray(_useState39, 2),\n      currentUser = _useState40[0],\n      setCurrentUser = _useState40[1];\n\n  var _useState41 = useState(\"Draft\"),\n      _useState42 = _slicedToArray(_useState41, 2),\n      reportStatus = _useState42[0],\n      setReportStatus = _useState42[1];\n\n  var _useContext6 = useContext(ObjectContext),\n      state = _useContext6.state,\n      setState = _useContext6.setState;\n\n  var _useState43 = useState(false),\n      _useState44 = _slicedToArray(_useState43, 2),\n      productModal = _useState44[0],\n      setProductModal = _useState44[1];\n\n  var order = state.financeModule.selectedFinance;\n  var bill_report_status = state.financeModule.report_status;\n\n  var getSearchfacility = function getSearchfacility(obj) {\n    setValue(\"facility\", obj._id, {\n      shouldValidate: true,\n      shouldDirty: true\n    });\n  };\n\n  useEffect(function () {\n    var _order$resultDetail;\n\n    // setState((prevstate)=>({...prevstate, labFormType:value}))\n    if (!((_order$resultDetail = order.resultDetail) === null || _order$resultDetail === void 0 ? void 0 : _order$resultDetail.documentdetail)) {\n      setValue(\"Finding\", \"\", {\n        shouldValidate: true,\n        shouldDirty: true\n      });\n      setValue(\"Recommendation\", \"\", {\n        shouldValidate: true,\n        shouldDirty: true\n      }); // setReportStatus(order.report_status)\n\n      return;\n    }\n\n    if (order.report_status !== \"Pending\") {\n      console.log(order.resultDetail.documentdetail);\n      Object.entries(order.resultDetail.documentdetail).map(function (_ref7, i) {\n        var _ref8 = _slicedToArray(_ref7, 2),\n            keys = _ref8[0],\n            value = _ref8[1];\n\n        return setValue(keys, value, {\n          shouldValidate: true,\n          shouldDirty: true\n        });\n      });\n    }\n\n    return function () {};\n  }, [order]);\n\n  var onSubmit = /*#__PURE__*/function () {\n    var _ref9 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7(data, e) {\n      var document, newProductEntryModule;\n      return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              e.preventDefault();\n              setMessage(\"\");\n              setError(false);\n              setSuccess(false);\n              document = {}; // data.createdby=user._id\n              //  console.log(data);\n\n              if (user.currentEmployee) {\n                document.facility = user.currentEmployee.facilityDetail._id;\n                document.facilityname = user.currentEmployee.facilityDetail.facilityName; // or from facility dropdown\n              }\n\n              document.documentdetail = data;\n              document.documentType = \"Radiology Result\";\n              document.documentname = \"\".concat(data.Procedure, \" Result\");\n              /* `${order.serviceInfo.name} Result` */\n              // document.documentClassId=state.DocumentClassModule.selectedDocumentClass._id\n\n              document.location = state.employeeLocation.locationName + \" \" + state.employeeLocation.locationType;\n              document.locationId = state.employeeLocation.locationId;\n              document.client = order.orderInfo.orderObj.clientId;\n              document.createdBy = user._id;\n              document.createdByname = user.firstname + \" \" + user.lastname;\n              document.status = reportStatus;\n              document.billId = order._id; //  console.log(document)\n              //  console.log(order)\n\n              if (!(document.location === undefined || !document.createdByname || !document.facilityname)) {\n                _context7.next = 19;\n                break;\n              }\n\n              toast({\n                message: ' Documentation data missing, requires location and facility details',\n                type: 'is-danger',\n                dismissible: true,\n                pauseOnHover: true\n              });\n              return _context7.abrupt(\"return\");\n\n            case 19:\n              if (bill_report_status === \"Pending\") {\n                ClientServ.create(document).then(function (res) {\n                  e.target.reset();\n                  setSuccess(true);\n                  toast({\n                    message: 'Lab Result created succesfully',\n                    type: 'is-success',\n                    dismissible: true,\n                    pauseOnHover: true\n                  });\n                  setSuccess(false);\n                }).catch(function (err) {\n                  toast({\n                    message: 'Error creating Lab Result ' + err,\n                    type: 'is-danger',\n                    dismissible: true,\n                    pauseOnHover: true\n                  });\n                });\n              }\n\n              if (bill_report_status === \"Draft\") {\n                ClientServ.patch(order.resultDetail._id, document).then(function (res) {\n                  e.target.reset();\n                  setSuccess(true);\n                  toast({\n                    message: 'Radiology Result updated succesfully',\n                    type: 'is-success',\n                    dismissible: true,\n                    pauseOnHover: true\n                  });\n                  setSuccess(false);\n                }).catch(function (err) {\n                  toast({\n                    message: 'Error updating Radiology Result ' + err,\n                    type: 'is-danger',\n                    dismissible: true,\n                    pauseOnHover: true\n                  });\n                });\n              }\n\n              newProductEntryModule = {\n                selectedFinance: order,\n                show: 'show' // report_status:order.report_status\n\n              };\n              _context7.next = 24;\n              return setState(function (prevstate) {\n                return _objectSpread(_objectSpread({}, prevstate), {}, {\n                  financeModule: newProductEntryModule\n                });\n              });\n\n            case 24:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, _callee7);\n    }));\n\n    return function onSubmit(_x8, _x9) {\n      return _ref9.apply(this, arguments);\n    };\n  }();\n\n  var handleChangePart = /*#__PURE__*/function () {\n    var _ref10 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8(e) {\n      return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n        while (1) {\n          switch (_context8.prev = _context8.next) {\n            case 0:\n              console.log(e.target.value);\n              _context8.next = 3;\n              return setReportStatus(e.target.value);\n\n            case 3:\n            case \"end\":\n              return _context8.stop();\n          }\n        }\n      }, _callee8);\n    }));\n\n    return function handleChangePart(_x10) {\n      return _ref10.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    var _order$resultDetail2;\n\n    if (!((_order$resultDetail2 = order.resultDetail) === null || _order$resultDetail2 === void 0 ? void 0 : _order$resultDetail2.documentdetail)) {\n      setValue(\"Finding\", \"\", {\n        shouldValidate: true,\n        shouldDirty: true\n      });\n      setValue(\"Recommendation\", \"\", {\n        shouldValidate: true,\n        shouldDirty: true\n      }); // setReportStatus(order.report_status)\n\n      return;\n    }\n\n    if (order.report_status !== \"Pending\") {\n      console.log(order.resultDetail.documentdetail);\n      setValue(\"Finding\", order.resultDetail.documentdetail.Finding, {\n        shouldValidate: true,\n        shouldDirty: true\n      });\n      setValue(\"Recommendation\", order.resultDetail.documentdetail.Recommendation, {\n        shouldValidate: true,\n        shouldDirty: true\n      });\n      setReportStatus(order.report_status);\n    }\n\n    return function () {};\n  }, [order]);\n\n  var showDocumentation = /*#__PURE__*/function () {\n    var _ref11 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee9(value) {\n      return _regeneratorRuntime.wrap(function _callee9$(_context9) {\n        while (1) {\n          switch (_context9.prev = _context9.next) {\n            case 0:\n              setProductModal(true);\n\n            case 1:\n            case \"end\":\n              return _context9.stop();\n          }\n        }\n      }, _callee9);\n    }));\n\n    return function showDocumentation(_x11) {\n      return _ref11.apply(this, arguments);\n    };\n  }();\n\n  var handlecloseModal = function handlecloseModal() {\n    setProductModal(false); // handleSearch(val)\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card \",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"card-header-title\",\n          children: [\"Radiology Result for \", order.orderInfo.orderObj.clientname, \" Ordered Test:  \", order.serviceInfo.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 576,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"button is-success is-small btnheight mt-2\",\n          onClick: showDocumentation,\n          children: \"Documentation\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 579,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 575,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-content vscrollable remPad1\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit(onSubmit),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"field is-horizontal\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field-body\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"field\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"control has-icons-left has-icons-right\",\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    className: \"input is-small\",\n                    ref: register(),\n                    name: \"Procedure\",\n                    type: \"text\",\n                    placeholder: \"Procedure\",\n                    disabled: bill_report_status === \"Final\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 588,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 587,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 586,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 585,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 584,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"field is-horizontal\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field-body\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"field\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"control has-icons-left has-icons-right\",\n                  children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n                    className: \"textarea is-small\",\n                    ref: register(),\n                    name: \"Clinical Indication\",\n                    type: \"text\",\n                    placeholder: \"Clinical Indication\",\n                    disabled: bill_report_status === \"Final\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 597,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 596,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 595,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 594,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 593,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"field is-horizontal\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field-body\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"field\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"control has-icons-left has-icons-right\",\n                  children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n                    className: \"textarea is-small\",\n                    ref: register(),\n                    name: \"Technique\",\n                    type: \"text\",\n                    placeholder: \"Technique\",\n                    disabled: bill_report_status === \"Final\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 606,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 605,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 604,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 603,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 602,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"field is-horizontal\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field-body\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"field\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"control has-icons-left has-icons-right\",\n                  children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n                    className: \"textarea is-small\",\n                    ref: register(),\n                    name: \"Comparison\",\n                    type: \"text\",\n                    placeholder: \"Comparison\",\n                    disabled: bill_report_status === \"Final\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 615,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 614,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 613,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 612,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 611,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"field is-horizontal\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field-body\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"field\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"control has-icons-left has-icons-right\",\n                  children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n                    className: \"textarea is-small\",\n                    ref: register(),\n                    name: \"Finding\",\n                    type: \"text\",\n                    placeholder: \"Findings\",\n                    disabled: bill_report_status === \"Final\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 624,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 623,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 622,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 621,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 620,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"field is-horizontal\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field-body\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"field\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"control has-icons-left has-icons-right\",\n                  children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n                    className: \"textarea is-small\",\n                    ref: register(),\n                    name: \"Impression\",\n                    type: \"text\",\n                    placeholder: \"Impression\",\n                    disabled: bill_report_status === \"Final\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 633,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 632,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 631,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 630,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 629,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"field is-horizontal\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field-body\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"field\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"control has-icons-left has-icons-right\",\n                  children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n                    className: \"textarea is-small\",\n                    ref: register(),\n                    name: \"Recommendation\",\n                    type: \"text\",\n                    placeholder: \"Recommendation\",\n                    disabled: bill_report_status === \"Final\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 642,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 641,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 640,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 639,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 638,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"field\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \" is-small\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                name: \"status\",\n                value: \"Draft\",\n                checked: reportStatus === \"Draft\" || reportStatus === \"Pending\",\n                onChange: function onChange(e) {\n                  handleChangePart(e);\n                },\n                disabled: bill_report_status === \"Final\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 649,\n                columnNumber: 30\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \" Draft\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 650,\n                columnNumber: 32\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 648,\n              columnNumber: 21\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 651,\n              columnNumber: 40\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \" is-small\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                name: \"status\",\n                value: \"Final\",\n                checked: reportStatus === \"Final\",\n                onChange: function onChange(e) {\n                  return handleChangePart(e);\n                },\n                disabled: bill_report_status === \"Final\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 653,\n                columnNumber: 30\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \" Final \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 654,\n                columnNumber: 30\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 652,\n              columnNumber: 31\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 647,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"field  is-grouped mt-2\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"control\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"button is-success is-small\",\n                disabled: bill_report_status === \"Final\",\n                children: bill_report_status === \"Pending\" ? \"Save\" : \"Update\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 659,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 658,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 657,\n            columnNumber: 14\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 583,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 581,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 574,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal \".concat(productModal ? \"is-active\" : \"\"),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-background\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 675,\n        columnNumber: 37\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-card  modalbkgrnd\",\n        children: [/*#__PURE__*/_jsxDEV(\"header\", {\n          className: \"modal-card-head  btnheight\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"modal-card-title\",\n            children: \"Documentation\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 678,\n            columnNumber: 41\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"delete\",\n            \"aria-label\": \"close\",\n            onClick: handlecloseModal\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 679,\n            columnNumber: 41\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 677,\n          columnNumber: 41\n        }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"modal-card-body modalcolor\",\n          children: /*#__PURE__*/_jsxDEV(Encounter, {\n            standalone: \"true\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 683,\n            columnNumber: 42\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 681,\n          columnNumber: 41\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 676,\n        columnNumber: 37\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 674,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s3(RadiologyNoteCreate, \"wBN7C7rf5bIS9UOA7jTrI/2gv9M=\", false, function () {\n  return [useForm];\n});\n\n_c3 = RadiologyNoteCreate;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"RadiologyReport\");\n$RefreshReg$(_c2, \"RadiologyOrderList\");\n$RefreshReg$(_c3, \"RadiologyNoteCreate\");","map":{"version":3,"sources":["/home/mfybaby/Documents/HealthStack2/HS-frontend/src/components/Radiology/RadiologyReport.js"],"names":["React","useState","useContext","useEffect","useRef","client","DebounceInput","useForm","UserContext","ObjectContext","toast","format","formatDistanceToNowStrict","ReportCreate","PatientProfile","Encounter","Accordion","AccordionItem","AccordionItemHeading","AccordionItemState","AccordionItemButton","AccordionItemPanel","RadiologyReport","selectedProductEntry","setSelectedProductEntry","error","setError","success","setSuccess","message","setMessage","BillServ","service","facilities","setFacilities","selectedOrders","setSelectedOrders","state","setState","user","setUser","financeModule","show","ClientModule","RadiologyOrderList","selectedDispense","setSelectedDispense","selectedFinance","setSelectedFinance","expanded","setExpanded","oldClient","setOldClient","handleSelectedClient","Client","newClientModule","selectedClient","prevstate","handleChoseClient","e","order","clientname","newClient","forEach","el","checked","target","participantInfo","newProductEntryModule","concat","filter","_id","handleMedicationRow","report_status","handleCreateNew","DispenseModule","handleSearch","val","field","find","query","$regex","$options","$or","currentEmployee","facilityDetail","createdAt","then","res","groupedOrder","catch","err","getFacilities","$limit","$sort","findProductEntry","data","handleRow","on","obj","value","map","i","Date","orderInfo","orderObj","serviceInfo","name","amount","billing_status","RadiologyNoteCreate","register","handleSubmit","setValue","facility","setFacility","ClientServ","currentUser","setCurrentUser","reportStatus","setReportStatus","productModal","setProductModal","bill_report_status","getSearchfacility","shouldValidate","shouldDirty","resultDetail","documentdetail","console","log","Object","entries","keys","onSubmit","preventDefault","document","facilityname","facilityName","documentType","documentname","Procedure","location","employeeLocation","locationName","locationType","locationId","clientId","createdBy","createdByname","firstname","lastname","status","billId","undefined","type","dismissible","pauseOnHover","create","reset","patch","handleChangePart","Finding","Recommendation","showDocumentation","handlecloseModal"],"mappings":"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","sourcesContent":["/* eslint-disable */\nimport React, {useState,useContext, useEffect,useRef} from 'react'\nimport client from '../../feathers'\nimport {DebounceInput} from 'react-debounce-input';\nimport { useForm } from \"react-hook-form\";\n//import {useHistory} from 'react-router-dom'\nimport {UserContext,ObjectContext} from '../../context'\nimport {toast} from 'bulma-toast'\nimport {format, formatDistanceToNowStrict } from 'date-fns'\nimport ReportCreate from './ReportCreate'\nimport PatientProfile from '../ClientMgt/PatientProfile'\nimport Encounter from '../EncounterMgt/Encounter';\n/* import {ProductCreate} from './Products' */\n// eslint-disable-next-line\n//const searchfacility={};\nimport {\n    Accordion,\n    AccordionItem,\n    AccordionItemHeading,\n    AccordionItemState,\n    AccordionItemButton,\n    AccordionItemPanel,\n} from 'react-accessible-accordion';\n\n// Demo styles, see 'Styles' section below for some notes on use.\nimport 'react-accessible-accordion/dist/fancy-example.css';\n//import BillPrescriptionCreate from './BillPrescriptionCreate';\n\n\nexport default function RadiologyReport() {\n    //const {state}=useContext(ObjectContext) //,setState\n    // eslint-disable-next-line\n    const [selectedProductEntry,setSelectedProductEntry]=useState()\n    //const [showState,setShowState]=useState() //create|modify|detail\n    const [error, setError] =useState(false)\n    // eslint-disable-next-line\n   const [success, setSuccess] =useState(false)\n    // eslint-disable-next-line\n  const [message, setMessage] = useState(\"\") \n   const BillServ=client.service('bills')\n   //const history = useHistory()\n  // const {user,setUser} = useContext(UserContext)\n   const [facilities,setFacilities]=useState([])\n    // eslint-disable-next-line\n  const [selectedOrders, setSelectedOrders]=useState([]) //\n   // eslint-disable-next-line\n   const {state,setState}=useContext(ObjectContext)\n   // eslint-disable-next-line\n   const {user,setUser}=useContext(UserContext)\n    \n    return(\n        <section className= \"section remPadTop\">\n           {/*  <div className=\"level\">\n            <div className=\"level-item\"> <span className=\"is-size-6 has-text-weight-medium\">ProductEntry  Module</span></div>\n            </div> */}\n            <div className=\"columns \">\n                <div className=\"column is-4 \">\n                    <RadiologyOrderList />\n                    </div>\n              \n                <div className=\"column is-5 \">\n                \n                {(state.financeModule.show ==='detail')&&  <RadiologyNoteCreate />}\n                </div>\n\n              <div className=\"column is-3 \">  \n                \n                {(state.ClientModule.show ==='detail')&&<PatientProfile />}\n                </div> \n\n            </div>                            \n            </section>\n       \n    )\n    \n}\n\nexport function RadiologyOrderList(){\n   // const { register, handleSubmit, watch, errors } = useForm();\n    // eslint-disable-next-line\n    const [error, setError] =useState(false)\n     // eslint-disable-next-line\n    const [success, setSuccess] =useState(false)\n     // eslint-disable-next-line\n   const [message, setMessage] = useState(\"\") \n   const BillServ=client.service('bills')\n    //const history = useHistory()\n   // const {user,setUser} = useContext(UserContext)\n    const [facilities,setFacilities]=useState([])\n     // eslint-disable-next-line\n   const [selectedDispense, setSelectedDispense]=useState() //\n   const [selectedOrders, setSelectedOrders]=useState([]) \n    // eslint-disable-next-line\n    const {state,setState}=useContext(ObjectContext)\n    // eslint-disable-next-line\n    const {user,setUser}=useContext(UserContext)\n    const [selectedFinance, setSelectedFinance] =useState(\"\")\n    const [expanded, setExpanded] =useState(\"\")\n    const [oldClient, setOldClient] =useState(\"\")\n\n    const handleSelectedClient= async(Client)=>{\n        // await setSelectedClient(Client)\n         const    newClientModule={\n             selectedClient:Client,\n             show :'detail'\n         }\n        await setState((prevstate)=>({...prevstate, ClientModule:newClientModule}))\n     }\n\n    const handleChoseClient= async(client,e, order)=>{\n        setOldClient(client.clientname)\n        let newClient=client.clientname\n        if(oldClient!==newClient){\n            //alert(\"New Client Onboard\")\n            //remove all checked clientsly\n            selectedOrders.forEach(el=>el.checked=\"\")\n            setSelectedOrders([])\n        }\n\n       // console.log(e.target.checked)\n        order.checked=e.target.checked\n        await handleSelectedClient(order.participantInfo.client)\n        //handleMedicationRow(order)\n        await setSelectedFinance(order)\n        const    newProductEntryModule={\n            selectedFinance:order,\n            show :'detail',\n            state:e.target.checked\n        }\n      await setState((prevstate)=>({...prevstate, financeModule:newProductEntryModule}))\n      \n      //set of checked items\n      if (e.target.checked){\n        await setSelectedOrders((prevstate)=>(prevstate.concat(order)))\n      }else{\n        setSelectedOrders( prevstate=>prevstate.filter(el=>el._id!==order._id))\n      }\n    \n       // console.log(selectedOrders)\n    }\n    const handleMedicationRow= async(order)=>{\n        \n        await setSelectedFinance(order)\n        await handleSelectedClient(order.participantInfo.client)\n        // grab report\n        // if draft show create/modify\n        //if final: show final\n       // console.log(order)\n        const    newProductEntryModule={\n            selectedFinance:order,\n            show :'detail',\n            report_status:order.report_status\n           \n        }\n      await setState((prevstate)=>({...prevstate, financeModule:newProductEntryModule}))\n    \n    }\n\n    const handleCreateNew = async()=>{\n        \n        const    newProductEntryModule={\n            selectedDispense:{},\n            show :'create'\n            }\n       await setState((prevstate)=>({...prevstate, DispenseModule:newProductEntryModule}))\n       //console.log(state)\n        \n\n    }\n  \n\n    const handleSearch=(val)=>{\n       const field='name'\n       //console.log(val)\n       BillServ.find({query: {\n        'participantInfo.paymentmode.detail.principalName': {\n            $regex:val,\n            $options:'i'\n        \n        },\n           /*  $or:[\n                {\n           \n                } ,\n                {\n            'orderInfo.orderObj.clientname': {\n                        $regex:val,\n                        $options:'i'\n                    \n                    }\n                }\n                ], */\n                \n                //order_category:\"Prescription\",\n             $or:[\n                    {\n                       'participantInfo.paymentmode.type':\"Cash\"\n                    },\n                    {\n                       'participantInfo.paymentmode.type':\"Family Cover\"\n                    }\n                ],\n                $or:[\n                    {\n                       'orderInfo.orderObj.order_category':\"Radiology Order\"\n                    },\n                    {\n                       'orderInfo.orderObj.order_category':\"Radiology\"\n                    }\n                ], 'orderInfo.orderObj.order_category':\"Radiology Order\",\n                'participantInfo.billingFacility': user.currentEmployee.facilityDetail._id,\n                billing_status:\"Unpaid\",  // need to set this finally\n               // storeId:state.StoreModule.selectedStore._id,\n               //facility:user.currentEmployee.facilityDetail._id || \"\",\n                $limit:20,\n                $sort: {\n                    createdAt: -1\n                  }\n                    }}).then((res)=>{\n               // console.log(res)\n               setFacilities(res.groupedOrder)\n                setMessage(\" ProductEntry  fetched successfully\")\n                setSuccess(true) \n            })\n            .catch((err)=>{\n               // console.log(err)\n                setMessage(\"Error fetching ProductEntry, probable network issues \"+ err )\n                setError(true)\n            })\n        }\n    const getFacilities= async()=>{\n       \n            // console.log(\"here b4 server\")\n    const findProductEntry= await BillServ.find(\n            {query: {\n               /*  $or:[\n                    {\n                       'participantInfo.paymentmode.type':\"Cash\"\n                    },\n                    {\n                       'participantInfo.paymentmode.type':\"Family Cover\"\n                    }\n                ], */\n                'participantInfo.billingFacility': user.currentEmployee.facilityDetail._id,\n                //'orderInfo.orderObj.order_category':\"Radiology Order\",\n                $or:[\n                    {\n                       'orderInfo.orderObj.order_category':\"Radiology Order\"\n                    },\n                    {\n                       'orderInfo.orderObj.order_category':\"Radiology\"\n                    }\n                ], \n               // billing_status:\"Unpaid\",  // need to set this finally\n                //storeId:state.StoreModule.selectedStore._id,\n                //clientId:state.ClientModule.selectedClient._id,\n                $limit:1000,\n                $sort: {\n                    createdAt: -1\n                }\n                }})\n\n        //    console.log(\"bills\", findProductEntry.data)\n            await setFacilities(findProductEntry.data)\n          //  await setState((prevstate)=>({...prevstate, currentClients:findProductEntry.groupedOrder}))\n            }   \n    const handleRow= async(Client,e)=>{\n           // alert(expanded)\n              \n            }\n    //1.consider using props for global data\n    useEffect(() => {\n        // console.log(\"started\")\n            getFacilities()\n            BillServ.on('created', (obj)=>getFacilities())\n            BillServ.on('updated', (obj)=>getFacilities())\n            BillServ.on('patched', (obj)=>getFacilities())\n            BillServ.on('removed', (obj)=>getFacilities())\n            return () => {\n            \n            }\n            },[])\n\n    useEffect(() => {\n      \n        return () => {\n            \n        }\n    }, [selectedOrders])\n\n    useEffect(() => {\n       if (state.financeModule.show===\"create\"){\n        selectedOrders.forEach(el=>el.checked=\"\")\n        setSelectedOrders([])\n\n       }\n        return () => {\n           \n        }\n    }, [state.financeModule.show])\n   \n \n\n    return(     \n            <>  \n                <div className=\"level\">\n                    <div className=\"level-left\">\n                        <div className=\"level-item\">\n                            <div className=\"field\">\n                                <p className=\"control has-icons-left  \">\n                                    <DebounceInput className=\"input is-small \" \n                                        type=\"text\" placeholder=\"Search Bills\"\n                                        minLength={3}\n                                        debounceTimeout={400}\n                                        onChange={(e)=>handleSearch(e.target.value)} />\n                                    <span className=\"icon is-small is-left\">\n                                        <i className=\"fas fa-search\"></i>\n                                    </span>\n                                </p>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"level-item\"> <span className=\"is-size-6 has-text-weight-medium\">Radiology Investigations </span></div>\n                     {/* <div className=\"level-right\">\n                       <div className=\"level-item\"> \n                            <div className=\"level-item\"><div className=\"button is-success is-small\" onClick={handleCreateNew}>New</div></div>\n                        </div> \n                    </div>*/}\n\n                </div>\n                <div className=\" pullup \">\n                    <div className=\" is-fullwidth vscrollable pr-1\"> \n                    <table className=\"table is-striped  is-hoverable is-fullwidth is-scrollable mr-2\">\n                        <thead>\n                                <tr>\n                                    <th><abbr title=\"Serial No\">S/No</abbr></th>\n                                    <th><abbr title=\"Date\">Date</abbr></th>\n                                    <th><abbr title=\"Client\">Client</abbr></th>\n                                   {/*  <th><abbr title=\"Client\">Client</abbr></th> */}\n                                    <th><abbr title=\"Description\">Test</abbr></th>\n                                    <th><abbr title=\"Amount\">Amount</abbr></th>\n                                {/*  <th>Fulfilled</th> */}\n                                    <th><abbr title=\"Status\">Payment Status</abbr></th>\n                                    <th><abbr title=\"Status\">Result Status</abbr></th> \n                                </tr>\n                        </thead>\n                        <tbody>\n                            { facilities.map((order, i)=>(\n                                <tr key={order._id}  onClick={()=>handleMedicationRow(order)} className={order._id===(selectedFinance?._id||null)?\"is-selected\":\"\"}>                                         \n                                <th>{i+1}</th>\n                                <td><span>{format(new Date(order.createdAt),'dd-MM-yy')}</span></td>  {/* {formatDistanceToNowStrict(new Date(ProductEntry.createdAt),{addSuffix: true})} <br/> */} \n                                <th>{order.orderInfo.orderObj.clientname}</th>{/* client name */}\n                                <th>{order.serviceInfo.name}</th>{/* test name */} {/*  <td>{order.fulfilled===\"True\"?\"Yes\":\"No\"}</td> */}\n                                <td>{order.serviceInfo.amount}</td>\n                                <td>{order.billing_status}</td>\n                                <td>{order.report_status}</td>\n                                </tr>\n                            ))}\n                        </tbody>\n                    </table>\n                    \n                    </div>  \n                </div>\n            </>          \n    )\n}\n\nexport function RadiologyNoteCreate(){\n    const { register, handleSubmit,setValue} = useForm(); //, watch, errors, reset \n    const [error, setError] =useState(false)\n    const [success, setSuccess] =useState(false)\n    const [message,setMessage] = useState(\"\")\n    // eslint-disable-next-line\n    const [facility,setFacility] = useState()\n    const ClientServ=client.service('labresults')\n    //const history = useHistory()\n    const {user} = useContext(UserContext) //,setUser\n    // eslint-disable-next-line\n    const [currentUser,setCurrentUser] = useState()\n    const [reportStatus,setReportStatus] = useState(\"Draft\")\n    const {state, setState}=useContext(ObjectContext)\n    const [productModal, setProductModal]=useState(false)\n\n    const order=state.financeModule.selectedFinance\n    const bill_report_status=state.financeModule.report_status\n\n    const getSearchfacility=(obj)=>{\n        setValue(\"facility\", obj._id,  {\n            shouldValidate: true,\n            shouldDirty: true\n        })\n    }\n    \n    useEffect(() => {\n        // setState((prevstate)=>({...prevstate, labFormType:value}))\n         if (!order.resultDetail?.documentdetail ){\n             setValue(\"Finding\", \"\",  {\n                 shouldValidate: true,\n                 shouldDirty: true\n             })\n             setValue(\"Recommendation\",\"\",  {\n                 shouldValidate: true,\n                 shouldDirty: true\n             })\n            // setReportStatus(order.report_status)\n            \n             return\n     \n         }\n         if (order.report_status !==\"Pending\"){\n             console.log(order.resultDetail.documentdetail)\n     \n             \n            Object.entries(order.resultDetail.documentdetail).map(([keys,value],i)=>(\n             setValue(keys, value,  {\n                 shouldValidate: true,\n                 shouldDirty: true\n             })\n     \n         ))\n     \n     \n     }\n         \n         return () => {\n             \n         }\n     }, [order])\n\n    const onSubmit = async(data,e) =>{\n        e.preventDefault();\n        setMessage(\"\")\n        setError(false)\n        setSuccess(false)\n        let document={}\n         // data.createdby=user._id\n        //  console.log(data);\n          if (user.currentEmployee){\n          document.facility=user.currentEmployee.facilityDetail._id \n          document.facilityname=user.currentEmployee.facilityDetail.facilityName // or from facility dropdown\n          }\n         document.documentdetail=data\n         document.documentType=\"Radiology Result\"\n          document.documentname= `${data.Procedure} Result` /* `${order.serviceInfo.name} Result` */\n         // document.documentClassId=state.DocumentClassModule.selectedDocumentClass._id\n          document.location=state.employeeLocation.locationName +\" \"+ state.employeeLocation.locationType\n          document.locationId=state.employeeLocation.locationId\n          document.client=order.orderInfo.orderObj.clientId\n          document.createdBy=user._id\n          document.createdByname=user.firstname+ \" \"+user.lastname\n          document.status=reportStatus\n          document.billId=order._id\n        //  console.log(document)\n        //  console.log(order)\n\n          if (\n            document.location===undefined ||!document.createdByname || !document.facilityname ){\n            toast({\n                message: ' Documentation data missing, requires location and facility details' ,\n                type: 'is-danger',\n                dismissible: true,\n                pauseOnHover: true,\n              })\n              return\n          }\n\n        if (bill_report_status===\"Pending\"){\n            ClientServ.create(document)\n            .then((res)=>{\n                  \n                    e.target.reset();\n                  \n                    setSuccess(true)\n                    toast({\n                        message: 'Lab Result created succesfully',\n                        type: 'is-success',\n                        dismissible: true,\n                        pauseOnHover: true,\n                      })\n                      setSuccess(false)\n                })\n                .catch((err)=>{\n                    toast({\n                        message: 'Error creating Lab Result ' + err,\n                        type: 'is-danger',\n                        dismissible: true,\n                        pauseOnHover: true,\n                      })\n                })  \n        }\n\n        if (bill_report_status===\"Draft\"){\n         ClientServ.patch(order.resultDetail._id, document)\n        .then((res)=>{\n              \n                e.target.reset();\n              \n                setSuccess(true)\n                toast({\n                    message: 'Radiology Result updated succesfully',\n                    type: 'is-success',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n                  setSuccess(false)\n            })\n            .catch((err)=>{\n                toast({\n                    message: 'Error updating Radiology Result ' + err,\n                    type: 'is-danger',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n            }) \n        }\n        const    newProductEntryModule={\n            selectedFinance:order,\n            show :'show',\n           // report_status:order.report_status\n           \n        }\n      await setState((prevstate)=>({...prevstate, financeModule:newProductEntryModule}))\n      } \n\n    const handleChangePart=async (e)=>{\n        console.log(e.target.value)\n        await setReportStatus(e.target.value)\n\n    }\n\n    useEffect(() => {\n        if (!order.resultDetail?.documentdetail ){\n            setValue(\"Finding\", \"\",  {\n                shouldValidate: true,\n                shouldDirty: true\n            })\n            setValue(\"Recommendation\",\"\",  {\n                shouldValidate: true,\n                shouldDirty: true\n            })\n           // setReportStatus(order.report_status)\n           \n            return\n\n        }\n        if (order.report_status !==\"Pending\"){\n            console.log(order.resultDetail.documentdetail)\n\n        setValue(\"Finding\", order.resultDetail.documentdetail.Finding,  {\n            shouldValidate: true,\n            shouldDirty: true\n        })\n        setValue(\"Recommendation\", order.resultDetail.documentdetail.Recommendation,  {\n            shouldValidate: true,\n            shouldDirty: true\n        })\n        setReportStatus(order.report_status)\n    }\n        \n        return () => {\n            \n        }\n    }, [order])\n    const showDocumentation = async (value)=>{\n        setProductModal(true)\n      }\n      const handlecloseModal =()=>{\n        setProductModal(false)\n       // handleSearch(val)\n        }\n\n    return (\n        <>\n            <div className=\"card \">\n            <div className=\"card-header\">\n                <p className=\"card-header-title\">\n                    Radiology Result for {order.orderInfo.orderObj.clientname} Ordered Test:  {order.serviceInfo.name}\n                </p>\n                <button className=\"button is-success is-small btnheight mt-2\" onClick={showDocumentation}>Documentation</button>\n            </div>\n            <div className=\"card-content vscrollable remPad1\">\n\n            <form onSubmit={handleSubmit(onSubmit)}>\n            <div className=\"field is-horizontal\">\n                <div className=\"field-body\">\n                    <div className=\"field\">\n                        <p className=\"control has-icons-left has-icons-right\">\n                            <input className=\"input is-small\" ref={register()}  name=\"Procedure\" type=\"text\" placeholder=\"Procedure\" disabled={bill_report_status===\"Final\"}/>                 \n                        </p>\n                    </div>\n                    </div>\n                    </div>\n                    <div className=\"field is-horizontal\">\n                <div className=\"field-body\">\n                    <div className=\"field\">\n                        <p className=\"control has-icons-left has-icons-right\">\n                            <textarea className=\"textarea is-small\" ref={register()}  name=\"Clinical Indication\" type=\"text\" placeholder=\"Clinical Indication\" disabled={bill_report_status===\"Final\"}/>                 \n                        </p>\n                    </div>\n                    </div>\n                    </div>\n            <div className=\"field is-horizontal\">\n                <div className=\"field-body\">\n                    <div className=\"field\">\n                        <p className=\"control has-icons-left has-icons-right\">\n                            <textarea className=\"textarea is-small\" ref={register()}  name=\"Technique\" type=\"text\" placeholder=\"Technique\" disabled={bill_report_status===\"Final\"}/>                 \n                        </p>\n                    </div>\n                    </div>\n                    </div>\n                    <div className=\"field is-horizontal\">\n                <div className=\"field-body\">\n                    <div className=\"field\">\n                        <p className=\"control has-icons-left has-icons-right\">\n                            <textarea className=\"textarea is-small\" ref={register()}  name=\"Comparison\" type=\"text\" placeholder=\"Comparison\" disabled={bill_report_status===\"Final\"}/>                 \n                        </p>\n                    </div>\n                    </div>\n                    </div>\n            <div className=\"field is-horizontal\">\n                <div className=\"field-body\">\n                    <div className=\"field\">\n                        <p className=\"control has-icons-left has-icons-right\">\n                            <textarea className=\"textarea is-small\" ref={register()}  name=\"Finding\" type=\"text\" placeholder=\"Findings\" disabled={bill_report_status===\"Final\"}/>                 \n                        </p>\n                    </div>\n                    </div>\n                    </div>\n                    <div className=\"field is-horizontal\">\n                <div className=\"field-body\">\n                    <div className=\"field\">\n                        <p className=\"control has-icons-left has-icons-right\">\n                            <textarea className=\"textarea is-small\" ref={register()}  name=\"Impression\" type=\"text\" placeholder=\"Impression\" disabled={bill_report_status===\"Final\"}/>                 \n                        </p>\n                    </div>\n                    </div>\n                    </div>\n            <div className=\"field is-horizontal\">\n                <div className=\"field-body\">\n                    <div className=\"field\">\n                        <div className=\"control has-icons-left has-icons-right\">\n                        <textarea className=\"textarea is-small\" ref={register()}  name=\"Recommendation\" type=\"text\" placeholder=\"Recommendation\" disabled={bill_report_status===\"Final\"}/>\n                        </div>\n                    </div>\n                    </div>\n                    </div>\n                    <div className=\"field\">\n                    <label className=\" is-small\">\n                             <input  type=\"radio\" name=\"status\" value=\"Draft\"   checked={reportStatus===\"Draft\"||reportStatus===\"Pending\"} onChange={(e)=>{handleChangePart(e)}} disabled={bill_report_status===\"Final\"}/>\n                               <span > Draft</span>\n                              </label> <br/>\n                              <label className=\" is-small\">\n                             <input type=\"radio\" name=\"status\"  value=\"Final\"   checked={reportStatus===\"Final\"} onChange={(e)=>handleChangePart(e)} disabled={bill_report_status===\"Final\"}/>\n                             <span> Final </span>\n                              </label>\n                              </div> \n             <div className=\"field  is-grouped mt-2\" >\n                <p className=\"control\">\n                    <button type=\"submit\" className=\"button is-success is-small\" disabled={bill_report_status===\"Final\"} >\n                    {bill_report_status===\"Pending\"? \"Save\":\"Update\"}\n                    </button>\n                </p>\n               {/*  <p className=\"control\">\n                    <button className=\"button is-warning is-small\" onClick={(e)=>e.target.reset()}>\n                        Cancel\n                    </button>\n                </p> */}\n               \n            </div>\n     \n            </form>\n            </div>\n            </div>\n            <div className={`modal ${productModal?\"is-active\":\"\"}` }>\n                                    <div className=\"modal-background\"></div>\n                                    <div className=\"modal-card  modalbkgrnd\">\n                                        <header className=\"modal-card-head  btnheight\">\n                                        <p className=\"modal-card-title\">Documentation</p>\n                                        <button className=\"delete\" aria-label=\"close\"  onClick={handlecloseModal}></button>\n                                        </header>\n                                        <section className=\"modal-card-body modalcolor\">\n                                      \n                                         <Encounter standalone=\"true\" />\n                                        </section> \n                                        {/* <footer className=\"modal-card-foot\">\n                                        <button className=\"button is-success\">Save changes</button>\n                                        <button className=\"button\">Cancel</button>\n                                        </footer>  */}\n                                   </div>\n        </div>        \n        </>\n    )\n   \n}\n\n"]},"metadata":{},"sourceType":"module"}