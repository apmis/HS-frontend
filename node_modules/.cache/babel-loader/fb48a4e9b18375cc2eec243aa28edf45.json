{"ast":null,"code":"import _slicedToArray from \"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport { LeafletProvider, createContainerComponent, createControlHook, createElementHook, createElementObject, extendContext, useLeafletContext } from '@react-leaflet/core';\nimport { Control } from 'leaflet';\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nexport var useLayersControlElement = createElementHook(function createLayersControl(_ref, ctx) {\n  var _c = _ref.children,\n      options = _objectWithoutProperties(_ref, [\"children\"]);\n\n  var control = new Control.Layers(undefined, undefined, options);\n  return createElementObject(control, extendContext(ctx, {\n    layersControl: control\n  }));\n}, function updateLayersControl(control, props, prevProps) {\n  if (props.collapsed !== prevProps.collapsed) {\n    if (props.collapsed === true) {\n      control.collapse();\n    } else {\n      control.expand();\n    }\n  }\n});\nexport var useLayersControl = createControlHook(useLayersControlElement); // @ts-ignore\n\nexport var LayersControl = createContainerComponent(useLayersControl);\nexport function createControlledLayer(addLayerToControl) {\n  return function ControlledLayer(props) {\n    var parentContext = useLeafletContext();\n    var propsRef = useRef(props);\n\n    var _useState = useState(null),\n        _useState2 = _slicedToArray(_useState, 2),\n        layer = _useState2[0],\n        setLayer = _useState2[1];\n\n    var layersControl = parentContext.layersControl,\n        map = parentContext.map;\n    var addLayer = useCallback(function (layerToAdd) {\n      if (layersControl != null) {\n        if (propsRef.current.checked) {\n          map.addLayer(layerToAdd);\n        }\n\n        addLayerToControl(layersControl, layerToAdd, propsRef.current.name);\n        setLayer(layerToAdd);\n      }\n    }, [layersControl, map]);\n    var removeLayer = useCallback(function (layerToRemove) {\n      layersControl === null || layersControl === void 0 ? void 0 : layersControl.removeLayer(layerToRemove);\n      setLayer(null);\n    }, [layersControl]);\n    var context = useMemo(function () {\n      return extendContext(parentContext, {\n        layerContainer: {\n          addLayer: addLayer,\n          removeLayer: removeLayer\n        }\n      });\n    }, [parentContext, addLayer, removeLayer]);\n    useEffect(function () {\n      if (layer !== null && propsRef.current !== props) {\n        if (props.checked === true && (propsRef.current.checked == null || propsRef.current.checked === false)) {\n          map.addLayer(layer);\n        } else if (propsRef.current.checked === true && (props.checked == null || props.checked === false)) {\n          map.removeLayer(layer);\n        }\n\n        propsRef.current = props;\n      }\n    });\n    return props.children ? /*#__PURE__*/React.createElement(LeafletProvider, {\n      value: context\n    }, props.children) : null;\n  };\n}\nLayersControl.BaseLayer = createControlledLayer(function addBaseLayer(layersControl, layer, name) {\n  layersControl.addBaseLayer(layer, name);\n});\nLayersControl.Overlay = createControlledLayer(function addOverlay(layersControl, layer, name) {\n  layersControl.addOverlay(layer, name);\n});","map":{"version":3,"sources":["/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/react-leaflet/lib/LayersControl.js"],"names":["LeafletProvider","createContainerComponent","createControlHook","createElementHook","createElementObject","extendContext","useLeafletContext","Control","React","useCallback","useEffect","useMemo","useRef","useState","useLayersControlElement","createLayersControl","ctx","_c","children","options","control","Layers","undefined","layersControl","updateLayersControl","props","prevProps","collapsed","collapse","expand","useLayersControl","LayersControl","createControlledLayer","addLayerToControl","ControlledLayer","parentContext","propsRef","layer","setLayer","map","addLayer","layerToAdd","current","checked","name","removeLayer","layerToRemove","context","layerContainer","createElement","value","BaseLayer","addBaseLayer","Overlay","addOverlay"],"mappings":"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","sourcesContent":["import { LeafletProvider, createContainerComponent, createControlHook, createElementHook, createElementObject, extendContext, useLeafletContext } from '@react-leaflet/core';\nimport { Control } from 'leaflet';\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nexport const useLayersControlElement = createElementHook(function createLayersControl({ children: _c , ...options }, ctx) {\n    const control = new Control.Layers(undefined, undefined, options);\n    return createElementObject(control, extendContext(ctx, {\n        layersControl: control\n    }));\n}, function updateLayersControl(control, props, prevProps) {\n    if (props.collapsed !== prevProps.collapsed) {\n        if (props.collapsed === true) {\n            control.collapse();\n        } else {\n            control.expand();\n        }\n    }\n});\nexport const useLayersControl = createControlHook(useLayersControlElement);\n// @ts-ignore\nexport const LayersControl = createContainerComponent(useLayersControl);\nexport function createControlledLayer(addLayerToControl) {\n    return function ControlledLayer(props) {\n        const parentContext = useLeafletContext();\n        const propsRef = useRef(props);\n        const [layer, setLayer] = useState(null);\n        const { layersControl , map  } = parentContext;\n        const addLayer = useCallback((layerToAdd)=>{\n            if (layersControl != null) {\n                if (propsRef.current.checked) {\n                    map.addLayer(layerToAdd);\n                }\n                addLayerToControl(layersControl, layerToAdd, propsRef.current.name);\n                setLayer(layerToAdd);\n            }\n        }, [\n            layersControl,\n            map\n        ]);\n        const removeLayer = useCallback((layerToRemove)=>{\n            layersControl?.removeLayer(layerToRemove);\n            setLayer(null);\n        }, [\n            layersControl\n        ]);\n        const context = useMemo(()=>{\n            return extendContext(parentContext, {\n                layerContainer: {\n                    addLayer,\n                    removeLayer\n                }\n            });\n        }, [\n            parentContext,\n            addLayer,\n            removeLayer\n        ]);\n        useEffect(()=>{\n            if (layer !== null && propsRef.current !== props) {\n                if (props.checked === true && (propsRef.current.checked == null || propsRef.current.checked === false)) {\n                    map.addLayer(layer);\n                } else if (propsRef.current.checked === true && (props.checked == null || props.checked === false)) {\n                    map.removeLayer(layer);\n                }\n                propsRef.current = props;\n            }\n        });\n        return props.children ? /*#__PURE__*/ React.createElement(LeafletProvider, {\n            value: context\n        }, props.children) : null;\n    };\n}\nLayersControl.BaseLayer = createControlledLayer(function addBaseLayer(layersControl, layer, name) {\n    layersControl.addBaseLayer(layer, name);\n});\nLayersControl.Overlay = createControlledLayer(function addOverlay(layersControl, layer, name) {\n    layersControl.addOverlay(layer, name);\n});\n"]},"metadata":{},"sourceType":"module"}