{"ast":null,"code":"import _defineProperty from \"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _slicedToArray from \"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/home/mfybaby/Documents/HealthStack2/HS-frontend/src/components/Finance/Collections.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$(),\n    _s4 = $RefreshSig$(),\n    _s5 = $RefreshSig$(),\n    _s6 = $RefreshSig$();\n\n/* eslint-disable */\nimport React, { useState, useContext, useEffect, useRef } from 'react';\nimport client from '../../feathers';\nimport { DebounceInput } from 'react-debounce-input';\nimport { useForm } from \"react-hook-form\"; //import {useHistory} from 'react-router-dom'\n\nimport { UserContext, ObjectContext } from '../../context';\nimport { toast } from 'bulma-toast';\nimport FacilityAccount from \"./FacilityAccount\"; // eslint-disable-next-line\n\nvar searchfacility = {};\nexport default function Collections() {\n  _s();\n\n  var _useContext = useContext(ObjectContext),\n      state = _useContext.state; //,setState\n  // eslint-disable-next-line\n\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      selectedInventory = _useState2[0],\n      setSelectedInventory = _useState2[1]; //const [showState,setShowState]=useState() //create|modify|detail\n\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"section remPadTop\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"columns \",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"column is-5 \",\n        children: /*#__PURE__*/_jsxDEV(CollectionList, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"column is-7 \",\n        children: state.SelectedClient.show === 'detail' && /*#__PURE__*/_jsxDEV(ClientAccount, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 62\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 12\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Collections, \"8eh4qvgXQzf5wYTXlctIut4W4WE=\");\n\n_c = Collections;\nexport function ClientAccount() {\n  _s2();\n\n  var _facility$,\n      _this = this;\n\n  var _useForm = useForm(),\n      register = _useForm.register,\n      handleSubmit = _useForm.handleSubmit,\n      setValue = _useForm.setValue; //, watch, errors, reset \n\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      error = _useState4[0],\n      setError = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      success = _useState6[0],\n      setSuccess = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      message = _useState8[0],\n      setMessage = _useState8[1]; // eslint-disable-next-line\n\n\n  var _useState9 = useState([]),\n      _useState10 = _slicedToArray(_useState9, 2),\n      facility = _useState10[0],\n      setFacility = _useState10[1];\n\n  var InventoryServ = client.service('subwallettransactions');\n  var SubwalletServ = client.service('subwallet'); //const history = useHistory()\n\n  var _useContext2 = useContext(UserContext),\n      user = _useContext2.user; //,setUser\n\n\n  var _useContext3 = useContext(ObjectContext),\n      state = _useContext3.state,\n      setState = _useContext3.setState; // eslint-disable-next-line\n\n\n  var _useState11 = useState(),\n      _useState12 = _slicedToArray(_useState11, 2),\n      currentUser = _useState12[0],\n      setCurrentUser = _useState12[1];\n\n  var _useState13 = useState(0),\n      _useState14 = _slicedToArray(_useState13, 2),\n      balance = _useState14[0],\n      setBalance = _useState14[1];\n\n  var clientSel = state.SelectedClient.client;\n\n  var getSearchfacility = function getSearchfacility(obj) {\n    /*   \n      setValue(\"facility\", obj._id,  {\n          shouldValidate: true,\n          shouldDirty: true\n      }) */\n  };\n\n  useEffect(function () {\n    setCurrentUser(user); //console.log(currentUser)\n\n    return function () {};\n  }, [user]); //check user for facility or get list of facility  \n\n  /*  useEffect(()=>{\n       //setFacility(user.activeInventory.FacilityId)//\n     if (!user.stacker){\n         console.log(currentUser)\n       setValue(\"facility\", user.currentEmployee.facilityDetail._id,  {\n           shouldValidate: true,\n           shouldDirty: true\n       }) \n     }\n   }) */\n\n  useEffect(function () {\n    getaccountdetails();\n    getBalance();\n    return function () {};\n  }, [clientSel]);\n\n  var getaccountdetails = function getaccountdetails() {\n    InventoryServ.find({\n      query: {\n        facility: user.currentEmployee.facilityDetail._id,\n        client: clientSel.client,\n        // storeId:state.StoreModule.selectedStore._id,\n        // category:\"credit\",\n        $sort: {\n          createdAt: -1\n        }\n      }\n    }).then(function (res) {\n      console.log(res);\n      setFacility(res.data); //e.target.reset();\n\n      /*  setMessage(\"Created Inventory successfully\") */\n      // setSuccess(true)\n\n      toast({\n        message: 'Account details succesful',\n        type: 'is-success',\n        dismissible: true,\n        pauseOnHover: true\n      }); // setSuccess(false)\n    }).catch(function (err) {\n      toast({\n        message: 'Error getting account details ' + err,\n        type: 'is-danger',\n        dismissible: true,\n        pauseOnHover: true\n      });\n    });\n  };\n\n  var getBalance = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var findProductEntry;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return SubwalletServ.find({\n                query: {\n                  client: clientSel.client,\n                  organization: user.currentEmployee.facilityDetail._id,\n                  //storeId:state.StoreModule.selectedStore._id,\n                  //clientId:state.ClientModule.selectedClient._id,\n                  $limit: 100,\n                  $sort: {\n                    createdAt: -1\n                  }\n                }\n              });\n\n            case 2:\n              findProductEntry = _context.sent;\n              console.log(findProductEntry); // console.log(\"balance\", findProductEntry.data[0].amount)\n\n              if (!(findProductEntry.data.length > 0)) {\n                _context.next = 9;\n                break;\n              }\n\n              _context.next = 7;\n              return setBalance(findProductEntry.data[0].amount);\n\n            case 7:\n              _context.next = 11;\n              break;\n\n            case 9:\n              _context.next = 11;\n              return setBalance(0);\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function getBalance() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var onSubmit = function onSubmit(data, e) {\n    e.preventDefault();\n    setMessage(\"\");\n    setError(false);\n    setSuccess(false); // data.createdby=user._id\n\n    console.log(data);\n\n    if (user.currentEmployee) {\n      data.facility = user.currentEmployee.facilityDetail._id; // or from facility dropdown\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card cardheight\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"card-header-title\",\n          children: [\"Account Details: \", (_facility$ = facility[0]) === null || _facility$ === void 0 ? void 0 : _facility$.fromName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"button is-success is-small btnheight mt-2\",\n          children: [\"Current Balance: N \", balance]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-content \",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"columns \",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"column is-6 \",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card cardht80\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-header\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"card-header-title\",\n                  children: \"Credit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 197,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-content vscrollable mx-0.5\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"table-container pullup \",\n                  children: /*#__PURE__*/_jsxDEV(\"table\", {\n                    className: \"table is-striped is-narrow is-hoverable is-fullwidth is-scrollable mx-0.5\",\n                    children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                      children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                          children: /*#__PURE__*/_jsxDEV(\"abbr\", {\n                            title: \"Serial No\",\n                            children: \"S/No\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 207,\n                            columnNumber: 45\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 207,\n                          columnNumber: 41\n                        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                          children: /*#__PURE__*/_jsxDEV(\"abbr\", {\n                            title: \"Cost Price\",\n                            children: \"Date\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 208,\n                            columnNumber: 45\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 208,\n                          columnNumber: 41\n                        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                          children: /*#__PURE__*/_jsxDEV(\"abbr\", {\n                            title: \"Quantity\",\n                            children: \"Amount\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 209,\n                            columnNumber: 45\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 209,\n                          columnNumber: 41\n                        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                          children: /*#__PURE__*/_jsxDEV(\"abbr\", {\n                            title: \"Base Unit\",\n                            children: \"Mode\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 210,\n                            columnNumber: 45\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 210,\n                          columnNumber: 41\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 206,\n                        columnNumber: 41\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 205,\n                      columnNumber: 37\n                    }, this), /*#__PURE__*/_jsxDEV(\"tfoot\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 219,\n                      columnNumber: 37\n                    }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                      children: facility.map(function (Inventory, i) {\n                        return /*#__PURE__*/_jsxDEV(_Fragment, {\n                          children: Inventory.category === \"credit\" && /*#__PURE__*/_jsxDEV(\"tr\", {\n                            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                              children: i + 1\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 227,\n                              columnNumber: 45\n                            }, _this), /*#__PURE__*/_jsxDEV(\"td\", {\n                              children: new Date(Inventory.createdAt).toLocaleString('en-GB')\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 228,\n                              columnNumber: 45\n                            }, _this), \" \", /*#__PURE__*/_jsxDEV(\"td\", {\n                              children: Inventory.amount\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 230,\n                              columnNumber: 45\n                            }, _this), /*#__PURE__*/_jsxDEV(\"td\", {\n                              children: Inventory.paymentmode\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 231,\n                              columnNumber: 45\n                            }, _this)]\n                          }, Inventory._id, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 226,\n                            columnNumber: 45\n                          }, _this)\n                        }, void 0, false);\n                      })\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 222,\n                      columnNumber: 37\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 204,\n                    columnNumber: 33\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 203,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"column is-6 \",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card cardht80\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-header\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"card-header-title\",\n                  children: \"Debit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 254,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-content vscrollable mx-0.5\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"table-container pullup \",\n                  children: /*#__PURE__*/_jsxDEV(\"table\", {\n                    className: \"table is-striped is-narrow is-hoverable  is-scrollable mx-0.5\",\n                    children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                      children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                          children: /*#__PURE__*/_jsxDEV(\"abbr\", {\n                            title: \"Serial No\",\n                            children: \"S/No\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 264,\n                            columnNumber: 45\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 264,\n                          columnNumber: 41\n                        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                          children: /*#__PURE__*/_jsxDEV(\"abbr\", {\n                            title: \"Cost Price\",\n                            children: \"Date\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 265,\n                            columnNumber: 45\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 265,\n                          columnNumber: 41\n                        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                          children: /*#__PURE__*/_jsxDEV(\"abbr\", {\n                            title: \"Description\",\n                            children: \"Description\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 266,\n                            columnNumber: 46\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 266,\n                          columnNumber: 42\n                        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                          children: /*#__PURE__*/_jsxDEV(\"abbr\", {\n                            title: \"Quantity\",\n                            children: \"Amount\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 268,\n                            columnNumber: 45\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 268,\n                          columnNumber: 41\n                        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                          children: /*#__PURE__*/_jsxDEV(\"abbr\", {\n                            title: \"Base Unit\",\n                            children: \"Mode\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 269,\n                            columnNumber: 45\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 269,\n                          columnNumber: 41\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 263,\n                        columnNumber: 41\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 262,\n                      columnNumber: 37\n                    }, this), /*#__PURE__*/_jsxDEV(\"tfoot\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 278,\n                      columnNumber: 37\n                    }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                      children: facility.map(function (Inventory, i) {\n                        return /*#__PURE__*/_jsxDEV(_Fragment, {\n                          children: Inventory.category === \"debit\" && /*#__PURE__*/_jsxDEV(\"tr\", {\n                            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                              children: i + 1\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 285,\n                              columnNumber: 45\n                            }, _this), /*#__PURE__*/_jsxDEV(\"td\", {\n                              children: new Date(Inventory.createdAt).toLocaleString('en-GB')\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 286,\n                              columnNumber: 45\n                            }, _this), \" \", /*#__PURE__*/_jsxDEV(\"th\", {\n                              children: Inventory.description\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 287,\n                              columnNumber: 45\n                            }, _this), /*#__PURE__*/_jsxDEV(\"td\", {\n                              children: Inventory.amount\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 288,\n                              columnNumber: 45\n                            }, _this), /*#__PURE__*/_jsxDEV(\"td\", {\n                              children: Inventory.paymentmode\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 289,\n                              columnNumber: 45\n                            }, _this)]\n                          }, Inventory._id, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 284,\n                            columnNumber: 76\n                          }, _this)\n                        }, void 0, false);\n                      })\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 281,\n                      columnNumber: 37\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 261,\n                    columnNumber: 33\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 260,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 258,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 12\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n\n_s2(ClientAccount, \"mu+orlf8kxAC+PDfz6qwf32nZuQ=\", false, function () {\n  return [useForm];\n});\n\n_c2 = ClientAccount;\nexport function CollectionList() {\n  _s3();\n\n  var _this2 = this;\n\n  // const { register, handleSubmit, watch, errors } = useForm();\n  // eslint-disable-next-line\n  var _useState15 = useState(false),\n      _useState16 = _slicedToArray(_useState15, 2),\n      error = _useState16[0],\n      setError = _useState16[1]; // eslint-disable-next-line\n\n\n  var _useState17 = useState(false),\n      _useState18 = _slicedToArray(_useState17, 2),\n      success = _useState18[0],\n      setSuccess = _useState18[1]; // eslint-disable-next-line\n\n\n  var _useState19 = useState(\"\"),\n      _useState20 = _slicedToArray(_useState19, 2),\n      message = _useState20[0],\n      setMessage = _useState20[1];\n\n  var InventoryServ = client.service('subwallettransactions'); //const history = useHistory()\n  // const {user,setUser} = useContext(UserContext)\n\n  var _useState21 = useState([]),\n      _useState22 = _slicedToArray(_useState21, 2),\n      facilities = _useState22[0],\n      setFacilities = _useState22[1]; // eslint-disable-next-line\n\n\n  var _useState23 = useState(),\n      _useState24 = _slicedToArray(_useState23, 2),\n      selectedInventory = _useState24[0],\n      setSelectedInventory = _useState24[1]; //\n  // eslint-disable-next-line\n\n\n  var _useContext4 = useContext(ObjectContext),\n      state = _useContext4.state,\n      setState = _useContext4.setState; // eslint-disable-next-line\n\n\n  var _useContext5 = useContext(UserContext),\n      user = _useContext5.user,\n      setUser = _useContext5.setUser;\n\n  var handleCreateNew = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var newInventoryModule;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              newInventoryModule = {\n                selectedInventory: {},\n                show: 'create'\n              };\n              _context2.next = 3;\n              return setState(function (prevstate) {\n                return _objectSpread(_objectSpread({}, prevstate), {}, {\n                  InventoryModule: newInventoryModule\n                });\n              });\n\n            case 3:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function handleCreateNew() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var handleRow = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(Inventory) {\n      var newInventoryModule;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return setSelectedInventory(Inventory);\n\n            case 2:\n              newInventoryModule = {\n                client: Inventory,\n                show: 'detail'\n              };\n              _context3.next = 5;\n              return setState(function (prevstate) {\n                return _objectSpread(_objectSpread({}, prevstate), {}, {\n                  SelectedClient: newInventoryModule\n                });\n              });\n\n            case 5:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function handleRow(_x) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var handleSearch = function handleSearch(val) {\n    var _query;\n\n    var field = 'fromName';\n    console.log(val);\n    InventoryServ.find({\n      query: (_query = {}, _defineProperty(_query, field, {\n        $regex: val,\n        $options: 'i'\n      }), _defineProperty(_query, \"facility\", user.currentEmployee.facilityDetail._id || \"\"), _defineProperty(_query, \"$limit\", 20), _defineProperty(_query, \"$sort\", {\n        createdAt: -1\n      }), _query)\n    }).then(function (res) {\n      //console.log(res)\n      setFacilities(res.data);\n      /* setMessage(\" Inventory  fetched successfully\")\n      setSuccess(true)  */\n    }).catch(function (err) {\n      console.log(err);\n      toast({\n        message: 'Error during search ' + err,\n        type: 'is-danger',\n        dismissible: true,\n        pauseOnHover: true\n      });\n    });\n  };\n\n  var getFacilities = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n      var DAY_MS, findInventory, _findInventory;\n\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              if (!user.currentEmployee) {\n                _context4.next = 9;\n                break;\n              }\n\n              DAY_MS = 30 * 24 * 60 * 60 * 1000;\n              _context4.next = 4;\n              return InventoryServ.find({\n                query: {\n                  facility: user.currentEmployee.facilityDetail._id,\n                  // storeId:state.StoreModule.selectedStore._id,\n                  category: \"credit\",\n                  createdAt: {\n                    $gt: new Date().getTime() - DAY_MS //last 30days\n\n                  },\n                  $sort: {\n                    createdAt: -1\n                  }\n                }\n              });\n\n            case 4:\n              findInventory = _context4.sent;\n              _context4.next = 7;\n              return setFacilities(findInventory.data);\n\n            case 7:\n              _context4.next = 15;\n              break;\n\n            case 9:\n              if (!user.stacker) {\n                _context4.next = 15;\n                break;\n              }\n\n              _context4.next = 12;\n              return InventoryServ.find({\n                query: {\n                  $limit: 20,\n                  $sort: {\n                    createdAt: -1\n                  }\n                }\n              });\n\n            case 12:\n              _findInventory = _context4.sent;\n              _context4.next = 15;\n              return setFacilities(_findInventory.data);\n\n            case 15:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function getFacilities() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    console.log(facilities); //getFacilities(user)\n\n    return function () {};\n  }, [facilities]);\n  useEffect(function () {\n    if (user) {\n      getFacilities();\n    } else {\n      /* const localUser= localStorage.getItem(\"user\")\n      const user1=JSON.parse(localUser)\n      console.log(localUser)\n      console.log(user1)\n      fetchUser(user1)\n      console.log(user)\n      getFacilities(user) */\n    }\n\n    InventoryServ.on('created', function (obj) {\n      return getFacilities();\n    });\n    InventoryServ.on('updated', function (obj) {\n      return getFacilities();\n    });\n    InventoryServ.on('patched', function (obj) {\n      return getFacilities();\n    });\n    InventoryServ.on('removed', function (obj) {\n      return getFacilities();\n    });\n    return function () {};\n  }, []);\n  useEffect(function () {\n    getFacilities();\n    return function () {};\n  }, [state.StoreModule.selectedStore]); //todo: pagination and vertical scroll bar\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: user ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"level\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"level-left\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"level-item\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"control has-icons-left  \",\n                children: [/*#__PURE__*/_jsxDEV(DebounceInput, {\n                  className: \"input is-small \",\n                  type: \"text\",\n                  placeholder: \"Search Collections\",\n                  minLength: 3,\n                  debounceTimeout: 400,\n                  onChange: function onChange(e) {\n                    return handleSearch(e.target.value);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 496,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"icon is-small is-left\",\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-search\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 502,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 501,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 495,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 494,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 493,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 492,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"level-item\",\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"is-size-6 has-text-weight-medium\",\n            children: \"Collections in last 30 days \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 508,\n            columnNumber: 50\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 508,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"level-right\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 509,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 491,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"table-container pullup \",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"table is-striped is-narrow is-hoverable is-fullwidth is-scrollable \",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: /*#__PURE__*/_jsxDEV(\"abbr\", {\n                  title: \"Serial No\",\n                  children: \"S/No\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 520,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 520,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: /*#__PURE__*/_jsxDEV(\"abbr\", {\n                  title: \"Cost Price\",\n                  children: \"Date\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 521,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 521,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Client\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 523,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: /*#__PURE__*/_jsxDEV(\"abbr\", {\n                  title: \"Quantity\",\n                  children: \"Amount\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 524,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 524,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: /*#__PURE__*/_jsxDEV(\"abbr\", {\n                  title: \"Base Unit\",\n                  children: \"Mode\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 525,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 525,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 519,\n              columnNumber: 41\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 518,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"tfoot\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 534,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: facilities.map(function (Inventory, i) {\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                onClick: function onClick() {\n                  return handleRow(Inventory);\n                },\n                className: Inventory._id === ((selectedInventory === null || selectedInventory === void 0 ? void 0 : selectedInventory._id) || null) ? \"is-selected\" : \"\",\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: i + 1\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 541,\n                  columnNumber: 45\n                }, _this2), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: new Date(Inventory.createdAt).toLocaleString('en-GB')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 542,\n                  columnNumber: 45\n                }, _this2), \" \", /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: Inventory.fromName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 543,\n                  columnNumber: 45\n                }, _this2), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: Inventory.amount\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 544,\n                  columnNumber: 45\n                }, _this2), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: Inventory.paymentmode\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 545,\n                  columnNumber: 45\n                }, _this2)]\n              }, Inventory._id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 540,\n                columnNumber: 45\n              }, _this2);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 537,\n            columnNumber: 37\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 517,\n          columnNumber: 33\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 516,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"loading\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 560,\n      columnNumber: 18\n    }, this)\n  }, void 0, false);\n}\n\n_s3(CollectionList, \"1zI1ui7YraLh5fdK9GEOXLh+FBU=\");\n\n_c3 = CollectionList;\nexport function InventoryDetail() {\n  _s4();\n\n  //const { register, handleSubmit, watch, setValue } = useForm(); //errors,\n  // eslint-disable-next-line\n  var _useState25 = useState(false),\n      _useState26 = _slicedToArray(_useState25, 2),\n      error = _useState26[0],\n      setError = _useState26[1]; //, \n  //const [success, setSuccess] =useState(false)\n  // eslint-disable-next-line\n\n\n  var _useState27 = useState(\"\"),\n      _useState28 = _slicedToArray(_useState27, 2),\n      message = _useState28[0],\n      setMessage = _useState28[1]; //,\n  //const InventoryServ=client.service('/Inventory')\n  //const history = useHistory()\n  //const {user,setUser} = useContext(UserContext)\n\n\n  var _useContext6 = useContext(ObjectContext),\n      state = _useContext6.state,\n      setState = _useContext6.setState;\n\n  var _useContext7 = useContext(UserContext),\n      user = _useContext7.user; //,setUser\n\n\n  var Inventory = state.InventoryModule.selectedInventory;\n  console.log(\"selected\", Inventory);\n\n  var getFacilities = /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n      var findProductEntry;\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.next = 2;\n              return client.service('productentry').find({\n                query: {\n                  'productitems.productId': Inventory.productId,\n                  facility: user.currentEmployee.facilityDetail._id,\n                  storeId: state.StoreModule.selectedStore._id,\n                  $limit: 20,\n                  $sort: {\n                    createdAt: -1\n                  }\n                }\n              });\n\n            case 2:\n              findProductEntry = _context5.sent;\n              console.log(findProductEntry);\n\n            case 4:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n\n    return function getFacilities() {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    getFacilities();\n    return function () {};\n  }, [Inventory]);\n  /* await setFacilities(findProductEntry.data)\n         }\n         else {\n             if (user.stacker){ */\n\n  /* toast({\n      message: 'You do not qualify to view this',\n      type: 'is-danger',\n      dismissible: true,\n      pauseOnHover: true,\n    }) \n    return */\n\n  /*  const findProductEntry= await ProductEntryServ.find(\n       {query: {\n           \n           $limit:20,\n           $sort: {\n               createdAt: -1\n           }\n           }})\n    await setFacilities(findProductEntry.data)\n  }\n  }  */\n\n  /*   .then((res)=>{\n        console.log(res)\n            setFacilities(res.data)\n            setMessage(\" ProductEntry  fetched successfully\")\n            setSuccess(true)\n        })\n        .catch((err)=>{\n            setMessage(\"Error creating ProductEntry, probable network issues \"+ err )\n            setError(true)\n        }) */\n\n  var handleEdit = /*#__PURE__*/function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6() {\n      var newInventoryModule;\n      return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              newInventoryModule = {\n                selectedInventory: Inventory,\n                show: 'modify'\n              };\n              _context6.next = 3;\n              return setState(function (prevstate) {\n                return _objectSpread(_objectSpread({}, prevstate), {}, {\n                  InventoryModule: newInventoryModule\n                });\n              });\n\n            case 3:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6);\n    }));\n\n    return function handleEdit() {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card \",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-header\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"card-header-title\",\n          children: \"Inventory Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 660,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 659,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-content vscrollable\",\n        children: [/*#__PURE__*/_jsxDEV(\"table\", {\n          children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"label is-small\",\n                  children: [\" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"icon is-small is-left\",\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fas fa-hospital\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 672,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 671,\n                    columnNumber: 56\n                  }, this), \"Product Name:\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 671,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 669,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"is-size-7 padleft\",\n                  name: \"name\",\n                  children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: [\" \", Inventory.name, \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 678,\n                    columnNumber: 75\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 678,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 677,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 668,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 667,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 666,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"field mt-2 is-grouped\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"control\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"button is-success is-small\",\n              onClick: handleEdit,\n              children: \"Set Price\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 697,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 696,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"control\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"button is-danger is-small\"\n              /*  onClick={handleSetPrice} */\n              ,\n              children: \"Audit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 702,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 701,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"control\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"button is-info is-small\"\n              /* onClick={handleEdit} */\n              ,\n              children: \"Transaction History\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 707,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 706,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"control\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"button is-warning is-small\"\n              /* onClick={handleEdit} */\n              ,\n              children: \"Reorder Level\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 712,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 711,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 695,\n          columnNumber: 13\n        }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"message\",\n          children: [\" \", message]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 717,\n          columnNumber: 24\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 664,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 658,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n\n_s4(InventoryDetail, \"zx6AtQ8/RrV/PLh+8fT8BNWjIjI=\");\n\n_c4 = InventoryDetail;\nexport function InventoryModify() {\n  _s5();\n\n  var _useForm2 = useForm(),\n      register = _useForm2.register,\n      handleSubmit = _useForm2.handleSubmit,\n      setValue = _useForm2.setValue,\n      reset = _useForm2.reset,\n      errors = _useForm2.errors; //watch, errors,\n  // eslint-disable-next-line \n\n\n  var _useState29 = useState(false),\n      _useState30 = _slicedToArray(_useState29, 2),\n      error = _useState30[0],\n      setError = _useState30[1]; // eslint-disable-next-line \n\n\n  var _useState31 = useState(false),\n      _useState32 = _slicedToArray(_useState31, 2),\n      success = _useState32[0],\n      setSuccess = _useState32[1]; // eslint-disable-next-line \n\n\n  var _useState33 = useState(\"\"),\n      _useState34 = _slicedToArray(_useState33, 2),\n      message = _useState34[0],\n      setMessage = _useState34[1];\n\n  var _useState35 = useState(),\n      _useState36 = _slicedToArray(_useState35, 2),\n      billservice = _useState36[0],\n      setBillService = _useState36[1]; // eslint-disable-next-line \n\n\n  var InventoryServ = client.service('inventory'); //const history = useHistory()\n  // eslint-disable-next-line\n\n  var _useContext8 = useContext(UserContext),\n      user = _useContext8.user;\n\n  var _useContext9 = useContext(ObjectContext),\n      state = _useContext9.state,\n      setState = _useContext9.setState;\n\n  var billServ = client.service('billing');\n  var Inventory = state.InventoryModule.selectedInventory; // set inventory\n\n  var handleSetPrice = /*#__PURE__*/function () {\n    var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7() {\n      var service, contractSel;\n      return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              _context7.next = 2;\n              return billServ.get(Inventory.billingId);\n\n            case 2:\n              service = _context7.sent;\n              // get the service\n              contractSel = service.contracts.filter(function (element) {\n                return element.source_org === Inventory.facility && element.dest_org === Inventory.facility;\n              });\n              setValue(\"price\", contractSel[0].price, {\n                shouldValidate: true,\n                shouldDirty: true\n              });\n              setValue(\"oldprice\", contractSel[0].price, {\n                shouldValidate: true,\n                shouldDirty: true\n              });\n              _context7.next = 8;\n              return setBillService(service);\n\n            case 8:\n              console.log(contractSel, service);\n\n            case 9:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, _callee7);\n    }));\n\n    return function handleSetPrice() {\n      return _ref7.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    handleSetPrice();\n    return function () {};\n  }, []);\n\n  var handleCancel = /*#__PURE__*/function () {\n    var _ref8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8() {\n      var newInventoryModule;\n      return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n        while (1) {\n          switch (_context8.prev = _context8.next) {\n            case 0:\n              newInventoryModule = {\n                selectedInventory: {},\n                show: 'detail'\n              };\n              _context8.next = 3;\n              return setState(function (prevstate) {\n                return _objectSpread(_objectSpread({}, prevstate), {}, {\n                  InventoryModule: newInventoryModule\n                });\n              });\n\n            case 3:\n            case \"end\":\n              return _context8.stop();\n          }\n        }\n      }, _callee8);\n    }));\n\n    return function handleCancel() {\n      return _ref8.apply(this, arguments);\n    };\n  }();\n\n  var changeState = function changeState() {\n    var newInventoryModule = {\n      selectedInventory: {},\n      show: 'detail'\n    };\n    setState(function (prevstate) {\n      return _objectSpread(_objectSpread({}, prevstate), {}, {\n        InventoryModule: newInventoryModule\n      });\n    });\n  };\n\n  var handleDelete = /*#__PURE__*/function () {\n    var _ref9 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee9() {\n      var conf, dleteId;\n      return _regeneratorRuntime.wrap(function _callee9$(_context9) {\n        while (1) {\n          switch (_context9.prev = _context9.next) {\n            case 0:\n              conf = window.confirm(\"Are you sure you want to delete this data?\");\n              dleteId = Inventory._id;\n\n              if (conf) {\n                InventoryServ.remove(dleteId).then(function (res) {\n                  //console.log(JSON.stringify(res))\n                  reset();\n                  /*  setMessage(\"Deleted Inventory successfully\")\n                   setSuccess(true)\n                   changeState()\n                  setTimeout(() => {\n                   setSuccess(false)\n                   }, 200); */\n\n                  toast({\n                    message: 'Inventory deleted succesfully',\n                    type: 'is-success',\n                    dismissible: true,\n                    pauseOnHover: true\n                  });\n                  changeState();\n                }).catch(function (err) {\n                  // setMessage(\"Error deleting Inventory, probable network issues \"+ err )\n                  // setError(true)\n                  toast({\n                    message: \"Error deleting Inventory, probable network issues or \" + err,\n                    type: 'is-danger',\n                    dismissible: true,\n                    pauseOnHover: true\n                  });\n                });\n              }\n\n            case 3:\n            case \"end\":\n              return _context9.stop();\n          }\n        }\n      }, _callee9);\n    }));\n\n    return function handleDelete() {\n      return _ref9.apply(this, arguments);\n    };\n  }();\n  /* ()=> setValue(\"firstName\", \"Bill\", , {\n           shouldValidate: true,\n           shouldDirty: true\n         })) */\n\n\n  var onSubmit = function onSubmit(data, e) {\n    e.preventDefault();\n    setSuccess(false);\n    console.log(data); // data.facility=Inventory.facility\n    //console.log(data);\n\n    var contractSel = billservice.contracts.filter(function (element) {\n      return element.source_org === Inventory.facility && element.dest_org === Inventory.facility;\n    });\n    contractSel[0].price = data.price;\n    billServ.patch(billservice._id, billservice).then(function (res) {\n      //console.log(JSON.stringify(res))\n      // e.target.reset();\n      // setMessage(\"updated Inventory successfully\")\n      toast({\n        message: 'Price updated succesfully',\n        type: 'is-success',\n        dismissible: true,\n        pauseOnHover: true\n      });\n      changeState();\n    }).catch(function (err) {\n      //setMessage(\"Error creating Inventory, probable network issues \"+ err )\n      // setError(true)\n      toast({\n        message: \"Error updating Price, probable network issues or \" + err,\n        type: 'is-danger',\n        dismissible: true,\n        pauseOnHover: true\n      });\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card \",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-header\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"card-header-title\",\n          children: [\"Set Price for \", Inventory.name, \" per \", Inventory.baseunit]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 876,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 875,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-content vscrollable\",\n        children: [/*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit(onSubmit),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"field\",\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"label is-small\",\n              children: [\" New Selling Price\", /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"control has-icons-left has-icons-right\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"input  is-small\",\n                  ref: register({\n                    required: true\n                  }),\n                  name: \"price\",\n                  type: \"text\",\n                  placeholder: \"Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 886,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"icon is-small is-left\",\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-hospital\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 888,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 887,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 885,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 884,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 883,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"field\",\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"label is-small\",\n              children: [\"Old Price\", /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"control has-icons-left has-icons-right\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"input is-small \",\n                  ref: register({\n                    required: true\n                  }),\n                  disabled: true,\n                  name: \"oldprice\",\n                  type: \"text\",\n                  placeholder: \"Inventory Type\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 896,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"icon is-small is-left\",\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-map-signs\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 898,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 897,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 895,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 894,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 893,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 882,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"field  is-grouped mt-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"control\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"button is-success is-small\",\n              onClick: handleSubmit(onSubmit),\n              children: \"Save\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 911,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 910,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"control\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"button is-warning is-small\",\n              onClick: handleCancel,\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 916,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 915,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 909,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 880,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 874,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n\n_s5(InventoryModify, \"asp3CngwUok2CWaTAjSYrzEcteo=\", false, function () {\n  return [useForm];\n});\n\n_c5 = InventoryModify;\nexport function ProductSearch(_ref10) {\n  _s6();\n\n  var _this3 = this;\n\n  var getSearchfacility = _ref10.getSearchfacility,\n      clear = _ref10.clear;\n  var facilityServ = client.service('products');\n\n  var _useState37 = useState([]),\n      _useState38 = _slicedToArray(_useState37, 2),\n      facilities = _useState38[0],\n      setFacilities = _useState38[1]; // eslint-disable-next-line\n\n\n  var _useState39 = useState(false),\n      _useState40 = _slicedToArray(_useState39, 2),\n      searchError = _useState40[0],\n      setSearchError = _useState40[1]; // eslint-disable-next-line\n\n\n  var _useState41 = useState(false),\n      _useState42 = _slicedToArray(_useState41, 2),\n      showPanel = _useState42[0],\n      setShowPanel = _useState42[1]; // eslint-disable-next-line\n\n\n  var _useState43 = useState(\"\"),\n      _useState44 = _slicedToArray(_useState43, 2),\n      searchMessage = _useState44[0],\n      setSearchMessage = _useState44[1]; // eslint-disable-next-line \n\n\n  var _useState45 = useState(\"\"),\n      _useState46 = _slicedToArray(_useState45, 2),\n      simpa = _useState46[0],\n      setSimpa = _useState46[1]; // eslint-disable-next-line \n\n\n  var _useState47 = useState(false),\n      _useState48 = _slicedToArray(_useState47, 2),\n      chosen = _useState48[0],\n      setChosen = _useState48[1]; // eslint-disable-next-line \n\n\n  var _useState49 = useState(0),\n      _useState50 = _slicedToArray(_useState49, 2),\n      count = _useState50[0],\n      setCount = _useState50[1];\n\n  var inputEl = useRef(null);\n\n  var handleRow = /*#__PURE__*/function () {\n    var _ref11 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee10(obj) {\n      return _regeneratorRuntime.wrap(function _callee10$(_context10) {\n        while (1) {\n          switch (_context10.prev = _context10.next) {\n            case 0:\n              _context10.next = 2;\n              return setChosen(true);\n\n            case 2:\n              //alert(\"something is chaning\")\n              getSearchfacility(obj);\n              _context10.next = 5;\n              return setSimpa(obj.facilityName);\n\n            case 5:\n              // setSelectedFacility(obj)\n              setShowPanel(false);\n              _context10.next = 8;\n              return setCount(2);\n\n            case 8:\n            case \"end\":\n              return _context10.stop();\n          }\n        }\n      }, _callee10);\n    }));\n\n    return function handleRow(_x2) {\n      return _ref11.apply(this, arguments);\n    };\n  }();\n\n  var handleBlur = /*#__PURE__*/function () {\n    var _ref12 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee11(e) {\n      return _regeneratorRuntime.wrap(function _callee11$(_context11) {\n        while (1) {\n          switch (_context11.prev = _context11.next) {\n            case 0:\n              if (count === 2) {\n                console.log(\"stuff was chosen\");\n              }\n              /*  console.log(\"blur\")\n                setShowPanel(false)\n               console.log(JSON.stringify(simpa))\n               if (simpa===\"\"){\n                   console.log(facilities.length)\n                   setSimpa(\"abc\")\n                   setSimpa(\"\")\n                   setFacilities([])\n                   inputEl.current.setValue=\"\"\n               }\n               console.log(facilities.length)\n               console.log(inputEl.current) */\n\n\n            case 1:\n            case \"end\":\n              return _context11.stop();\n          }\n        }\n      }, _callee11);\n    }));\n\n    return function handleBlur(_x3) {\n      return _ref12.apply(this, arguments);\n    };\n  }();\n\n  var handleSearch = /*#__PURE__*/function () {\n    var _ref13 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee12(val) {\n      var field, _query2;\n\n      return _regeneratorRuntime.wrap(function _callee12$(_context12) {\n        while (1) {\n          switch (_context12.prev = _context12.next) {\n            case 0:\n              field = 'name'; //field variable\n\n              if (!(val.length >= 3)) {\n                _context12.next = 5;\n                break;\n              }\n\n              facilityServ.find({\n                query: (_query2 = {}, _defineProperty(_query2, field, {\n                  $regex: val,\n                  $options: 'i'\n                }), _defineProperty(_query2, \"$limit\", 10), _defineProperty(_query2, \"$sort\", {\n                  createdAt: -1\n                }), _query2)\n              }).then(function (res) {\n                console.log(\"facility  fetched successfully\");\n                setFacilities(res.data);\n                setSearchMessage(\" facility  fetched successfully\");\n                setShowPanel(true);\n              }).catch(function (err) {\n                console.log(err);\n                setSearchMessage(\"Error searching facility, probable network issues \" + err);\n                setSearchError(true);\n              });\n              _context12.next = 11;\n              break;\n\n            case 5:\n              console.log(\"less than 3 \");\n              console.log(val);\n              setShowPanel(false);\n              _context12.next = 10;\n              return setFacilities([]);\n\n            case 10:\n              console.log(facilities);\n\n            case 11:\n            case \"end\":\n              return _context12.stop();\n          }\n        }\n      }, _callee12);\n    }));\n\n    return function handleSearch(_x4) {\n      return _ref13.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    if (clear) {\n      setSimpa(\"\");\n    }\n\n    return function () {};\n  }, [clear]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"field\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"control has-icons-left  \",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dropdown \".concat(showPanel ? \"is-active\" : \"\"),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dropdown-trigger\",\n            children: [/*#__PURE__*/_jsxDEV(DebounceInput, {\n              className: \"input is-small \",\n              type: \"text\",\n              placeholder: \"Search Product\",\n              value: simpa,\n              minLength: 1,\n              debounceTimeout: 400,\n              onBlur: function onBlur(e) {\n                return handleBlur(e);\n              },\n              onChange: function onChange(e) {\n                return handleSearch(e.target.value);\n              },\n              inputRef: inputEl\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1038,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"icon is-small is-left\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-search\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1048,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1047,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1037,\n            columnNumber: 25\n          }, this), searchError && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: searchMessage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1051,\n            columnNumber: 39\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dropdown-menu\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"dropdown-content\",\n              children: facilities.map(function (facility, i) {\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"dropdown-item\",\n                  onClick: function onClick() {\n                    return handleRow(facility);\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: facility.facilityName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1058,\n                    columnNumber: 41\n                  }, _this3)\n                }, facility._id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1056,\n                  columnNumber: 37\n                }, _this3);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1053,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1052,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1036,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1035,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1034,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1033,\n    columnNumber: 9\n  }, this);\n}\n\n_s6(ProductSearch, \"WwlB4cyESynXv2R7a7ohISLUpqU=\");\n\n_c6 = ProductSearch;\n\nvar _c, _c2, _c3, _c4, _c5, _c6;\n\n$RefreshReg$(_c, \"Collections\");\n$RefreshReg$(_c2, \"ClientAccount\");\n$RefreshReg$(_c3, \"CollectionList\");\n$RefreshReg$(_c4, \"InventoryDetail\");\n$RefreshReg$(_c5, \"InventoryModify\");\n$RefreshReg$(_c6, \"ProductSearch\");","map":{"version":3,"sources":["/home/mfybaby/Documents/HealthStack2/HS-frontend/src/components/Finance/Collections.js"],"names":["React","useState","useContext","useEffect","useRef","client","DebounceInput","useForm","UserContext","ObjectContext","toast","FacilityAccount","searchfacility","Collections","state","selectedInventory","setSelectedInventory","SelectedClient","show","ClientAccount","register","handleSubmit","setValue","error","setError","success","setSuccess","message","setMessage","facility","setFacility","InventoryServ","service","SubwalletServ","user","setState","currentUser","setCurrentUser","balance","setBalance","clientSel","getSearchfacility","obj","getaccountdetails","getBalance","find","query","currentEmployee","facilityDetail","_id","$sort","createdAt","then","res","console","log","data","type","dismissible","pauseOnHover","catch","err","organization","$limit","findProductEntry","length","amount","onSubmit","e","preventDefault","fromName","map","Inventory","i","category","Date","toLocaleString","paymentmode","description","CollectionList","facilities","setFacilities","setUser","handleCreateNew","newInventoryModule","prevstate","InventoryModule","handleRow","handleSearch","val","field","$regex","$options","getFacilities","DAY_MS","$gt","getTime","findInventory","stacker","on","StoreModule","selectedStore","target","value","InventoryDetail","productId","storeId","handleEdit","name","InventoryModify","reset","errors","billservice","setBillService","billServ","handleSetPrice","get","billingId","contractSel","contracts","filter","element","source_org","dest_org","price","shouldValidate","shouldDirty","handleCancel","changeState","handleDelete","conf","window","confirm","dleteId","remove","patch","baseunit","required","ProductSearch","clear","facilityServ","searchError","setSearchError","showPanel","setShowPanel","searchMessage","setSearchMessage","simpa","setSimpa","chosen","setChosen","count","setCount","inputEl","facilityName","handleBlur"],"mappings":"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","sourcesContent":["/* eslint-disable */\nimport React, {useState,useContext, useEffect,useRef} from 'react'\nimport client from '../../feathers'\nimport {DebounceInput} from 'react-debounce-input';\nimport { useForm } from \"react-hook-form\";\n//import {useHistory} from 'react-router-dom'\nimport {UserContext,ObjectContext} from '../../context'\nimport {toast} from 'bulma-toast'\nimport FacilityAccount from \"./FacilityAccount\"\n// eslint-disable-next-line\nconst searchfacility={};\n\n\nexport default function Collections() {\n    const {state}=useContext(ObjectContext) //,setState\n    // eslint-disable-next-line\n    const [selectedInventory,setSelectedInventory]=useState()\n    //const [showState,setShowState]=useState() //create|modify|detail\n    \n    return(\n        <section className= \"section remPadTop\">\n           {/*  <div className=\"level\">\n            <div className=\"level-item\"> <span className=\"is-size-6 has-text-weight-medium\">Inventory  Module</span></div>\n            </div> */}\n            <div className=\"columns \">\n                <div className=\"column is-5 \">\n                    <CollectionList />\n                </div>\n           <div className=\"column is-7 \">\n          \n                { (state.SelectedClient.show ==='detail') && <ClientAccount />}\n                {/*  {(state.InventoryModule.show ==='detail')&&<InventoryDetail  />}\n                {(state.InventoryModule.show ==='modify')&&<InventoryModify Inventory={selectedInventory} />}*/}\n               \n            </div> \n\n            </div>                            \n            </section>\n       \n    )\n    \n}\n\nexport function ClientAccount(){\n    const { register, handleSubmit,setValue} = useForm(); //, watch, errors, reset \n    const [error, setError] =useState(false)\n    const [success, setSuccess] =useState(false)\n    const [message,setMessage] = useState(\"\")\n    // eslint-disable-next-line\n    const [facility,setFacility] = useState([])\n    const InventoryServ=client.service('subwallettransactions')\n    const SubwalletServ=client.service('subwallet')\n    //const history = useHistory()\n    const {user} = useContext(UserContext) //,setUser\n    const {state,setState}=useContext(ObjectContext)\n    // eslint-disable-next-line\n    const [currentUser,setCurrentUser] = useState()\n    const [balance, setBalance]=useState(0)\n\n\n    const clientSel= state.SelectedClient.client\n    const getSearchfacility=(obj)=>{\n      /*   \n        setValue(\"facility\", obj._id,  {\n            shouldValidate: true,\n            shouldDirty: true\n        }) */\n    }\n    \n    useEffect(() => {\n        setCurrentUser(user)\n        //console.log(currentUser)\n        return () => {\n        \n        }\n    }, [user])\n\n  //check user for facility or get list of facility  \n   /*  useEffect(()=>{\n        //setFacility(user.activeInventory.FacilityId)//\n      if (!user.stacker){\n          console.log(currentUser)\n        setValue(\"facility\", user.currentEmployee.facilityDetail._id,  {\n            shouldValidate: true,\n            shouldDirty: true\n        }) \n      }\n    }) */\n\n    useEffect(() => {\n        getaccountdetails()\n        getBalance()\n        return () => {\n           \n        }\n    }, [clientSel])\n\n\n\n    const getaccountdetails=()=>{\n        InventoryServ.find({query: {\n            facility:user.currentEmployee.facilityDetail._id,\n            client:clientSel.client,\n           // storeId:state.StoreModule.selectedStore._id,\n           // category:\"credit\",\n            \n            $sort: {\n                createdAt: -1\n            }\n            }})\n        .then((res)=>{\n                console.log(res)\n                setFacility(res.data)\n                //e.target.reset();\n               /*  setMessage(\"Created Inventory successfully\") */\n               // setSuccess(true)\n                toast({\n                    message: 'Account details succesful',\n                    type: 'is-success',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n                 // setSuccess(false)\n            })\n            .catch((err)=>{\n                toast({\n                    message: 'Error getting account details ' + err,\n                    type: 'is-danger',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n            })\n    }\n\n    const getBalance=async ()=>{\n        const findProductEntry= await SubwalletServ.find(\n            {query: {\n               \n                client:clientSel.client,\n                organization:user.currentEmployee.facilityDetail._id,\n                //storeId:state.StoreModule.selectedStore._id,\n                //clientId:state.ClientModule.selectedClient._id,\n                $limit:100,\n                $sort: {\n                    createdAt: -1\n                }\n                }})\n                 console.log(findProductEntry)\n    \n         // console.log(\"balance\", findProductEntry.data[0].amount)\n            if (findProductEntry.data.length>0){\n                await setBalance(findProductEntry.data[0].amount)\n            }else{\n                await setBalance(0) \n                \n            } \n    \n          //  await setState((prevstate)=>({...prevstate, currentClients:findProductEntry.groupedOrder}))\n            }   \n    \n\n    const onSubmit = (data,e) =>{\n        e.preventDefault();\n        setMessage(\"\")\n        setError(false)\n        setSuccess(false)\n         // data.createdby=user._id\n          console.log(data);\n          if (user.currentEmployee){\n         data.facility=user.currentEmployee.facilityDetail._id  // or from facility dropdown\n          }\n        \n\n      } \n    \n\n    return (\n        <>\n            <div className=\"card cardheight\">\n                <div className=\"card-header\">\n                    <p className=\"card-header-title\">\n                        Account Details: {facility[0]?.fromName}\n                    </p>\n                    <button className=\"button is-success is-small btnheight mt-2\" >\n                    Current Balance: N {balance}\n                 </button>\n                </div>\n                <div className=\"card-content \">\n                \n           {/*  <div className=\"level\"> vscrollable\n            <div className=\"level-item\"> <span className=\"is-size-6 has-text-weight-medium\">Inventory  Module</span></div>\n            </div> */}\n            <div className=\"columns \">\n                <div className=\"column is-6 \">\n                    <div className=\"card cardht80\">\n                            <div className=\"card-header\">\n                                <p className=\"card-header-title\">\n                                    Credit\n                                </p>\n                            </div>\n                            <div className=\"card-content vscrollable mx-0.5\">\n                                   \n                                    <div className=\"table-container pullup \">\n                                <table className=\"table is-striped is-narrow is-hoverable is-fullwidth is-scrollable mx-0.5\">\n                                    <thead>\n                                        <tr>\n                                        <th><abbr title=\"Serial No\">S/No</abbr></th>\n                                        <th><abbr title=\"Cost Price\">Date</abbr></th>\n                                        <th><abbr title=\"Quantity\">Amount</abbr></th>\n                                        <th><abbr title=\"Base Unit\">Mode</abbr></th>\n                                       {/*  <th><abbr title=\"Stock Value\">Stock Value</abbr></th>\n                                         \n                                        <th><abbr title=\"Selling Price\">Selling Price</abbr></th>\n                                        <th><abbr title=\"Re-Order Level\">Re-Order Level</abbr></th>\n                                        <th><abbr title=\"Expiry\">Expiry</abbr></th> \n                                        <th><abbr title=\"Actions\">Actions</abbr></th> */}\n                                        </tr>\n                                    </thead>\n                                    <tfoot>\n                                        \n                                    </tfoot>\n                                    <tbody>\n                                        {facility.map((Inventory, i)=>(\n                                        <>\n                                        {Inventory.category===\"credit\" && \n                                            <tr key={Inventory._id} >\n                                            <th>{i+1}</th>\n                                            <td>{new Date(Inventory.createdAt).toLocaleString('en-GB')}</td> {/*add time  */}\n                                            \n                                            <td>{Inventory.amount}</td>\n                                            <td>{Inventory.paymentmode}</td>\n                                            {/* <td>{Inventory.stockvalue}</td>\n                                            <td>{Inventory.costprice}</td>\n                                            <td>{Inventory.sellingprice}</td>\n                                            <td>{Inventory.reorder_level}</td> \n                                            <td>{Inventory.expiry}</td>\n                                            <td><span   className=\"showAction\"  >...</span></td> */}\n                                           \n                                            </tr>\n                                             }\n                                             </>\n                                        ))}\n                                    </tbody>\n                                    </table>\n                                    \n                </div>              \n                                   \n                            </div>\n                    </div>\n                </div>\n           <div className=\"column is-6 \">\n                <div className=\"card cardht80\">\n                            <div className=\"card-header\">\n                                <p className=\"card-header-title\">\n                                Debit\n                                </p>\n                            </div>\n                            <div className=\"card-content vscrollable mx-0.5\">\n                                   \n                                    <div className=\"table-container pullup \">\n                                <table className=\"table is-striped is-narrow is-hoverable  is-scrollable mx-0.5\">\n                                    <thead>\n                                        <tr>\n                                        <th><abbr title=\"Serial No\">S/No</abbr></th>\n                                        <th><abbr title=\"Cost Price\">Date</abbr></th>\n                                         <th><abbr title=\"Description\">Description</abbr></th> \n                                        \n                                        <th><abbr title=\"Quantity\">Amount</abbr></th>\n                                        <th><abbr title=\"Base Unit\">Mode</abbr></th>\n                                       {/*  <th><abbr title=\"Stock Value\">Stock Value</abbr></th>\n                                         \n                                        <th><abbr title=\"Selling Price\">Selling Price</abbr></th>\n                                        <th><abbr title=\"Re-Order Level\">Re-Order Level</abbr></th>\n                                        <th><abbr title=\"Expiry\">Expiry</abbr></th> \n                                        <th><abbr title=\"Actions\">Actions</abbr></th> */}\n                                        </tr>\n                                    </thead>\n                                    <tfoot>\n                                        \n                                    </tfoot>\n                                    <tbody>\n                                        {facility.map((Inventory, i)=>(\n                                        <>\n                                          {Inventory.category===\"debit\" && <tr key={Inventory._id} >\n                                            <th>{i+1}</th>\n                                            <td>{new Date(Inventory.createdAt).toLocaleString('en-GB')}</td> {/*add time  */}\n                                            <th>{Inventory.description}</th>\n                                            <td>{Inventory.amount}</td>\n                                            <td>{Inventory.paymentmode}</td>\n                                            {/* <td>{Inventory.stockvalue}</td>\n                                            <td>{Inventory.costprice}</td>\n                                            <td>{Inventory.sellingprice}</td>\n                                            <td>{Inventory.reorder_level}</td> \n                                            <td>{Inventory.expiry}</td>\n                                            <td><span   className=\"showAction\"  >...</span></td> */}\n                                           \n                                            </tr>\n\n                                            }\n                                        </>\n                                        ))}\n                                    </tbody>\n                                    </table>\n                                    \n                </div>              \n                                    \n                            </div>\n                    </div>\n               \n            </div> \n\n            </div>                            \n           \n            \n                </div>\n            </div>\n        </>\n    )\n   \n}\n\nexport function CollectionList(){\n   // const { register, handleSubmit, watch, errors } = useForm();\n    // eslint-disable-next-line\n    const [error, setError] =useState(false)\n     // eslint-disable-next-line\n    const [success, setSuccess] =useState(false)\n     // eslint-disable-next-line\n   const [message, setMessage] = useState(\"\") \n    const InventoryServ=client.service('subwallettransactions')\n    //const history = useHistory()\n   // const {user,setUser} = useContext(UserContext)\n    const [facilities,setFacilities]=useState([])\n     // eslint-disable-next-line\n   const [selectedInventory, setSelectedInventory]=useState() //\n    // eslint-disable-next-line\n    const {state,setState}=useContext(ObjectContext)\n    // eslint-disable-next-line\n    const {user,setUser}=useContext(UserContext)\n\n\n\n    const handleCreateNew = async()=>{\n        const    newInventoryModule={\n            selectedInventory:{},\n            show :'create'\n            }\n       await setState((prevstate)=>({...prevstate, InventoryModule:newInventoryModule}))\n       //console.log(state)\n    }\n\n    const handleRow= async(Inventory)=>{\n        //console.log(\"b4\",state)\n\n        //console.log(\"handlerow\",Inventory)\n\n        await setSelectedInventory(Inventory)\n\n        const    newInventoryModule={\n            client:Inventory,\n            show :'detail'\n        }\n       await setState((prevstate)=>({...prevstate, SelectedClient:newInventoryModule}))\n       //console.log(state)\n\n    }\n\n   const handleSearch=(val)=>{\n       const field='fromName'\n       console.log(val)\n       InventoryServ.find({query: {\n                [field]: {\n                    $regex:val,\n                    $options:'i'\n                   \n                },\n               facility:user.currentEmployee.facilityDetail._id || \"\",\n                $limit:20,\n                $sort: {\n                    createdAt: -1\n                  }\n                    }}).then((res)=>{\n                //console.log(res)\n               setFacilities(res.data)\n                /* setMessage(\" Inventory  fetched successfully\")\n                setSuccess(true)  */\n            })\n            .catch((err)=>{\n                console.log(err)\n                toast({\n                    message: 'Error during search ' +err,\n                    type: 'is-danger',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n               \n            })\n        }\n   \n        const getFacilities= async()=>{\n            if (user.currentEmployee){\n                const DAY_MS = 30*24 * 60 * 60 * 1000;\n        const findInventory= await InventoryServ.find(\n                {query: {\n                    facility:user.currentEmployee.facilityDetail._id,\n                   // storeId:state.StoreModule.selectedStore._id,\n                    category:\"credit\",\n                    createdAt:{\n                        $gt: new Date().getTime() - DAY_MS //last 30days\n\n                    },\n                    $sort: {\n                        createdAt: -1\n                    }\n                    }})\n\n         await setFacilities(findInventory.data)\n                }\n                else {\n                    if (user.stacker){\n                        const findInventory= await InventoryServ.find(\n                            {query: {\n                                \n                                $limit:20,\n                                $sort: {\n                                    createdAt: -1\n                                }\n                                }})\n            \n                    await setFacilities(findInventory.data)\n\n                    }\n                }\n          /*   .then((res)=>{\n                console.log(res)\n                    setFacilities(res.data)\n                    setMessage(\" Inventory  fetched successfully\")\n                    setSuccess(true)\n                })\n                .catch((err)=>{\n                    setMessage(\"Error creating Inventory, probable network issues \"+ err )\n                    setError(true)\n                }) */\n            }\n            \n            useEffect(() => {\n               \n                    console.log(facilities)\n                    //getFacilities(user)\n              \n                return () => {\n                    \n\n                }\n            },[facilities])\n\n            useEffect(() => {\n               \n                if (user){\n                    getFacilities()\n                }else{\n                    /* const localUser= localStorage.getItem(\"user\")\n                    const user1=JSON.parse(localUser)\n                    console.log(localUser)\n                    console.log(user1)\n                    fetchUser(user1)\n                    console.log(user)\n                    getFacilities(user) */\n                }\n                InventoryServ.on('created', (obj)=>getFacilities())\n                InventoryServ.on('updated', (obj)=>getFacilities())\n                InventoryServ.on('patched', (obj)=>getFacilities())\n                InventoryServ.on('removed', (obj)=>getFacilities())\n                return () => {\n                \n                }\n            },[])\n        \n        useEffect(() => {\n            getFacilities()\n            return () => {\n               \n            }\n        }, [state.StoreModule.selectedStore])\n\n    //todo: pagination and vertical scroll bar\n\n    return(\n        <>\n           {user?( <>  \n                <div className=\"level\">\n                    <div className=\"level-left\">\n                        <div className=\"level-item\">\n                            <div className=\"field\">\n                                <p className=\"control has-icons-left  \">\n                                    <DebounceInput className=\"input is-small \" \n                                        type=\"text\" placeholder=\"Search Collections\"\n                                        minLength={3}\n                                        debounceTimeout={400}\n                                        onChange={(e)=>handleSearch(e.target.value)} />\n                                    <span className=\"icon is-small is-left\">\n                                        <i className=\"fas fa-search\"></i>\n                                    </span>\n                                </p>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"level-item\"> <span className=\"is-size-6 has-text-weight-medium\">Collections in last 30 days </span></div>\n                    <div className=\"level-right\">\n                        {/* <div className=\"level-item\"> \n                            <div className=\"level-item\"><div className=\"button is-success is-small\" onClick={handleCreateNew}>New</div></div>\n                        </div> */}\n                    </div>\n\n                </div>\n                <div className=\"table-container pullup \">\n                                <table className=\"table is-striped is-narrow is-hoverable is-fullwidth is-scrollable \">\n                                    <thead>\n                                        <tr>\n                                        <th><abbr title=\"Serial No\">S/No</abbr></th>\n                                        <th><abbr title=\"Cost Price\">Date</abbr></th>\n                                        {/* <th><abbr title=\"Category\">Category</abbr></th> */}\n                                        <th>Client</th>\n                                        <th><abbr title=\"Quantity\">Amount</abbr></th>\n                                        <th><abbr title=\"Base Unit\">Mode</abbr></th>\n                                       {/*  <th><abbr title=\"Stock Value\">Stock Value</abbr></th>\n                                         \n                                        <th><abbr title=\"Selling Price\">Selling Price</abbr></th>\n                                        <th><abbr title=\"Re-Order Level\">Re-Order Level</abbr></th>\n                                        <th><abbr title=\"Expiry\">Expiry</abbr></th> \n                                        <th><abbr title=\"Actions\">Actions</abbr></th> */}\n                                        </tr>\n                                    </thead>\n                                    <tfoot>\n                                        \n                                    </tfoot>\n                                    <tbody>\n                                        {facilities.map((Inventory, i)=>(\n\n                                            <tr key={Inventory._id} onClick={()=>handleRow(Inventory)} className={Inventory._id===(selectedInventory?._id||null)?\"is-selected\":\"\"}>\n                                            <th>{i+1}</th>\n                                            <td>{new Date(Inventory.createdAt).toLocaleString('en-GB')}</td> {/*add time  */}\n                                            <th>{Inventory.fromName}</th>\n                                            <td>{Inventory.amount}</td>\n                                            <td>{Inventory.paymentmode}</td>\n                                            {/* <td>{Inventory.stockvalue}</td>\n                                            <td>{Inventory.costprice}</td>\n                                            <td>{Inventory.sellingprice}</td>\n                                            <td>{Inventory.reorder_level}</td> \n                                            <td>{Inventory.expiry}</td>\n                                            <td><span   className=\"showAction\"  >...</span></td> */}\n                                           \n                                            </tr>\n\n                                        ))}\n                                    </tbody>\n                                    </table>\n                                    \n                </div>              \n            </>):<div>loading</div>}\n            </>\n              \n    )\n    }\n\n\nexport function InventoryDetail(){\n    //const { register, handleSubmit, watch, setValue } = useForm(); //errors,\n     // eslint-disable-next-line\n    const [error, setError] =useState(false) //, \n    //const [success, setSuccess] =useState(false)\n     // eslint-disable-next-line\n    const [message, setMessage] = useState(\"\") //,\n    //const InventoryServ=client.service('/Inventory')\n    //const history = useHistory()\n    //const {user,setUser} = useContext(UserContext)\n    const {state,setState} = useContext(ObjectContext)\n    const {user} = useContext(UserContext) //,setUser\n    \n   \n\n   const Inventory =state.InventoryModule.selectedInventory \n   console.log(\"selected\",Inventory)\n\n   \n  const getFacilities= async()=>{\n     const findProductEntry= await client.service('productentry').find(\n        {query: {\n            'productitems.productId':Inventory.productId,\n            facility:user.currentEmployee.facilityDetail._id,\n            storeId:state.StoreModule.selectedStore._id,\n            $limit:20,\n            $sort: {\n                createdAt: -1\n            }\n            }})\n\n        console.log(findProductEntry)\n       }\n    \n       useEffect(() => {\n        getFacilities()\n           return () => {\n               \n           }\n       }, [Inventory])\n /* await setFacilities(findProductEntry.data)\n        }\n        else {\n            if (user.stacker){ */\n                /* toast({\n                    message: 'You do not qualify to view this',\n                    type: 'is-danger',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  }) \n                  return */\n               /*  const findProductEntry= await ProductEntryServ.find(\n                    {query: {\n                        \n                        $limit:20,\n                        $sort: {\n                            createdAt: -1\n                        }\n                        }})\n    \n            await setFacilities(findProductEntry.data)\n\n            }\n        }  */\n  /*   .then((res)=>{\n        console.log(res)\n            setFacilities(res.data)\n            setMessage(\" ProductEntry  fetched successfully\")\n            setSuccess(true)\n        })\n        .catch((err)=>{\n            setMessage(\"Error creating ProductEntry, probable network issues \"+ err )\n            setError(true)\n        }) */\n    \n    \n\n\n\n    const handleEdit= async()=>{\n        const    newInventoryModule={\n            selectedInventory:Inventory,\n            show :'modify'\n        }\n       await setState((prevstate)=>({...prevstate, InventoryModule:newInventoryModule}))\n       //console.log(state)\n       \n    }\n \n    return (\n        <>\n        <div className=\"card \">\n            <div className=\"card-header\">\n                <p className=\"card-header-title\">\n                    Inventory Details\n                </p>\n            </div>\n            <div className=\"card-content vscrollable\">\n           \n                <table> \n                <tbody>         \n                <tr>\n                    <td>\n                \n                    <label className=\"label is-small\"> <span className=\"icon is-small is-left\">\n                            <i className=\"fas fa-hospital\"></i>\n                        </span>                    \n                        Product Name: \n                        </label>\n                        </td>\n                        <td>\n                        <span className=\"is-size-7 padleft\"   name=\"name\"><strong> {Inventory.name} </strong></span>\n                        </td>\n                    </tr>\n                   {/*  <tr>\n                    <td>\n                <label className=\"label is-small\"><span className=\"icon is-small is-left\">\n                        <i className=\"fas fa-map-signs\"></i>\n                    </span>Inventory Type:\n                    </label></td>\n                    <td>\n                    <span className=\"is-size-7 padleft\"   name=\"InventoryType\">{Inventory.InventoryType} </span> \n                    </td>\n                </tr> */}\n\n            </tbody> \n            </table> \n           \n            <div className=\"field mt-2 is-grouped\">\n                <p className=\"control\">\n                    <button className=\"button is-success is-small\" onClick={handleEdit}>\n                        Set Price\n                    </button>\n                </p>\n                <p className=\"control\">\n                    <button className=\"button is-danger is-small\"  /*  onClick={handleSetPrice} */>\n                        Audit\n                    </button>\n                </p>\n                <p className=\"control\">\n                    <button className=\"button is-info is-small\" /* onClick={handleEdit} */>\n                        Transaction History\n                    </button>\n                </p>\n                <p className=\"control\">\n                    <button className=\"button is-warning is-small\" /* onClick={handleEdit} */>\n                        Reorder Level\n                    </button>\n                </p>\n            </div>\n            { error && <div className=\"message\"> {message}</div>}\n           \n        </div>\n        </div>\n        </>\n    )\n   \n   \n}\n\nexport function InventoryModify(){\n    const { register, handleSubmit, setValue,reset, errors } = useForm(); //watch, errors,\n    // eslint-disable-next-line \n    const [error, setError] =useState(false)\n    // eslint-disable-next-line \n    const [success, setSuccess] =useState(false)\n    // eslint-disable-next-line \n    const [message,setMessage] = useState(\"\")\n    const [billservice,setBillService] = useState()\n    // eslint-disable-next-line \n    const InventoryServ=client.service('inventory')\n    //const history = useHistory()\n     // eslint-disable-next-line\n    const {user} = useContext(UserContext)\n    const {state,setState} = useContext(ObjectContext)\n    const billServ=client.service('billing')\n\n    const Inventory =state.InventoryModule.selectedInventory // set inventory\n    const handleSetPrice = async()=>{\n    \n        const service = await  billServ.get(Inventory.billingId) // get the service\n            const contractSel= service.contracts.filter(element=>(element.source_org===Inventory.facility && element.dest_org===Inventory.facility))\n            \n            setValue(\"price\", contractSel[0].price,  {\n                shouldValidate: true,\n                shouldDirty: true\n            })\n            setValue(\"oldprice\", contractSel[0].price,  {\n                shouldValidate: true,\n                shouldDirty: true\n            })\n            await setBillService(service)\n            console.log(contractSel,service)\n    }\n \n        useEffect(() => {\n            handleSetPrice()\n     \n            return () => {\n                \n            }\n        },[])\n\n   const handleCancel=async()=>{\n   \n    const    newInventoryModule={\n        selectedInventory:{},\n        show :'detail'\n      }\n        await setState((prevstate)=>({...prevstate, InventoryModule:newInventoryModule}))\n   //console.log(state)\n           }\n\n\n        const changeState =()=>{\n            const    newInventoryModule={\n                selectedInventory:{},\n                show :'detail'\n            }\n        setState((prevstate)=>({...prevstate, InventoryModule:newInventoryModule}))\n\n        }\n\n\n    const handleDelete=async()=>{\n        let conf=window.confirm(\"Are you sure you want to delete this data?\")\n        \n        const dleteId=Inventory._id\n        if (conf){\n             \n        InventoryServ.remove(dleteId)\n        .then((res)=>{\n                //console.log(JSON.stringify(res))\n                reset();\n               /*  setMessage(\"Deleted Inventory successfully\")\n                setSuccess(true)\n                changeState()\n               setTimeout(() => {\n                setSuccess(false)\n                }, 200); */\n                toast({\n                    message: 'Inventory deleted succesfully',\n                    type: 'is-success',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n                changeState()\n            })\n            .catch((err)=>{\n               // setMessage(\"Error deleting Inventory, probable network issues \"+ err )\n               // setError(true)\n                toast({\n                    message: \"Error deleting Inventory, probable network issues or \"+ err,\n                    type: 'is-danger',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n            })\n        }\n    }\n        \n\n   /* ()=> setValue(\"firstName\", \"Bill\", , {\n            shouldValidate: true,\n            shouldDirty: true\n          })) */\n    const onSubmit = (data,e) =>{\n        e.preventDefault();\n        \n        setSuccess(false)\n        console.log(data)\n       // data.facility=Inventory.facility\n          //console.log(data);\n          const contractSel= billservice.contracts.filter(element=>(element.source_org===Inventory.facility && element.dest_org===Inventory.facility))\n          contractSel[0].price=data.price \n          billServ.patch(billservice._id,billservice)\n        .then((res)=>{\n                //console.log(JSON.stringify(res))\n               // e.target.reset();\n               // setMessage(\"updated Inventory successfully\")\n                 toast({\n                    message: 'Price updated succesfully',\n                    type: 'is-success',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n                  \n                changeState()\n\n            })\n            .catch((err)=>{\n                //setMessage(\"Error creating Inventory, probable network issues \"+ err )\n               // setError(true)\n                toast({\n                    message: \"Error updating Price, probable network issues or \"+ err,\n                    type: 'is-danger',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n            }) \n\n      } \n     \n      \n    return (\n        \n        <>\n        <div className=\"card \">\n            <div className=\"card-header\">\n                <p className=\"card-header-title\">\n                    Set Price for {Inventory.name} per {Inventory.baseunit}\n                </p>\n            </div>\n            <div className=\"card-content vscrollable\">\n           \n            <form onSubmit={handleSubmit(onSubmit)}>\n                <div className=\"field\">\n                    <label className=\"label is-small\"> New Selling Price\n                    <p className=\"control has-icons-left has-icons-right\">\n                        <input className=\"input  is-small\" ref={register({ required: true })}  name=\"price\" type=\"text\" placeholder=\"Name\" />\n                        <span className=\"icon is-small is-left\">\n                            <i className=\"fas fa-hospital\"></i>\n                        </span>                    \n                    </p>\n                    </label>\n                    </div>\n                <div className=\"field\">\n                <label className=\"label is-small\">Old Price\n                    <p className=\"control has-icons-left has-icons-right\">\n                    <input className=\"input is-small \" ref={register({ required: true })} disabled name=\"oldprice\" type=\"text\" placeholder=\"Inventory Type\" />\n                    <span className=\"icon is-small is-left\">\n                        <i className=\"fas fa-map-signs\"></i>\n                    </span>\n                    \n                </p>\n                </label>\n                </div>\n           \n           \n           \n            </form>\n            \n            <div className=\"field  is-grouped mt-2\" >\n                <p className=\"control\">\n                    <button type=\"submit\" className=\"button is-success is-small\" onClick={handleSubmit(onSubmit)}>\n                        Save\n                    </button>\n                </p>\n                <p className=\"control\">\n                    <button className=\"button is-warning is-small\" onClick={handleCancel}>\n                        Cancel\n                    </button>\n                </p>\n               {/*  <p className=\"control\">\n                    <button className=\"button is-danger is-small\" onClick={()=>handleDelete()} type=\"delete\">\n                       Delete\n                    </button>\n                </p> */}\n            </div>\n        </div>\n        </div>\n        </>\n    )\n   \n   \n                \n}   \n\nexport  function ProductSearch({getSearchfacility,clear}) {\n    \n    const facilityServ=client.service('products')\n    const [facilities,setFacilities]=useState([])\n     // eslint-disable-next-line\n     const [searchError, setSearchError] =useState(false)\n     // eslint-disable-next-line\n    const [showPanel, setShowPanel] =useState(false)\n     // eslint-disable-next-line\n   const [searchMessage, setSearchMessage] = useState(\"\") \n   // eslint-disable-next-line \n   const [simpa,setSimpa]=useState(\"\")\n   // eslint-disable-next-line \n   const [chosen,setChosen]=useState(false)\n   // eslint-disable-next-line \n   const [count,setCount]=useState(0)\n   const inputEl=useRef(null)\n\n\n   const handleRow= async(obj)=>{\n        await setChosen(true)\n        //alert(\"something is chaning\")\n       getSearchfacility(obj)\n       \n       await setSimpa(obj.facilityName)\n       \n        // setSelectedFacility(obj)\n        setShowPanel(false)\n        await setCount(2)\n        /* const    newfacilityModule={\n            selectedFacility:facility,\n            show :'detail'\n        }\n   await setState((prevstate)=>({...prevstate, facilityModule:newfacilityModule})) */\n   //console.log(state)\n}\n    const handleBlur=async(e)=>{\n         if (count===2){\n             console.log(\"stuff was chosen\")\n         }\n       \n       /*  console.log(\"blur\")\n         setShowPanel(false)\n        console.log(JSON.stringify(simpa))\n        if (simpa===\"\"){\n            console.log(facilities.length)\n            setSimpa(\"abc\")\n            setSimpa(\"\")\n            setFacilities([])\n            inputEl.current.setValue=\"\"\n        }\n        console.log(facilities.length)\n        console.log(inputEl.current) */\n    }\n    const handleSearch=async(val)=>{\n        \n        const field='name' //field variable\n       \n        if (val.length>=3){\n            facilityServ.find({query: {     //service\n                 [field]: {\n                     $regex:val,\n                     $options:'i'\n                    \n                 },\n                 $limit:10,\n                 $sort: {\n                     createdAt: -1\n                   }\n                     }}).then((res)=>{\n              console.log(\"facility  fetched successfully\") \n                setFacilities(res.data)\n                 setSearchMessage(\" facility  fetched successfully\")\n                 setShowPanel(true)\n             })\n             .catch((err)=>{\n                 console.log(err)\n                 setSearchMessage(\"Error searching facility, probable network issues \"+ err )\n                 setSearchError(true)\n             })\n         }\n        else{\n            console.log(\"less than 3 \")\n            console.log(val)\n            setShowPanel(false)\n            await setFacilities([])\n            console.log(facilities)\n        }\n    }\n    useEffect(() => {\n       if (clear){\n           setSimpa(\"\")\n       }\n        return () => {\n            \n        }\n    }, [clear] )\n    return (\n        <div>\n            <div className=\"field\">\n                <div className=\"control has-icons-left  \">\n                    <div className={`dropdown ${showPanel?\"is-active\":\"\"}`}>\n                        <div className=\"dropdown-trigger\">\n                            <DebounceInput className=\"input is-small \" \n                                type=\"text\" placeholder=\"Search Product\"\n                                value={simpa}\n                                minLength={1}\n                                debounceTimeout={400}\n                                onBlur={(e)=>handleBlur(e)}\n                                onChange={(e)=>handleSearch(e.target.value)}\n                                inputRef={inputEl}\n                                  />\n                            <span className=\"icon is-small is-left\">\n                                <i className=\"fas fa-search\"></i>\n                            </span>\n                        </div>\n                        {searchError&&<div>{searchMessage}</div>}\n                        <div className=\"dropdown-menu\" >\n                            <div className=\"dropdown-content\">\n                            {facilities.map((facility, i)=>(\n                                    \n                                    <div className=\"dropdown-item\" key={facility._id} onClick={()=>handleRow(facility)}>\n                                        \n                                        <span>{facility.facilityName}</span>\n                                        \n                                    </div>\n                                    \n                                    ))}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n          \n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}