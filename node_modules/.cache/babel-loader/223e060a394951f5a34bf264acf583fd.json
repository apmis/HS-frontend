{"ast":null,"code":"import _defineProperty from \"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/home/mfybaby/Documents/HealthStack2/HS-frontend/src/components/EncounterMgt/Encounter.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\n/* eslint-disable */\nimport React, { useState, useContext, useEffect, useRef } from 'react';\nimport client from '../../feathers';\nimport { DebounceInput } from 'react-debounce-input';\nimport { useForm } from \"react-hook-form\"; //import {useHistory} from 'react-router-dom'\n\nimport { UserContext, ObjectContext } from '../../context';\nimport { toast } from 'bulma-toast';\nimport { ClientCreate, ClientDetail, ClientList } from '../ClientMgt/Patient';\nimport EncounterMain from './EncounterMain';\nimport EncounterRight from './EncounterRight';\nimport PatientProfile from '../ClientMgt/PatientProfile';\n\nvar random = require('random-string-generator'); // eslint-disable-next-line\n\n\nvar searchfacility = {};\nexport default function Encounter(_ref) {\n  _s();\n\n  var standalone = _ref.standalone;\n\n  var _useContext = useContext(ObjectContext),\n      state = _useContext.state,\n      setState = _useContext.setState; //,setState\n  // eslint-disable-next-line\n  //const [selectedProductEntry,setSelectedProductEntry]=useState()\n  //const [showState,setShowState]=useState() //create|modify|detail\n  //const {state,setState}=useContext(ObjectContext) //,setState\n  // eslint-disable-next-line\n\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      selectedClient = _useState2[0],\n      setSelectedClient = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      showModal = _useState4[0],\n      setShowModal = _useState4[1]; //let { path, url } = useRouteMatch();\n\n\n  useEffect(function () {\n    console.log(\"starting up Encounter module\");\n    console.log(state.ClientModule.selectedClient);\n    var newDocumentClassModule = {\n      selectedDocumentClass: {},\n      //state.DocumentClassModule.selectedDocumentClass.name\n      show: 'detail'\n    };\n    setState(function (prevstate) {\n      return _objectSpread(_objectSpread({}, prevstate), {}, {\n        DocumentClassModule: newDocumentClassModule\n      });\n    });\n\n    if (Object.keys(state.ClientModule.selectedClient).length === 0 && state.ClientModule.selectedClient.constructor === Object) {\n      handleChangeClient();\n    }\n\n    return function () {};\n  }, []);\n  useEffect(function () {\n    setSelectedClient(state.ClientModule.selectedClient);\n  }, [state.ClientModule]);\n\n  var handleChangeClient = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return setShowModal(true);\n\n            case 2:\n              console.log(showModal);\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleChangeClient() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"section remPadTop\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"columns \",\n      children: [!standalone && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"column is-2 \",\n        children: /*#__PURE__*/_jsxDEV(PatientProfile, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 20\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 29\n      }, this), !standalone && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: state.DocumentClassModule.show === 'detail' ? \"column is-6\" : \"column is-6 \",\n        children: /*#__PURE__*/_jsxDEV(EncounterMain, {\n          client: selectedClient\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 20\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 33\n      }, this), standalone && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: state.DocumentClassModule.show === 'detail' ? \"column is-8\" : \"column is-12 \",\n        children: /*#__PURE__*/_jsxDEV(EncounterMain, {\n          client: selectedClient,\n          nopresc: standalone\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 20\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 36\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"column is-4 \",\n        children: state.DocumentClassModule.show === 'detail' && /*#__PURE__*/_jsxDEV(EncounterRight, {\n          client: selectedClient\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 65\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal \".concat(showModal ? \"is-active\" : \"\"),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-background\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 37\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"header\", {\n          className: \"modal-card-head btnheight\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"modal-card-title\",\n            children: \"Choose Client\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 41\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"delete\",\n            \"aria-label\": \"close\",\n            onClick: function onClick() {\n              return setShowModal(false);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 41\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 41\n        }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"modal-card-body \",\n          children: /*#__PURE__*/_jsxDEV(ClientList, {\n            standalone: \"true\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 41\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 41\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 37\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Encounter, \"1luqXfNmU7AqM9+RvmJIwDInawA=\");\n\n_c = Encounter;\nexport function InventorySearch(_ref3) {\n  _s2();\n\n  var _this = this;\n\n  var getSearchfacility = _ref3.getSearchfacility,\n      clear = _ref3.clear;\n  var productServ = client.service('inventory');\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      facilities = _useState6[0],\n      setFacilities = _useState6[1]; // eslint-disable-next-line\n\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      searchError = _useState8[0],\n      setSearchError = _useState8[1]; // eslint-disable-next-line\n\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      showPanel = _useState10[0],\n      setShowPanel = _useState10[1]; // eslint-disable-next-line\n\n\n  var _useState11 = useState(\"\"),\n      _useState12 = _slicedToArray(_useState11, 2),\n      searchMessage = _useState12[0],\n      setSearchMessage = _useState12[1]; // eslint-disable-next-line \n\n\n  var _useState13 = useState(\"\"),\n      _useState14 = _slicedToArray(_useState13, 2),\n      simpa = _useState14[0],\n      setSimpa = _useState14[1]; // eslint-disable-next-line \n\n\n  var _useState15 = useState(false),\n      _useState16 = _slicedToArray(_useState15, 2),\n      chosen = _useState16[0],\n      setChosen = _useState16[1]; // eslint-disable-next-line \n\n\n  var _useState17 = useState(0),\n      _useState18 = _slicedToArray(_useState17, 2),\n      count = _useState18[0],\n      setCount = _useState18[1];\n\n  var inputEl = useRef(null);\n\n  var _useState19 = useState(\"\"),\n      _useState20 = _slicedToArray(_useState19, 2),\n      val = _useState20[0],\n      setVal = _useState20[1];\n\n  var _useContext2 = useContext(UserContext),\n      user = _useContext2.user;\n\n  var _useContext3 = useContext(ObjectContext),\n      state = _useContext3.state;\n\n  var _useState21 = useState(false),\n      _useState22 = _slicedToArray(_useState21, 2),\n      productModal = _useState22[0],\n      setProductModal = _useState22[1];\n\n  var handleRow = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(obj) {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return setChosen(true);\n\n            case 2:\n              //alert(\"something is chaning\")\n              getSearchfacility(obj);\n              _context2.next = 5;\n              return setSimpa(obj.name);\n\n            case 5:\n              // setSelectedFacility(obj)\n              setShowPanel(false);\n              _context2.next = 8;\n              return setCount(2);\n\n            case 8:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function handleRow(_x) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  var handleBlur = /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(e) {\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              if (count === 2) {\n                console.log(\"stuff was chosen\");\n              }\n              /*  console.log(\"blur\")\n                setShowPanel(false)\n               console.log(JSON.stringify(simpa))\n               if (simpa===\"\"){\n                   console.log(facilities.length)\n                   setSimpa(\"abc\")\n                   setSimpa(\"\")\n                   setFacilities([])\n                   inputEl.current.setValue=\"\"\n               }\n               console.log(facilities.length)\n               console.log(inputEl.current) */\n\n\n            case 1:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function handleBlur(_x2) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n\n  var handleSearch = /*#__PURE__*/function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(value) {\n      var field, _query;\n\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              setVal(value);\n\n              if (!(value === \"\")) {\n                _context4.next = 5;\n                break;\n              }\n\n              setShowPanel(false);\n              getSearchfacility(false);\n              return _context4.abrupt(\"return\");\n\n            case 5:\n              field = 'name'; //field variable\n\n              if (!(value.length >= 3)) {\n                _context4.next = 10;\n                break;\n              }\n\n              productServ.find({\n                query: (_query = {}, _defineProperty(_query, field, {\n                  $regex: value,\n                  $options: 'i'\n                }), _defineProperty(_query, \"facility\", user.currentEmployee.facilityDetail._id), _defineProperty(_query, \"storeId\", state.StoreModule.selectedStore._id), _defineProperty(_query, \"$limit\", 10), _defineProperty(_query, \"$sort\", {\n                  createdAt: -1\n                }), _query)\n              }).then(function (res) {\n                console.log(\"product  fetched successfully\");\n                console.log(res.data);\n                setFacilities(res.data);\n                setSearchMessage(\" product  fetched successfully\");\n                setShowPanel(true);\n              }).catch(function (err) {\n                toast({\n                  message: 'Error creating ProductEntry ' + err,\n                  type: 'is-danger',\n                  dismissible: true,\n                  pauseOnHover: true\n                });\n              });\n              _context4.next = 16;\n              break;\n\n            case 10:\n              console.log(\"less than 3 \");\n              console.log(val);\n              setShowPanel(false);\n              _context4.next = 15;\n              return setFacilities([]);\n\n            case 15:\n              console.log(facilities);\n\n            case 16:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function handleSearch(_x3) {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n\n  var handleAddproduct = function handleAddproduct() {\n    setProductModal(true);\n  };\n\n  var handlecloseModal = function handlecloseModal() {\n    setProductModal(false);\n    handleSearch(val);\n  };\n\n  useEffect(function () {\n    if (clear) {\n      console.log(\"success has changed\", clear);\n      setSimpa(\"\");\n    }\n\n    return function () {};\n  }, [clear]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"field\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"control has-icons-left  \",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dropdown \".concat(showPanel ? \"is-active\" : \"\"),\n          style: {\n            width: \"100%\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dropdown-trigger\",\n            style: {\n              width: \"100%\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(DebounceInput, {\n              className: \"input is-small  is-expanded\",\n              type: \"text\",\n              placeholder: \"Search Product\",\n              value: simpa,\n              minLength: 3,\n              debounceTimeout: 400,\n              onBlur: function onBlur(e) {\n                return handleBlur(e);\n              },\n              onChange: function onChange(e) {\n                return handleSearch(e.target.value);\n              },\n              inputRef: inputEl\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"icon is-small is-left\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-search\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 249,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dropdown-menu expanded\",\n            style: {\n              width: \"100%\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"dropdown-content\",\n              children: [facilities.length > 0 ? \"\" : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"dropdown-item\"\n                /* onClick={handleAddproduct} */\n                ,\n                children: [\" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [\" \", val, \" is not in your inventory\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 255,\n                  columnNumber: 117\n                }, this), \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 52\n              }, this), facilities.map(function (facility, i) {\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"dropdown-item\",\n                  onClick: function onClick() {\n                    return handleRow(facility);\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: facility.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 261,\n                      columnNumber: 46\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 261,\n                    columnNumber: 41\n                  }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: facility.quantity\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 262,\n                        columnNumber: 52\n                      }, _this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 262,\n                      columnNumber: 46\n                    }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: [facility.baseunit, \"(s) remaining\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 263,\n                      columnNumber: 41\n                    }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"padleft\",\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"Price:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 264,\n                        columnNumber: 67\n                      }, _this), \" N\", facility.sellingprice]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 264,\n                      columnNumber: 41\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 262,\n                    columnNumber: 41\n                  }, _this)]\n                }, facility._id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 259,\n                  columnNumber: 37\n                }, _this);\n              })]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal \".concat(productModal ? \"is-active\" : \"\"),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-background\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 37\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"header\", {\n          className: \"modal-card-head\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"modal-card-title\",\n            children: \"Choose Store\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 41\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"delete\",\n            \"aria-label\": \"close\",\n            onClick: handlecloseModal\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 41\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 41\n        }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"modal-card-body\",\n          children: /*#__PURE__*/_jsxDEV(ClientCreate, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 41\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 41\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 37\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 234,\n    columnNumber: 9\n  }, this);\n}\n\n_s2(InventorySearch, \"t0O7bA3TZu/shxaYOPunHCyRtyY=\");\n\n_c2 = InventorySearch;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Encounter\");\n$RefreshReg$(_c2, \"InventorySearch\");","map":{"version":3,"sources":["/home/mfybaby/Documents/HealthStack2/HS-frontend/src/components/EncounterMgt/Encounter.js"],"names":["React","useState","useContext","useEffect","useRef","client","DebounceInput","useForm","UserContext","ObjectContext","toast","ClientCreate","ClientDetail","ClientList","EncounterMain","EncounterRight","PatientProfile","random","require","searchfacility","Encounter","standalone","state","setState","selectedClient","setSelectedClient","showModal","setShowModal","console","log","ClientModule","newDocumentClassModule","selectedDocumentClass","show","prevstate","DocumentClassModule","Object","keys","length","constructor","handleChangeClient","InventorySearch","getSearchfacility","clear","productServ","service","facilities","setFacilities","searchError","setSearchError","showPanel","setShowPanel","searchMessage","setSearchMessage","simpa","setSimpa","chosen","setChosen","count","setCount","inputEl","val","setVal","user","productModal","setProductModal","handleRow","obj","name","handleBlur","e","handleSearch","value","field","find","query","$regex","$options","currentEmployee","facilityDetail","_id","StoreModule","selectedStore","createdAt","then","res","data","catch","err","message","type","dismissible","pauseOnHover","handleAddproduct","handlecloseModal","width","target","map","facility","i","quantity","baseunit","sellingprice"],"mappings":"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","sourcesContent":["/* eslint-disable */\nimport React, {useState,useContext, useEffect,useRef} from 'react'\nimport client from '../../feathers'\nimport {DebounceInput} from 'react-debounce-input';\nimport { useForm } from \"react-hook-form\";\n//import {useHistory} from 'react-router-dom'\nimport {UserContext,ObjectContext} from '../../context'\nimport {toast} from 'bulma-toast'\nimport {ClientCreate, ClientDetail, ClientList} from '../ClientMgt/Patient'\n\nimport EncounterMain from './EncounterMain';\nimport EncounterRight from './EncounterRight';\nimport PatientProfile from '../ClientMgt/PatientProfile';\nvar random = require('random-string-generator');\n// eslint-disable-next-line\nconst searchfacility={};\n\n\nexport default function Encounter({standalone}) {\n    const {state, setState}=useContext(ObjectContext) //,setState\n    // eslint-disable-next-line\n    //const [selectedProductEntry,setSelectedProductEntry]=useState()\n    //const [showState,setShowState]=useState() //create|modify|detail\n    //const {state,setState}=useContext(ObjectContext) //,setState\n    // eslint-disable-next-line\n    const [selectedClient,setSelectedClient]=useState()\n    const [showModal,setShowModal]=useState(false)\n\n    //let { path, url } = useRouteMatch();\n    \n    useEffect(() => {\n       \n        console.log(\"starting up Encounter module\")\n        console.log(state.ClientModule.selectedClient)\n        const    newDocumentClassModule={\n            selectedDocumentClass:{},\n            //state.DocumentClassModule.selectedDocumentClass.name\n            show :'detail'\n        }\n        setState((prevstate)=>({...prevstate, DocumentClassModule:newDocumentClassModule}))\n\n        if (Object.keys(state.ClientModule.selectedClient).length === 0 && state.ClientModule.selectedClient.constructor === Object){\n            handleChangeClient()\n\n            }\n         return () => {       \n            }\n        }, [])\n   \n    useEffect(()=>{\n     setSelectedClient(state.ClientModule.selectedClient)\n\n    },[state.ClientModule])\n\n    const handleChangeClient= async()=>{\n        await setShowModal(true)                                                                                                                                                        \n        console.log( showModal)\n    }\n\n\n\n\n    \n    return(\n        <section className= \"section remPadTop\">\n           {/*  <div className=\"level\">\n            <div className=\"level-item\"> <span className=\"is-size-6 has-text-weight-medium\">ProductEntry  Module</span></div> //10\n            </div> */}\n            <div className=\"columns \">\n            {!standalone && <div className=\"column is-2 \">\n                   <PatientProfile  />\n                    </div>}\n\n            {!standalone &&     <div className= {(state.DocumentClassModule.show ==='detail')?\"column is-6\":\"column is-6 \"}>\n                   <EncounterMain client={selectedClient}/>\n                </div>}\n                {standalone &&     <div className= {(state.DocumentClassModule.show ==='detail')?\"column is-8\":\"column is-12 \"}>\n                   <EncounterMain client={selectedClient} nopresc={standalone}/>\n                </div>}\n              <div className=\"column is-4 \" >\n                {(state.DocumentClassModule.show ==='detail')&& <EncounterRight  client={selectedClient}/>}\n               {/*  <DocumentClassCreate /> */}\n                </div>\n            </div>\n            <div className={`modal ${showModal?\"is-active\":\"\"}` }>\n                                    <div className=\"modal-background\"></div>\n                                    <div className=\"modal-card\">\n                                        <header className=\"modal-card-head btnheight\">\n                                        <p className=\"modal-card-title\">Choose Client</p>\n                                        <button className=\"delete\" aria-label=\"close\"  onClick={()=>setShowModal(false)}></button>\n                                        </header>\n                                        <section className=\"modal-card-body \">\n                                        <ClientList standalone=\"true\" />\n                                        </section>\n                                        {/* <footer className=\"modal-card-foot\">\n                                        <button className=\"button is-success\">Save changes</button>\n                                        <button className=\"button\">Cancel</button>\n                                        </footer> */}\n                                    </div>\n                                </div>                                    \n            </section>\n       \n    )\n    \n}\n\n\n   \n                \n  \n\nexport  function InventorySearch({getSearchfacility,clear}) {\n    \n    const productServ=client.service('inventory')\n    const [facilities,setFacilities]=useState([])\n     // eslint-disable-next-line\n     const [searchError, setSearchError] =useState(false)\n     // eslint-disable-next-line\n    const [showPanel, setShowPanel] =useState(false)\n     // eslint-disable-next-line\n   const [searchMessage, setSearchMessage] = useState(\"\") \n   // eslint-disable-next-line \n   const [simpa,setSimpa]=useState(\"\")\n   // eslint-disable-next-line \n   const [chosen,setChosen]=useState(false)\n   // eslint-disable-next-line \n   const [count,setCount]=useState(0)\n   const inputEl=useRef(null)\n   const [val,setVal]=useState(\"\")\n   const {user} = useContext(UserContext) \n   const {state}=useContext(ObjectContext)\n    const [productModal,setProductModal]=useState(false)\n\n   const handleRow= async(obj)=>{\n        await setChosen(true)\n        //alert(\"something is chaning\")\n       getSearchfacility(obj)\n       \n       await setSimpa(obj.name)\n       \n        // setSelectedFacility(obj)\n        setShowPanel(false)\n        await setCount(2)\n        /* const    newfacilityModule={\n            selectedFacility:facility,\n            show :'detail'\n        }\n   await setState((prevstate)=>({...prevstate, facilityModule:newfacilityModule})) */\n   //console.log(state)\n    }\n    const handleBlur=async(e)=>{\n         if (count===2){\n             console.log(\"stuff was chosen\")\n         }\n       \n       /*  console.log(\"blur\")\n         setShowPanel(false)\n        console.log(JSON.stringify(simpa))\n        if (simpa===\"\"){\n            console.log(facilities.length)\n            setSimpa(\"abc\")\n            setSimpa(\"\")\n            setFacilities([])\n            inputEl.current.setValue=\"\"\n        }\n        console.log(facilities.length)\n        console.log(inputEl.current) */\n    }\n    const handleSearch=async(value)=>{\n        setVal(value)\n        if (value===\"\"){\n            setShowPanel(false)\n            getSearchfacility(false)\n            return\n        }\n        const field='name' //field variable\n\n       \n        if (value.length>=3 ){\n            productServ.find({query: {     //service\n                 [field]: {\n                     $regex:value,\n                     $options:'i'\n                    \n                 },\n                 facility: user.currentEmployee.facilityDetail._id,\n                 storeId: state.StoreModule.selectedStore._id,\n                 $limit:10,\n                 $sort: {\n                     createdAt: -1\n                   }\n                     }}).then((res)=>{\n              console.log(\"product  fetched successfully\") \n              console.log(res.data) \n                setFacilities(res.data)\n                 setSearchMessage(\" product  fetched successfully\")\n                 setShowPanel(true)\n             })\n             .catch((err)=>{\n                toast({\n                    message: 'Error creating ProductEntry ' + err,\n                    type: 'is-danger',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n             })\n         }\n        else{\n            console.log(\"less than 3 \")\n            console.log(val)\n            setShowPanel(false)\n            await setFacilities([])\n            console.log(facilities)\n        }\n    }\n\n    const handleAddproduct =()=>{\n        setProductModal(true) \n    }\n    const handlecloseModal =()=>{\n        setProductModal(false)\n        handleSearch(val)\n    }\n    useEffect(() => {\n       if (clear){\n           console.log(\"success has changed\",clear)\n           setSimpa(\"\")\n       }\n        return () => {\n            \n        }\n    }, [clear] )\n    return (\n        <div>\n            <div className=\"field\">\n                <div className=\"control has-icons-left  \">\n                    <div className={`dropdown ${showPanel?\"is-active\":\"\"}`} style={{width:\"100%\"}}>\n                        <div className=\"dropdown-trigger\" style={{width:\"100%\"}}>\n                            <DebounceInput className=\"input is-small  is-expanded\" \n                                type=\"text\" placeholder=\"Search Product\"\n                                value={simpa}\n                                minLength={3}\n                                debounceTimeout={400}\n                                onBlur={(e)=>handleBlur(e)}\n                                onChange={(e)=>handleSearch(e.target.value)}\n                                inputRef={inputEl}\n                                  />\n                            <span className=\"icon is-small is-left\">\n                                <i className=\"fas fa-search\"></i>\n                            </span>\n                        </div>\n                        {/* {searchError&&<div>{searchMessage}</div>} */}\n                        <div className=\"dropdown-menu expanded\" style={{width:\"100%\"}}>\n                            <div className=\"dropdown-content\">\n                          { facilities.length>0?\"\":<div className=\"dropdown-item\" /* onClick={handleAddproduct} */> <span> {val} is not in your inventory</span> </div>}\n\n                              {facilities.map((facility, i)=>(\n                                    \n                                    <div className=\"dropdown-item\" key={facility._id} onClick={()=>handleRow(facility)}>\n                                        \n                                        <div><span>{facility.name}</span></div>\n                                        <div><span><strong>{facility.quantity}</strong></span>\n                                        <span>{facility.baseunit}(s) remaining</span>\n                                        <span className=\"padleft\"><strong>Price:</strong> N{facility.sellingprice}</span></div>\n                                        \n                                    </div>\n                                    \n                                    ))}\n                                    \n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div className={`modal ${productModal?\"is-active\":\"\"}` }>\n                                    <div className=\"modal-background\"></div>\n                                    <div className=\"modal-card\">\n                                        <header className=\"modal-card-head\">\n                                        <p className=\"modal-card-title\">Choose Store</p>\n                                        <button className=\"delete\" aria-label=\"close\"  onClick={handlecloseModal}></button>\n                                        </header>\n                                        <section className=\"modal-card-body\">\n                                        {/* <StoreList standalone=\"true\" /> */}\n                                        <ClientCreate />\n                                        </section>\n                                        {/* <footer className=\"modal-card-foot\">\n                                        <button className=\"button is-success\">Save changes</button>\n                                        <button className=\"button\">Cancel</button>\n                                        </footer> */}\n                                    </div>\n                                </div>       \n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}