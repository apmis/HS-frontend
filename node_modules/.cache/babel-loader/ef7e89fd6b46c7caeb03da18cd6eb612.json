{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/home/mfybaby/Documents/HealthStack2/HS-frontend/src/context.js\",\n    _s = $RefreshSig$();\n\nimport { createContext, useEffect, useState } from 'react';\nimport client from './feathers';\nexport default function MyUserProvider(_ref) {\n  _s();\n\n  var children = _ref.children;\n\n  //const [data, setData] = useState(null)\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      user = _useState2[0],\n      setUser = _useState2[1];\n\n  useEffect(function () {\n    _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var resp;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return client.reAuthenticate();\n\n            case 3:\n              resp = _context.sent;\n              _context.next = 6;\n              return setUser(resp.user);\n\n            case 6:\n              return _context.abrupt(\"return\");\n\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(_context.t0); // history.push(\"/\")\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 9]]);\n    }))();\n  }, []);\n  var Provider = UserContext.Provider;\n  return /*#__PURE__*/_jsxDEV(Provider, {\n    value: {\n      user: user,\n      setUser: setUser\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 8\n  }, this);\n}\n\n_s(MyUserProvider, \"iCEFdcn4VWii5CszsjcYbeQHEgM=\");\n\n_c = MyUserProvider;\nexport var UserContext = /*#__PURE__*/createContext();\nexport var ObjectContext = /*#__PURE__*/createContext();\nexport var MessageContext = /*#__PURE__*/createContext();\n\nvar _c;\n\n$RefreshReg$(_c, \"MyUserProvider\");","map":{"version":3,"sources":["/home/mfybaby/Documents/HealthStack2/HS-frontend/src/context.js"],"names":["createContext","useEffect","useState","client","MyUserProvider","children","user","setUser","reAuthenticate","resp","console","log","Provider","UserContext","ObjectContext","MessageContext"],"mappings":";;;;;;;;AAAA,SAAQA,aAAR,EAAuBC,SAAvB,EAAiCC,QAAjC,QAAgD,OAAhD;AACA,OAAOC,MAAP,MAAmB,YAAnB;AAGA,eAAe,SAASC,cAAT,OAAmC;AAAA;;AAAA,MAAVC,QAAU,QAAVA,QAAU;;AAC9C;AAD8C,kBAEvBH,QAAQ,CAAC,IAAD,CAFe;AAAA;AAAA,MAEvCI,IAFuC;AAAA,MAElCC,OAFkC;;AAI9CN,EAAAA,SAAS,CAAC,YAAK;AACX,6DAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACsBE,MAAM,CAACK,cAAP,EADtB;;AAAA;AACSC,cAAAA,IADT;AAAA;AAAA,qBAGSF,OAAO,CAACE,IAAI,CAACH,IAAN,CAHhB;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAUGI,cAAAA,OAAO,CAACC,GAAR,cAVH,CAWE;;AAXF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAD;AAaC,GAdI,EAcH,EAdG,CAAT;AAJ8C,MAoBvCC,QApBuC,GAoB1BC,WApB0B,CAoBvCD,QApBuC;AAqB/C,sBACI,QAAC,QAAD;AAAU,IAAA,KAAK,EAAE;AAACN,MAAAA,IAAI,EAAJA,IAAD;AAAMC,MAAAA,OAAO,EAAPA;AAAN,KAAjB;AAAA,cACKF;AADL;AAAA;AAAA;AAAA;AAAA,UADJ;AAKF;;GA1BuBD,c;;KAAAA,c;AA2BxB,OAAO,IAAMS,WAAW,gBAACb,aAAa,EAA/B;AACP,OAAO,IAAMc,aAAa,gBAACd,aAAa,EAAjC;AACP,OAAO,IAAMe,cAAc,gBAACf,aAAa,EAAlC","sourcesContent":["import {createContext, useEffect,useState} from 'react'\nimport client from './feathers'\n\n\nexport default function MyUserProvider({children}){\n    //const [data, setData] = useState(null)\n    const [user,setUser] = useState(null)\n\n    useEffect(() =>{\n        (async () => { try{\n            const resp = await client.reAuthenticate();\n            //console.log(resp)\n            await setUser(resp.user)\n            /* console.log(\"lastname:\",  user.lastname)\n            console.log(\"reauth tried\")\n            */\n            return\n            }\n        catch(error){\n            console.log(error)\n           // history.push(\"/\")\n        }  \n    })()},[])\n\n   const { Provider } = UserContext\n   return(\n       <Provider value={{user,setUser}}>\n           {children}\n       </Provider>\n   )\n}\nexport const UserContext=createContext()\nexport const ObjectContext=createContext()\nexport const MessageContext=createContext()\n"]},"metadata":{},"sourceType":"module"}