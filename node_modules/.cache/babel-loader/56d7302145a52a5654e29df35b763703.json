{"ast":null,"code":"import _defineProperty from\"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _toConsumableArray from\"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/* eslint-disable */import React,{useState,useContext,useEffect,useRef}from'react';import client from'../../feathers';import{DebounceInput}from'react-debounce-input';import{useForm}from\"react-hook-form\";//import {useHistory} from 'react-router-dom'\nimport{UserContext,ObjectContext}from'../../context';import documentListForm from\"../clientForm/documentList\";import chartListForm from\"../clientForm/chartList\";import{toast}from'bulma-toast';// eslint-disable-next-line\nvar searchfacility={};export default function DocumentClass(){var _useContext=useContext(ObjectContext),state=_useContext.state;//,setState\n// eslint-disable-next-line\nvar _useState=useState(),_useState2=_slicedToArray(_useState,2),selectedDocumentClass=_useState2[0],setSelectedDocumentClass=_useState2[1];//const [showState,setShowState]=useState() //create|modify|detail\nreturn/*#__PURE__*/_jsx(\"section\",{className:\"section remPadTop\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"columns \",children:[/*#__PURE__*/_jsx(\"div\",{className:\"column is-8 \",children:/*#__PURE__*/_jsx(DocumentClassList,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"column is-4 \",children:[state.DocumentClassModule.show==='create'&&/*#__PURE__*/_jsx(DocumentClassCreate,{}),state.DocumentClassModule.show==='detail'&&/*#__PURE__*/_jsx(DocumentClassDetail,{}),state.DocumentClassModule.show==='modify'&&/*#__PURE__*/_jsx(DocumentClassModify,{DocumentClass:selectedDocumentClass})]})]})});}export function DocumentClassCreate(){var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,setValue=_useForm.setValue;//, watch, errors, reset \nvar _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),success=_useState6[0],setSuccess=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),message=_useState8[0],setMessage=_useState8[1];// eslint-disable-next-line\nvar _useState9=useState(),_useState10=_slicedToArray(_useState9,2),facility=_useState10[0],setFacility=_useState10[1];var DocumentClassServ=client.service('documentclass');//const history = useHistory()\nvar _useContext2=useContext(UserContext),user=_useContext2.user;//,setUser\n// eslint-disable-next-line\nvar _useState11=useState(),_useState12=_slicedToArray(_useState11,2),currentUser=_useState12[0],setCurrentUser=_useState12[1];var getSearchfacility=function getSearchfacility(obj){// buble-up from inputsearch for creating resource\nsetValue(\"facility\",obj._id,{shouldValidate:true,shouldDirty:true});};useEffect(function(){setCurrentUser(user);//console.log(currentUser)\nreturn function(){};},[user]);//check user for facility or get list of facility  \nuseEffect(function(){//setFacility(user.activeDocumentClass.FacilityId)//\nif(!user.stacker){// console.log(currentUser)\nsetValue(\"facility\",user.currentEmployee.facilityDetail._id,{shouldValidate:true,shouldDirty:true});}});var onSubmit=function onSubmit(data,e){e.preventDefault();setMessage(\"\");setError(false);setSuccess(false);// data.createdby=user._id\nconsole.log(data);if(user.currentEmployee){data.facility=user.currentEmployee.facilityDetail._id;// or from facility dropdown\n}data.locationType=\"DocumentClass\";DocumentClassServ.create(data).then(function(res){//console.log(JSON.stringify(res))\ne.target.reset();/*  setMessage(\"Created DocumentClass successfully\") */setSuccess(true);toast({message:'DocumentClass created succesfully',type:'is-success',dismissible:true,pauseOnHover:true});setSuccess(false);}).catch(function(err){toast({message:'Error creating DocumentClass '+err,type:'is-danger',dismissible:true,pauseOnHover:true});});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"card \",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"p\",{className:\"card-header-title\",children:\"Create DocumentClass\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-content vscrollable\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left has-icons-right\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register({required:true}),name:\"name\",type:\"text\",placeholder:\"Name of DocumentClass\"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-map-signs\"})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",style:!user.stacker?{display:\"none\"}:{},children:[/*#__PURE__*/_jsx(InputSearch,{getSearchfacility:getSearchfacility,clear:success}),/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left \",style:{display:\"none\"},children:[/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register({required:true}),name:\"facility\",type:\"text\",placeholder:\"Facility\"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas  fa-map-marker-alt\"})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsx(\"p\",{className:\"control\",children:/*#__PURE__*/_jsx(\"button\",{className:\"button is-success is-small\",children:\"Create\"})})})]})})]})});}export function DocumentClassList(_ref){var standalone=_ref.standalone,closeModal=_ref.closeModal;// const { register, handleSubmit, watch, errors } = useForm();\n// eslint-disable-next-line\nvar _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),error=_useState14[0],setError=_useState14[1];// eslint-disable-next-line\nvar _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),success=_useState16[0],setSuccess=_useState16[1];// eslint-disable-next-line\nvar _useState17=useState(\"\"),_useState18=_slicedToArray(_useState17,2),message=_useState18[0],setMessage=_useState18[1];var DocumentClassServ=client.service('documentclass');//const history = useHistory()\n// const {user,setUser} = useContext(UserContext)\nvar _useState19=useState([]),_useState20=_slicedToArray(_useState19,2),facilities=_useState20[0],setFacilities=_useState20[1];// eslint-disable-next-line\nvar _useState21=useState(),_useState22=_slicedToArray(_useState21,2),selectedDocumentClass=_useState22[0],setSelectedDocumentClass=_useState22[1];//\n// eslint-disable-next-line\nvar _useContext3=useContext(ObjectContext),state=_useContext3.state,setState=_useContext3.setState;// eslint-disable-next-line\nvar _useContext4=useContext(UserContext),user=_useContext4.user,setUser=_useContext4.setUser;var classList=_toConsumableArray(facilities);/*  classList.push(...documentListForm); */var handleCreateNew=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var newDocumentClassModule;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:newDocumentClassModule={selectedDocumentClass:{},show:'create'};_context.next=3;return setState(function(prevstate){return _objectSpread(_objectSpread({},prevstate),{},{DocumentClassModule:newDocumentClassModule});});case 3:case\"end\":return _context.stop();}}},_callee);}));return function handleCreateNew(){return _ref2.apply(this,arguments);};}();var handleRow=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(DocumentClass){var newDocumentClassModule;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return setSelectedDocumentClass(DocumentClass);case 2:newDocumentClassModule={selectedDocumentClass:DocumentClass,show:'detail'};_context2.next=5;return setState(function(prevstate){return _objectSpread(_objectSpread({},prevstate),{},{DocumentClassModule:newDocumentClassModule});});case 5://console.log(state)\nif(standalone){closeModal();}case 6:case\"end\":return _context2.stop();}}},_callee2);}));return function handleRow(_x){return _ref3.apply(this,arguments);};}();var handleSearch=function handleSearch(val){var _query;var field='name';console.log(val);DocumentClassServ.find({query:(_query={},_defineProperty(_query,field,{$regex:val,$options:'i'}),_defineProperty(_query,\"facility\",user.currentEmployee.facilityDetail._id),_defineProperty(_query,\"$limit\",10),_defineProperty(_query,\"$sort\",{name:1}),_query)}).then(function(res){console.log(res);setFacilities(res.data);setMessage(\" DocumentClass  fetched successfully\");setSuccess(true);}).catch(function(err){console.log(err);setMessage(\"Error fetching DocumentClass, probable network issues \"+err);setError(true);});};var getFacilities=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var findDocumentClass,_findDocumentClass;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!user.currentEmployee){_context3.next=9;break;}_context3.next=3;return DocumentClassServ.find({query:{/* locationType:\"DocumentClass\",*/facility:user.currentEmployee.facilityDetail._id,$limit:100,$sort:{name:1}}});case 3:findDocumentClass=_context3.sent;console.log(findDocumentClass.data);_context3.next=7;return setFacilities(findDocumentClass.data);case 7:_context3.next=15;break;case 9:if(!user.stacker){_context3.next=15;break;}_context3.next=12;return DocumentClassServ.find({query:{/*  locationType:\"DocumentClass\", */$limit:1000,$sort:{name:1}}});case 12:_findDocumentClass=_context3.sent;_context3.next=15;return setFacilities(_findDocumentClass.data);case 15:case\"end\":return _context3.stop();}}},_callee3);}));return function getFacilities(){return _ref4.apply(this,arguments);};}();useEffect(function(){getFacilities();DocumentClassServ.on('created',function(obj){return getFacilities();});DocumentClassServ.on('updated',function(obj){return getFacilities();});DocumentClassServ.on('patched',function(obj){return getFacilities();});DocumentClassServ.on('removed',function(obj){return getFacilities();});return function(){};},[]);//todo: pagination and vertical scroll bar\nreturn/*#__PURE__*/_jsx(_Fragment,{children:user?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"level\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"level-left\",children:/*#__PURE__*/_jsx(\"div\",{className:\"level-item\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left  \",children:[/*#__PURE__*/_jsx(DebounceInput,{className:\"input is-small \",type:\"text\",placeholder:\"Search DocumentClass\",minLength:3,debounceTimeout:400,onChange:function onChange(e){return handleSearch(e.target.value);}}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-search\"})})]})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"level-item\",children:[\" \",/*#__PURE__*/_jsx(\"span\",{className:\"is-size-6 has-text-weight-medium\",children:\"List of Document Class\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"level-right\",children:!standalone&&/*#__PURE__*/_jsx(\"div\",{className:\"level-item\",children:/*#__PURE__*/_jsx(\"div\",{className:\"level-item\",children:/*#__PURE__*/_jsx(\"div\",{className:\"button is-success is-small\",onClick:handleCreateNew,children:\"New\"})})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"table-container pullup \",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table is-striped  is-hoverable is-fullwidth is-scrollable \",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"abbr\",{title:\"Serial No\",children:\"S/No\"})}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),user.stacker&&/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"abbr\",{title:\"Facility\",children:\"Facility\"})}),!standalone&&/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"abbr\",{title:\"Actions\",children:\"Actions\"})})]})}),/*#__PURE__*/_jsx(\"tfoot\",{}),/*#__PURE__*/_jsx(\"tbody\",{children:classList.map(function(DocumentClass,i){return/*#__PURE__*/_jsxs(\"tr\",{onClick:function onClick(){return handleRow(DocumentClass);},className:DocumentClass._id===((selectedDocumentClass===null||selectedDocumentClass===void 0?void 0:selectedDocumentClass._id)||null)?\"is-selected\":\"\",children:[/*#__PURE__*/_jsx(\"th\",{children:i+1}),/*#__PURE__*/_jsx(\"th\",{children:DocumentClass.name}),user.stacker&&/*#__PURE__*/_jsx(\"td\",{children:DocumentClass.facility}),!standalone&&/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"showAction\",children:\"...\"})})]},DocumentClass._id);})})]})})]}):/*#__PURE__*/_jsx(\"div\",{children:\"loading\"})});}export function ChartClassList(_ref5){var standalone=_ref5.standalone,closeModal=_ref5.closeModal;// const { register, handleSubmit, watch, errors } = useForm();\n// eslint-disable-next-line\nvar _useState23=useState(false),_useState24=_slicedToArray(_useState23,2),error=_useState24[0],setError=_useState24[1];// eslint-disable-next-line\nvar _useState25=useState(false),_useState26=_slicedToArray(_useState25,2),success=_useState26[0],setSuccess=_useState26[1];// eslint-disable-next-line\nvar _useState27=useState(\"\"),_useState28=_slicedToArray(_useState27,2),message=_useState28[0],setMessage=_useState28[1];var DocumentClassServ=client.service('documentclass');//const history = useHistory()\n// const {user,setUser} = useContext(UserContext)\nvar _useState29=useState([]),_useState30=_slicedToArray(_useState29,2),facilities=_useState30[0],setFacilities=_useState30[1];// eslint-disable-next-line\nvar _useState31=useState(),_useState32=_slicedToArray(_useState31,2),selectedDocumentClass=_useState32[0],setSelectedDocumentClass=_useState32[1];//\n// eslint-disable-next-line\nvar _useContext5=useContext(ObjectContext),state=_useContext5.state,setState=_useContext5.setState;// eslint-disable-next-line\nvar _useContext6=useContext(UserContext),user=_useContext6.user,setUser=_useContext6.setUser;var classList=[];classList.push.apply(classList,_toConsumableArray(chartListForm));var handleCreateNew=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var newDocumentClassModule;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:newDocumentClassModule={selectedDocumentClass:{},show:'create'};_context4.next=3;return setState(function(prevstate){return _objectSpread(_objectSpread({},prevstate),{},{DocumentClassModule:newDocumentClassModule});});case 3:case\"end\":return _context4.stop();}}},_callee4);}));return function handleCreateNew(){return _ref6.apply(this,arguments);};}();var handleRow=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(DocumentClass){var newDocumentClassModule;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return setSelectedDocumentClass(DocumentClass);case 2:newDocumentClassModule={selectedDocumentClass:DocumentClass,show:'detail'};_context5.next=5;return setState(function(prevstate){return _objectSpread(_objectSpread({},prevstate),{},{DocumentClassModule:newDocumentClassModule});});case 5://console.log(state)\nif(standalone){closeModal();}case 6:case\"end\":return _context5.stop();}}},_callee5);}));return function handleRow(_x2){return _ref7.apply(this,arguments);};}();var handleSearch=function handleSearch(val){var _query2;var field='name';console.log(val);DocumentClassServ.find({query:(_query2={},_defineProperty(_query2,field,{$regex:val,$options:'i'}),_defineProperty(_query2,\"facility\",user.currentEmployee.facilityDetail._id),_defineProperty(_query2,\"$limit\",10),_defineProperty(_query2,\"$sort\",{name:1}),_query2)}).then(function(res){console.log(res);setFacilities(res.data);setMessage(\" DocumentClass  fetched successfully\");setSuccess(true);}).catch(function(err){console.log(err);setMessage(\"Error fetching DocumentClass, probable network issues \"+err);setError(true);});};var getFacilities=/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(){var findDocumentClass,_findDocumentClass2;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:if(!user.currentEmployee){_context6.next=9;break;}_context6.next=3;return DocumentClassServ.find({query:{/* locationType:\"DocumentClass\",*/facility:user.currentEmployee.facilityDetail._id,$limit:100,$sort:{name:1}}});case 3:findDocumentClass=_context6.sent;console.log(findDocumentClass.data);_context6.next=7;return setFacilities(findDocumentClass.data);case 7:_context6.next=15;break;case 9:if(!user.stacker){_context6.next=15;break;}_context6.next=12;return DocumentClassServ.find({query:{/*  locationType:\"DocumentClass\", */$limit:1000,$sort:{name:1}}});case 12:_findDocumentClass2=_context6.sent;_context6.next=15;return setFacilities(_findDocumentClass2.data);case 15:case\"end\":return _context6.stop();}}},_callee6);}));return function getFacilities(){return _ref8.apply(this,arguments);};}();useEffect(function(){getFacilities();DocumentClassServ.on('created',function(obj){return getFacilities();});DocumentClassServ.on('updated',function(obj){return getFacilities();});DocumentClassServ.on('patched',function(obj){return getFacilities();});DocumentClassServ.on('removed',function(obj){return getFacilities();});return function(){};},[]);//todo: pagination and vertical scroll bar\nreturn/*#__PURE__*/_jsx(_Fragment,{children:user?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"level\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"level-left\",children:/*#__PURE__*/_jsx(\"div\",{className:\"level-item\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left  \",children:[/*#__PURE__*/_jsx(DebounceInput,{className:\"input is-small \",type:\"text\",placeholder:\"Search Chart Class\",minLength:3,debounceTimeout:400,onChange:function onChange(e){return handleSearch(e.target.value);}}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-search\"})})]})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"level-item\",children:[\" \",/*#__PURE__*/_jsx(\"span\",{className:\"is-size-6 has-text-weight-medium\",children:\"List of Charts\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"level-right\",children:!standalone&&/*#__PURE__*/_jsx(\"div\",{className:\"level-item\",children:/*#__PURE__*/_jsx(\"div\",{className:\"level-item\",children:/*#__PURE__*/_jsx(\"div\",{className:\"button is-success is-small\",onClick:handleCreateNew,children:\"New\"})})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"table-container pullup \",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table is-striped  is-hoverable is-fullwidth is-scrollable \",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"abbr\",{title:\"Serial No\",children:\"S/No\"})}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),user.stacker&&/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"abbr\",{title:\"Facility\",children:\"Facility\"})}),!standalone&&/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"abbr\",{title:\"Actions\",children:\"Actions\"})})]})}),/*#__PURE__*/_jsx(\"tfoot\",{}),/*#__PURE__*/_jsx(\"tbody\",{children:classList.map(function(DocumentClass,i){return/*#__PURE__*/_jsxs(\"tr\",{onClick:function onClick(){return handleRow(DocumentClass);},className:DocumentClass._id===((selectedDocumentClass===null||selectedDocumentClass===void 0?void 0:selectedDocumentClass._id)||null)?\"is-selected\":\"\",children:[/*#__PURE__*/_jsx(\"th\",{children:i+1}),/*#__PURE__*/_jsx(\"th\",{children:DocumentClass.name}),user.stacker&&/*#__PURE__*/_jsx(\"td\",{children:DocumentClass.facility}),!standalone&&/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"showAction\",children:\"...\"})})]},DocumentClass._id);})})]})})]}):/*#__PURE__*/_jsx(\"div\",{children:\"loading\"})});}export function DocumentClassDetail(){//const { register, handleSubmit, watch, setValue } = useForm(); //errors,\n// eslint-disable-next-line\nvar _useState33=useState(false),_useState34=_slicedToArray(_useState33,2),error=_useState34[0],setError=_useState34[1];//, \n//const [success, setSuccess] =useState(false)\n// eslint-disable-next-line\nvar _useState35=useState(\"\"),_useState36=_slicedToArray(_useState35,2),message=_useState36[0],setMessage=_useState36[1];//,\n//const DocumentClassServ=client.service('/DocumentClass')\n//const history = useHistory()\n//const {user,setUser} = useContext(UserContext)\nvar _useContext7=useContext(ObjectContext),state=_useContext7.state,setState=_useContext7.setState;var DocumentClass=state.DocumentClassModule.selectedDocumentClass;var handleEdit=/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(){var newDocumentClassModule;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:newDocumentClassModule={selectedDocumentClass:DocumentClass,show:'modify'};_context7.next=3;return setState(function(prevstate){return _objectSpread(_objectSpread({},prevstate),{},{DocumentClassModule:newDocumentClassModule});});case 3:case\"end\":return _context7.stop();}}},_callee7);}));return function handleEdit(){return _ref9.apply(this,arguments);};}();var handleCreateForm=/*#__PURE__*/function(){var _ref10=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(){return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:case\"end\":return _context8.stop();}}},_callee8);}));return function handleCreateForm(){return _ref10.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"card \",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"p\",{className:\"card-header-title\",children:\"DocumentClass Details\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-content vscrollable\",children:[/*#__PURE__*/_jsx(\"table\",{children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"label\",{className:\"label is-small\",children:[\" \",/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-hospital\"})}),\"Name:\"]})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"span\",{className:\"is-size-7 padleft\",name:\"name\",children:[\" \",DocumentClass.name,\" \"]})})]}),/*#__PURE__*/_jsx(\"tr\",{})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field is-grouped mt-2\",children:/*#__PURE__*/_jsx(\"p\",{className:\"control\",children:/*#__PURE__*/_jsx(\"button\",{className:\"button is-success is-small\",onClick:handleEdit,children:\"Edit\"})})}),error&&/*#__PURE__*/_jsxs(\"div\",{className:\"message\",children:[\" \",message]})]})]})});}export function DocumentClassModify(){var _useForm2=useForm(),register=_useForm2.register,handleSubmit=_useForm2.handleSubmit,setValue=_useForm2.setValue,reset=_useForm2.reset,errors=_useForm2.errors;//watch, errors,\n// eslint-disable-next-line \nvar _useState37=useState(false),_useState38=_slicedToArray(_useState37,2),error=_useState38[0],setError=_useState38[1];// eslint-disable-next-line \nvar _useState39=useState(false),_useState40=_slicedToArray(_useState39,2),success=_useState40[0],setSuccess=_useState40[1];// eslint-disable-next-line \nvar _useState41=useState(\"\"),_useState42=_slicedToArray(_useState41,2),message=_useState42[0],setMessage=_useState42[1];// eslint-disable-next-line \nvar DocumentClassServ=client.service('documentclass');//const history = useHistory()\n// eslint-disable-next-line\nvar _useContext8=useContext(UserContext),user=_useContext8.user;var _useContext9=useContext(ObjectContext),state=_useContext9.state,setState=_useContext9.setState;var DocumentClass=state.DocumentClassModule.selectedDocumentClass;useEffect(function(){setValue(\"name\",DocumentClass.name,{shouldValidate:true,shouldDirty:true});setValue(\"locationType\",DocumentClass.locationType,{shouldValidate:true,shouldDirty:true});/*  setValue(\"profession\", DocumentClass.profession,  {\n                shouldValidate: true,\n                shouldDirty: true\n            })\n            setValue(\"phone\", DocumentClass.phone,  {\n                shouldValidate: true,\n                shouldDirty: true\n            })\n            setValue(\"email\", DocumentClass.email,  {\n                shouldValidate: true,\n                shouldDirty: true\n            })\n            setValue(\"department\", DocumentClass.department,  {\n                shouldValidate: true,\n                shouldDirty: true\n            })\n            setValue(\"deptunit\", DocumentClass.deptunit,  {\n                shouldValidate: true,\n                shouldDirty: true\n            }) */ /*   setValue(\"DocumentClassCategory\", DocumentClass.DocumentClassCategory,  {\n                shouldValidate: true,\n                shouldDirty: true\n            }) */return function(){};});var handleCancel=/*#__PURE__*/function(){var _ref11=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(){var newDocumentClassModule;return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:newDocumentClassModule={selectedDocumentClass:{},show:'create'};_context9.next=3;return setState(function(prevstate){return _objectSpread(_objectSpread({},prevstate),{},{DocumentClassModule:newDocumentClassModule});});case 3:case\"end\":return _context9.stop();}}},_callee9);}));return function handleCancel(){return _ref11.apply(this,arguments);};}();var changeState=function changeState(){var newDocumentClassModule={selectedDocumentClass:{},show:'create'};setState(function(prevstate){return _objectSpread(_objectSpread({},prevstate),{},{DocumentClassModule:newDocumentClassModule});});};var handleDelete=/*#__PURE__*/function(){var _ref12=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee10(){var conf,dleteId;return _regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:conf=window.confirm(\"Are you sure you want to delete this data?\");dleteId=DocumentClass._id;if(conf){DocumentClassServ.remove(dleteId).then(function(res){//console.log(JSON.stringify(res))\nreset();/*  setMessage(\"Deleted DocumentClass successfully\")\n                setSuccess(true)\n                changeState()\n               setTimeout(() => {\n                setSuccess(false)\n                }, 200); */toast({message:'DocumentClass deleted succesfully',type:'is-success',dismissible:true,pauseOnHover:true});changeState();}).catch(function(err){// setMessage(\"Error deleting DocumentClass, probable network issues \"+ err )\n// setError(true)\ntoast({message:\"Error deleting DocumentClass, probable network issues or \"+err,type:'is-danger',dismissible:true,pauseOnHover:true});});}case 3:case\"end\":return _context10.stop();}}},_callee10);}));return function handleDelete(){return _ref12.apply(this,arguments);};}();/* ()=> setValue(\"firstName\", \"Bill\", , {\n            shouldValidate: true,\n            shouldDirty: true\n          })) */var onSubmit=function onSubmit(data,e){e.preventDefault();setSuccess(false);console.log(data);data.facility=DocumentClass.facility;//console.log(data);\nDocumentClassServ.patch(DocumentClass._id,data).then(function(res){//console.log(JSON.stringify(res))\n// e.target.reset();\n// setMessage(\"updated DocumentClass successfully\")\ntoast({message:'DocumentClass updated succesfully',type:'is-success',dismissible:true,pauseOnHover:true});changeState();}).catch(function(err){//setMessage(\"Error creating DocumentClass, probable network issues \"+ err )\n// setError(true)\ntoast({message:\"Error updating DocumentClass, probable network issues or \"+err,type:'is-danger',dismissible:true,pauseOnHover:true});});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"card \",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"p\",{className:\"card-header-title\",children:\"DocumentClass Details-Modify\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-content vscrollable\",children:[/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit(onSubmit),children:/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"label is-small\",children:[\" Name\",/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left has-icons-right\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input  is-small\",ref:register({required:true}),name:\"name\",type:\"text\",placeholder:\"Name\"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-hospital\"})})]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"field  is-grouped mt-2\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"control\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"button is-success is-small\",onClick:handleSubmit(onSubmit),children:\"Save\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"control\",children:/*#__PURE__*/_jsx(\"button\",{className:\"button is-warning is-small\",onClick:handleCancel,children:\"Cancel\"})})]})]})]})});}export function InputSearch(_ref13){var getSearchfacility=_ref13.getSearchfacility,clear=_ref13.clear;var facilityServ=client.service('facility');var _useState43=useState([]),_useState44=_slicedToArray(_useState43,2),facilities=_useState44[0],setFacilities=_useState44[1];// eslint-disable-next-line\nvar _useState45=useState(false),_useState46=_slicedToArray(_useState45,2),searchError=_useState46[0],setSearchError=_useState46[1];// eslint-disable-next-line\nvar _useState47=useState(false),_useState48=_slicedToArray(_useState47,2),showPanel=_useState48[0],setShowPanel=_useState48[1];// eslint-disable-next-line\nvar _useState49=useState(\"\"),_useState50=_slicedToArray(_useState49,2),searchMessage=_useState50[0],setSearchMessage=_useState50[1];// eslint-disable-next-line \nvar _useState51=useState(\"\"),_useState52=_slicedToArray(_useState51,2),simpa=_useState52[0],setSimpa=_useState52[1];// eslint-disable-next-line \nvar _useState53=useState(false),_useState54=_slicedToArray(_useState53,2),chosen=_useState54[0],setChosen=_useState54[1];// eslint-disable-next-line \nvar _useState55=useState(0),_useState56=_slicedToArray(_useState55,2),count=_useState56[0],setCount=_useState56[1];var inputEl=useRef(null);var handleRow=/*#__PURE__*/function(){var _ref14=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee11(obj){return _regeneratorRuntime.wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:_context11.next=2;return setChosen(true);case 2://alert(\"something is chaning\")\ngetSearchfacility(obj);_context11.next=5;return setSimpa(obj.facilityName);case 5:// setSelectedFacility(obj)\nsetShowPanel(false);_context11.next=8;return setCount(2);case 8:case\"end\":return _context11.stop();}}},_callee11);}));return function handleRow(_x3){return _ref14.apply(this,arguments);};}();var handleBlur=/*#__PURE__*/function(){var _ref15=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee12(e){return _regeneratorRuntime.wrap(function _callee12$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:if(count===2){console.log(\"stuff was chosen\");}/*  console.log(\"blur\")\n         setShowPanel(false)\n        console.log(JSON.stringify(simpa))\n        if (simpa===\"\"){\n            console.log(facilities.length)\n            setSimpa(\"abc\")\n            setSimpa(\"\")\n            setFacilities([])\n            inputEl.current.setValue=\"\"\n        }\n        console.log(facilities.length)\n        console.log(inputEl.current) */case 1:case\"end\":return _context12.stop();}}},_callee12);}));return function handleBlur(_x4){return _ref15.apply(this,arguments);};}();var handleSearch=/*#__PURE__*/function(){var _ref16=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee13(val){var field,_query3;return _regeneratorRuntime.wrap(function _callee13$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:field='facilityName';//field variable\nif(!(val.length>=3)){_context13.next=5;break;}facilityServ.find({query:(_query3={},_defineProperty(_query3,field,{$regex:val,$options:'i'}),_defineProperty(_query3,\"$limit\",10),_defineProperty(_query3,\"$sort\",{createdAt:-1}),_query3)}).then(function(res){console.log(\"facility  fetched successfully\");setFacilities(res.data);setSearchMessage(\" facility  fetched successfully\");setShowPanel(true);}).catch(function(err){console.log(err);setSearchMessage(\"Error searching facility, probable network issues \"+err);setSearchError(true);});_context13.next=11;break;case 5:console.log(\"less than 3 \");console.log(val);setShowPanel(false);_context13.next=10;return setFacilities([]);case 10:console.log(facilities);case 11:case\"end\":return _context13.stop();}}},_callee13);}));return function handleSearch(_x5){return _ref16.apply(this,arguments);};}();useEffect(function(){if(clear){setSimpa(\"\");}return function(){};},[clear]);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsx(\"div\",{className:\"control has-icons-left  \",children:/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown \".concat(showPanel?\"is-active\":\"\"),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-trigger\",children:[/*#__PURE__*/_jsx(DebounceInput,{className:\"input is-small \",type:\"text\",placeholder:\"Search Facilities\",value:simpa,minLength:1,debounceTimeout:400,onBlur:function onBlur(e){return handleBlur(e);},onChange:function onChange(e){return handleSearch(e.target.value);},inputRef:inputEl}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-search\"})})]}),searchError&&/*#__PURE__*/_jsx(\"div\",{children:searchMessage}),/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-menu\",children:/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-content\",children:facilities.map(function(facility,i){return/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-item\",onClick:function onClick(){return handleRow(facility);},children:/*#__PURE__*/_jsx(\"span\",{children:facility.facilityName})},facility._id);})})})]})})})});}","map":{"version":3,"sources":["/home/mfybaby/Documents/HealthStack2/HS-frontend/src/components/EncounterMgt/DocumentClass.js"],"names":["React","useState","useContext","useEffect","useRef","client","DebounceInput","useForm","UserContext","ObjectContext","documentListForm","chartListForm","toast","searchfacility","DocumentClass","state","selectedDocumentClass","setSelectedDocumentClass","DocumentClassModule","show","DocumentClassCreate","register","handleSubmit","setValue","error","setError","success","setSuccess","message","setMessage","facility","setFacility","DocumentClassServ","service","user","currentUser","setCurrentUser","getSearchfacility","obj","_id","shouldValidate","shouldDirty","stacker","currentEmployee","facilityDetail","onSubmit","data","e","preventDefault","console","log","locationType","create","then","res","target","reset","type","dismissible","pauseOnHover","catch","err","required","display","DocumentClassList","standalone","closeModal","facilities","setFacilities","setState","setUser","classList","handleCreateNew","newDocumentClassModule","prevstate","handleRow","handleSearch","val","field","find","query","$regex","$options","name","getFacilities","$limit","$sort","findDocumentClass","on","value","map","i","ChartClassList","push","DocumentClassDetail","handleEdit","handleCreateForm","DocumentClassModify","errors","handleCancel","changeState","handleDelete","conf","window","confirm","dleteId","remove","patch","InputSearch","clear","facilityServ","searchError","setSearchError","showPanel","setShowPanel","searchMessage","setSearchMessage","simpa","setSimpa","chosen","setChosen","count","setCount","inputEl","facilityName","handleBlur","length","createdAt"],"mappings":"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","sourcesContent":["/* eslint-disable */\nimport React, {useState,useContext, useEffect,useRef} from 'react'\nimport client from '../../feathers'\nimport {DebounceInput} from 'react-debounce-input';\nimport { useForm } from \"react-hook-form\";\n//import {useHistory} from 'react-router-dom'\nimport {UserContext,ObjectContext} from '../../context'\nimport documentListForm from \"../clientForm/documentList\";\nimport chartListForm from \"../clientForm/chartList\";\nimport {toast} from 'bulma-toast'\n// eslint-disable-next-line\nconst searchfacility={};\n\n\nexport default function DocumentClass() {\n    const {state}=useContext(ObjectContext) //,setState\n    // eslint-disable-next-line\n    const [selectedDocumentClass,setSelectedDocumentClass]=useState()\n    //const [showState,setShowState]=useState() //create|modify|detail\n    \n    return(\n        <section className= \"section remPadTop\">\n           {/*  <div className=\"level\">\n            <div className=\"level-item\"> <span className=\"is-size-6 has-text-weight-medium\">DocumentClass  Module</span></div>\n            </div> */}\n            <div className=\"columns \">\n            <div className=\"column is-8 \">\n                <DocumentClassList />\n                </div>\n            <div className=\"column is-4 \">\n                {(state.DocumentClassModule.show ==='create')&&<DocumentClassCreate />}\n                {(state.DocumentClassModule.show ==='detail')&&<DocumentClassDetail  />}\n                {(state.DocumentClassModule.show ==='modify')&&<DocumentClassModify DocumentClass={selectedDocumentClass} />}\n               \n            </div>\n\n            </div>                            \n            </section>\n       \n    )\n    \n}\n\nexport function DocumentClassCreate(){\n    const { register, handleSubmit,setValue} = useForm(); //, watch, errors, reset \n    const [error, setError] =useState(false)\n    const [success, setSuccess] =useState(false)\n    const [message,setMessage] = useState(\"\")\n    // eslint-disable-next-line\n    const [facility,setFacility] = useState()\n    const DocumentClassServ=client.service('documentclass')\n    //const history = useHistory()\n    const {user} = useContext(UserContext) //,setUser\n    // eslint-disable-next-line\n    const [currentUser,setCurrentUser] = useState()\n\n\n\n    const getSearchfacility=(obj)=>{ // buble-up from inputsearch for creating resource\n        \n        setValue(\"facility\", obj._id,  {\n            shouldValidate: true,\n            shouldDirty: true\n        })\n    }\n    \n    useEffect(() => {\n        setCurrentUser(user)\n        //console.log(currentUser)\n        return () => {\n        \n        }\n    }, [user])\n\n  //check user for facility or get list of facility  \n    useEffect(()=>{\n        //setFacility(user.activeDocumentClass.FacilityId)//\n      if (!user.stacker){\n         // console.log(currentUser)\n        setValue(\"facility\", user.currentEmployee.facilityDetail._id,  {\n            shouldValidate: true,\n            shouldDirty: true\n        }) \n      }\n    })\n\n    const onSubmit = (data,e) =>{\n        e.preventDefault();\n        setMessage(\"\")\n        setError(false)\n        setSuccess(false)\n         // data.createdby=user._id\n          console.log(data);\n          if (user.currentEmployee){\n         data.facility=user.currentEmployee.facilityDetail._id  // or from facility dropdown\n          }\n          data.locationType=\"DocumentClass\"\n        DocumentClassServ.create(data)\n        .then((res)=>{\n                //console.log(JSON.stringify(res))\n                e.target.reset();\n               /*  setMessage(\"Created DocumentClass successfully\") */\n                setSuccess(true)\n                toast({\n                    message: 'DocumentClass created succesfully',\n                    type: 'is-success',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n                  setSuccess(false)\n            })\n            .catch((err)=>{\n                toast({\n                    message: 'Error creating DocumentClass ' + err,\n                    type: 'is-danger',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n            })\n\n      } \n\n    return (\n        <>\n            <div className=\"card \">\n            <div className=\"card-header\">\n                <p className=\"card-header-title\">\n                    Create DocumentClass\n                </p>\n            </div>\n            <div className=\"card-content vscrollable\">\n   \n            <form onSubmit={handleSubmit(onSubmit)}>\n\n                <div className=\"field\">\n                    <p className=\"control has-icons-left has-icons-right\">\n                    <input className=\"input is-small\" ref={register({ required: true })}  name=\"name\" type=\"text\" placeholder=\"Name of DocumentClass\" />\n                    <span className=\"icon is-small is-left\">\n                        <i className=\"fas fa-map-signs\"></i>\n                    </span>\n                    \n                </p>\n            </div>\n         \n           <div className=\"field\"  style={ !user.stacker?{display:\"none\"}:{}} >\n                <InputSearch  getSearchfacility={getSearchfacility} clear={success} /> \n                <p className=\"control has-icons-left \" style={{display:\"none\"}}>\n                    <input className=\"input is-small\" ref={register ({ required: true }) } name=\"facility\" type=\"text\" placeholder=\"Facility\" />\n                    <span className=\"icon is-small is-left\">\n                    <i className=\"fas  fa-map-marker-alt\"></i>\n                    </span>\n                </p>\n            </div>\n          \n            <div className=\"field\">\n                <p className=\"control\">\n                    <button className=\"button is-success is-small\">\n                        Create\n                    </button>\n                </p>\n            </div>\n            \n            </form>\n            </div>\n            </div>\n        </>\n    )\n   \n}\n\nexport function DocumentClassList({standalone,closeModal}){\n   // const { register, handleSubmit, watch, errors } = useForm();\n    // eslint-disable-next-line\n    const [error, setError] =useState(false)\n     // eslint-disable-next-line\n    const [success, setSuccess] =useState(false)\n     // eslint-disable-next-line\n   const [message, setMessage] = useState(\"\") \n    const DocumentClassServ=client.service('documentclass')\n    //const history = useHistory()\n   // const {user,setUser} = useContext(UserContext)\n    const [facilities,setFacilities]=useState([])\n     // eslint-disable-next-line\n   const [selectedDocumentClass, setSelectedDocumentClass]=useState() //\n    // eslint-disable-next-line\n    const {state,setState}=useContext(ObjectContext)\n    // eslint-disable-next-line\n    const {user,setUser}=useContext(UserContext)\n\n   \n\n    let classList = [...facilities];\n   /*  classList.push(...documentListForm); */\n\n    const handleCreateNew = async()=>{\n        const    newDocumentClassModule={\n            selectedDocumentClass:{},\n            show :'create'\n            }\n       await setState((prevstate)=>({...prevstate, DocumentClassModule:newDocumentClassModule}))\n       //console.log(state)\n        \n\n    }\n    const handleRow= async(DocumentClass)=>{\n        //console.log(\"b4\",state)\n\n        //console.log(\"handlerow\",DocumentClass)\n\n        await setSelectedDocumentClass(DocumentClass)\n\n        const    newDocumentClassModule={\n            selectedDocumentClass:DocumentClass,\n            show :'detail'\n        }\n       await setState((prevstate)=>({...prevstate, DocumentClassModule:newDocumentClassModule}))\n       //console.log(state)\n       if (standalone){\n           closeModal()\n       }\n\n    }\n\n   const handleSearch=(val)=>{\n       const field='name'\n       console.log(val)\n       DocumentClassServ.find({query: {\n                [field]: {\n                    $regex:val,\n                    $options:'i'\n                   \n                },\n               facility:user.currentEmployee.facilityDetail._id,\n                /* locationType:\"DocumentClass\", */\n               $limit:10,\n                $sort: {\n                    name: 1\n                  }\n                    }}).then((res)=>{\n                console.log(res)\n               setFacilities(res.data)\n                setMessage(\" DocumentClass  fetched successfully\")\n                setSuccess(true) \n            })\n            .catch((err)=>{\n                console.log(err)\n                setMessage(\"Error fetching DocumentClass, probable network issues \"+ err )\n                setError(true)\n            })\n        }\n   \n    const getFacilities= async()=>{\n            if (user.currentEmployee){\n            \n        const findDocumentClass= await DocumentClassServ.find(\n                {query: {\n                    /* locationType:\"DocumentClass\",*/\n                    facility:user.currentEmployee.facilityDetail._id, \n                    $limit:100,\n                    $sort: {\n                        name: 1\n                    }\n                    }})\n                    \n        console.log(findDocumentClass.data)\n\n         await setFacilities(findDocumentClass.data)\n                }\n                else {\n                    if (user.stacker){\n                        const findDocumentClass= await DocumentClassServ.find(\n                            {query: {\n                               /*  locationType:\"DocumentClass\", */\n                                $limit:1000,\n                                $sort: {\n                                    name: 1\n                                }\n                                }})\n            \n                    await setFacilities(findDocumentClass.data)\n\n                    }\n                }\n          /*   .then((res)=>{\n                console.log(res)\n                    setFacilities(res.data)\n                    setMessage(\" DocumentClass  fetched successfully\")\n                    setSuccess(true)\n                })\n                .catch((err)=>{\n                    setMessage(\"Error creating DocumentClass, probable network issues \"+ err )\n                    setError(true)\n                }) */\n            }\n     \n\n    useEffect(() => {\n        getFacilities()\n            \n            DocumentClassServ.on('created', (obj)=>getFacilities())\n            DocumentClassServ.on('updated', (obj)=>getFacilities())\n            DocumentClassServ.on('patched', (obj)=>getFacilities())\n            DocumentClassServ.on('removed', (obj)=>getFacilities())\n            return () => {\n            \n            }\n        },[])\n\n\n    //todo: pagination and vertical scroll bar\n\n    return(\n        <>\n           {user?( <>  \n                <div className=\"level\">\n                    <div className=\"level-left\">\n                        <div className=\"level-item\">\n                            <div className=\"field\">\n                                <p className=\"control has-icons-left  \">\n                                    <DebounceInput className=\"input is-small \" \n                                        type=\"text\" placeholder=\"Search DocumentClass\"\n                                        minLength={3}\n                                        debounceTimeout={400}\n                                        onChange={(e)=>handleSearch(e.target.value)} />\n                                    <span className=\"icon is-small is-left\">\n                                        <i className=\"fas fa-search\"></i>\n                                    </span>\n                                </p>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"level-item\"> <span className=\"is-size-6 has-text-weight-medium\">List of Document Class</span></div>\n                    <div className=\"level-right\">\n                { !standalone &&   <div className=\"level-item\"> \n                            <div className=\"level-item\"><div className=\"button is-success is-small\" onClick={handleCreateNew}>New</div></div>\n                        </div>}\n                    </div>\n\n                </div>\n                <div className=\"table-container pullup \">\n                                <table className=\"table is-striped  is-hoverable is-fullwidth is-scrollable \">\n                                    <thead>\n                                        <tr>\n                                        <th><abbr title=\"Serial No\">S/No</abbr></th>\n                                        <th>Name</th>\n                                        {/* <th><abbr title=\"Last Name\">DocumentClass Type</abbr></th>\n                                       <th><abbr title=\"Profession\">Profession</abbr></th>\n                                         <th><abbr title=\"Phone\">Phone</abbr></th>\n                                        <th><abbr title=\"Email\">Email</abbr></th>\n                                        <th><abbr title=\"Department\">Department</abbr></th>\n                                        <th><abbr title=\"Departmental Unit\">Departmental Unit</abbr></th> */}\n                                       {user.stacker &&  <th><abbr title=\"Facility\">Facility</abbr></th>}\n                                       { !standalone &&  <th><abbr title=\"Actions\">Actions</abbr></th>}\n                                        </tr>\n                                    </thead>\n                                    <tfoot>\n                                        \n                                    </tfoot>\n                                    <tbody>\n                                        {classList.map((DocumentClass, i)=>(\n\n                                            <tr key={DocumentClass._id} onClick={()=>handleRow(DocumentClass)}  className={DocumentClass._id===(selectedDocumentClass?._id||null)?\"is-selected\":\"\"}>\n                                            <th>{i+1}</th>\n                                            <th>{DocumentClass.name}</th>\n                                            {/*<td>{DocumentClass.DocumentClassType}</td>\n                                            < td>{DocumentClass.profession}</td>\n                                            <td>{DocumentClass.phone}</td>\n                                            <td>{DocumentClass.email}</td>\n                                            <td>{DocumentClass.department}</td>\n                                            <td>{DocumentClass.deptunit}</td>*/}\n                                           {user.stacker &&  <td>{DocumentClass.facility}</td>}\n                                          { !standalone &&   <td><span   className=\"showAction\"  >...</span></td>}\n                                           \n                                            </tr>\n\n                                        ))}\n                                    </tbody>\n                                    </table>\n                                    \n                </div>              \n            </>):<div>loading</div>}\n            </>\n              \n    )\n}\n\nexport function ChartClassList({standalone,closeModal}){\n    // const { register, handleSubmit, watch, errors } = useForm();\n     // eslint-disable-next-line\n     const [error, setError] =useState(false)\n      // eslint-disable-next-line\n     const [success, setSuccess] =useState(false)\n      // eslint-disable-next-line\n    const [message, setMessage] = useState(\"\") \n     const DocumentClassServ=client.service('documentclass')\n     //const history = useHistory()\n    // const {user,setUser} = useContext(UserContext)\n     const [facilities,setFacilities]=useState([])\n      // eslint-disable-next-line\n    const [selectedDocumentClass, setSelectedDocumentClass]=useState() //\n     // eslint-disable-next-line\n     const {state,setState}=useContext(ObjectContext)\n     // eslint-disable-next-line\n     const {user,setUser}=useContext(UserContext)\n \n    \n \n     let classList = [];\n     classList.push(...chartListForm);\n \n     const handleCreateNew = async()=>{\n         const    newDocumentClassModule={\n             selectedDocumentClass:{},\n             show :'create'\n             }\n        await setState((prevstate)=>({...prevstate, DocumentClassModule:newDocumentClassModule}))\n        //console.log(state)\n         \n \n     }\n     const handleRow= async(DocumentClass)=>{\n         //console.log(\"b4\",state)\n \n         //console.log(\"handlerow\",DocumentClass)\n \n         await setSelectedDocumentClass(DocumentClass)\n \n         const    newDocumentClassModule={\n             selectedDocumentClass:DocumentClass,\n             show :'detail'\n         }\n        await setState((prevstate)=>({...prevstate, DocumentClassModule:newDocumentClassModule}))\n        //console.log(state)\n        if (standalone){\n            closeModal()\n        }\n \n     }\n \n    const handleSearch=(val)=>{\n        const field='name'\n        console.log(val)\n        DocumentClassServ.find({query: {\n                 [field]: {\n                     $regex:val,\n                     $options:'i'\n                    \n                 },\n                facility:user.currentEmployee.facilityDetail._id,\n                 /* locationType:\"DocumentClass\", */\n                $limit:10,\n                 $sort: {\n                     name: 1\n                   }\n                     }}).then((res)=>{\n                 console.log(res)\n                setFacilities(res.data)\n                 setMessage(\" DocumentClass  fetched successfully\")\n                 setSuccess(true) \n             })\n             .catch((err)=>{\n                 console.log(err)\n                 setMessage(\"Error fetching DocumentClass, probable network issues \"+ err )\n                 setError(true)\n             })\n         }\n    \n     const getFacilities= async()=>{\n             if (user.currentEmployee){\n             \n         const findDocumentClass= await DocumentClassServ.find(\n                 {query: {\n                     /* locationType:\"DocumentClass\",*/\n                     facility:user.currentEmployee.facilityDetail._id, \n                     $limit:100,\n                     $sort: {\n                         name: 1\n                     }\n                     }})\n                     \n         console.log(findDocumentClass.data)\n \n          await setFacilities(findDocumentClass.data)\n                 }\n                 else {\n                     if (user.stacker){\n                         const findDocumentClass= await DocumentClassServ.find(\n                             {query: {\n                                /*  locationType:\"DocumentClass\", */\n                                 $limit:1000,\n                                 $sort: {\n                                     name: 1\n                                 }\n                                 }})\n             \n                     await setFacilities(findDocumentClass.data)\n \n                     }\n                 }\n           /*   .then((res)=>{\n                 console.log(res)\n                     setFacilities(res.data)\n                     setMessage(\" DocumentClass  fetched successfully\")\n                     setSuccess(true)\n                 })\n                 .catch((err)=>{\n                     setMessage(\"Error creating DocumentClass, probable network issues \"+ err )\n                     setError(true)\n                 }) */\n             }\n      \n \n     useEffect(() => {\n         getFacilities()\n             \n             DocumentClassServ.on('created', (obj)=>getFacilities())\n             DocumentClassServ.on('updated', (obj)=>getFacilities())\n             DocumentClassServ.on('patched', (obj)=>getFacilities())\n             DocumentClassServ.on('removed', (obj)=>getFacilities())\n             return () => {\n             \n             }\n         },[])\n \n \n     //todo: pagination and vertical scroll bar\n \n     return(\n         <>\n            {user?( <>  \n                 <div className=\"level\">\n                     <div className=\"level-left\">\n                         <div className=\"level-item\">\n                             <div className=\"field\">\n                                 <p className=\"control has-icons-left  \">\n                                     <DebounceInput className=\"input is-small \" \n                                         type=\"text\" placeholder=\"Search Chart Class\"\n                                         minLength={3}\n                                         debounceTimeout={400}\n                                         onChange={(e)=>handleSearch(e.target.value)} />\n                                     <span className=\"icon is-small is-left\">\n                                         <i className=\"fas fa-search\"></i>\n                                     </span>\n                                 </p>\n                             </div>\n                         </div>\n                     </div>\n                     <div className=\"level-item\"> <span className=\"is-size-6 has-text-weight-medium\">List of Charts</span></div>\n                     <div className=\"level-right\">\n                 { !standalone &&   <div className=\"level-item\"> \n                             <div className=\"level-item\"><div className=\"button is-success is-small\" onClick={handleCreateNew}>New</div></div>\n                         </div>}\n                     </div>\n \n                 </div>\n                 <div className=\"table-container pullup \">\n                                 <table className=\"table is-striped  is-hoverable is-fullwidth is-scrollable \">\n                                     <thead>\n                                         <tr>\n                                         <th><abbr title=\"Serial No\">S/No</abbr></th>\n                                         <th>Name</th>\n                                         {/* <th><abbr title=\"Last Name\">DocumentClass Type</abbr></th>\n                                        <th><abbr title=\"Profession\">Profession</abbr></th>\n                                          <th><abbr title=\"Phone\">Phone</abbr></th>\n                                         <th><abbr title=\"Email\">Email</abbr></th>\n                                         <th><abbr title=\"Department\">Department</abbr></th>\n                                         <th><abbr title=\"Departmental Unit\">Departmental Unit</abbr></th> */}\n                                        {user.stacker &&  <th><abbr title=\"Facility\">Facility</abbr></th>}\n                                        { !standalone &&  <th><abbr title=\"Actions\">Actions</abbr></th>}\n                                         </tr>\n                                     </thead>\n                                     <tfoot>\n                                         \n                                     </tfoot>\n                                     <tbody>\n                                         {classList.map((DocumentClass, i)=>(\n \n                                             <tr key={DocumentClass._id} onClick={()=>handleRow(DocumentClass)}  className={DocumentClass._id===(selectedDocumentClass?._id||null)?\"is-selected\":\"\"}>\n                                             <th>{i+1}</th>\n                                             <th>{DocumentClass.name}</th>\n                                             {/*<td>{DocumentClass.DocumentClassType}</td>\n                                             < td>{DocumentClass.profession}</td>\n                                             <td>{DocumentClass.phone}</td>\n                                             <td>{DocumentClass.email}</td>\n                                             <td>{DocumentClass.department}</td>\n                                             <td>{DocumentClass.deptunit}</td>*/}\n                                            {user.stacker &&  <td>{DocumentClass.facility}</td>}\n                                           { !standalone &&   <td><span   className=\"showAction\"  >...</span></td>}\n                                            \n                                             </tr>\n \n                                         ))}\n                                     </tbody>\n                                     </table>\n                                     \n                 </div>              \n             </>):<div>loading</div>}\n             </>\n               \n     )\n }\n\nexport function DocumentClassDetail(){\n    //const { register, handleSubmit, watch, setValue } = useForm(); //errors,\n     // eslint-disable-next-line\n    const [error, setError] =useState(false) //, \n    //const [success, setSuccess] =useState(false)\n     // eslint-disable-next-line\n    const [message, setMessage] = useState(\"\") //,\n    //const DocumentClassServ=client.service('/DocumentClass')\n    //const history = useHistory()\n    //const {user,setUser} = useContext(UserContext)\n    const {state,setState} = useContext(ObjectContext)\n\n   \n\n   const DocumentClass =state.DocumentClassModule.selectedDocumentClass \n\n    const handleEdit= async()=>{\n        const    newDocumentClassModule={\n            selectedDocumentClass:DocumentClass,\n            show :'modify'\n        }\n       await setState((prevstate)=>({...prevstate, DocumentClassModule:newDocumentClassModule}))\n       //console.log(state)\n       \n    }\n            \n    const handleCreateForm=async()=>{\n        \n    }    \n \n    return (\n        <>\n        <div className=\"card \">\n            <div className=\"card-header\">\n                <p className=\"card-header-title\">\n                    DocumentClass Details\n                </p>\n            </div>\n            <div className=\"card-content vscrollable\">\n           \n                <table> \n                <tbody>         \n                <tr>\n                    <td>\n                \n                    <label className=\"label is-small\"> <span className=\"icon is-small is-left\">\n                            <i className=\"fas fa-hospital\"></i>\n                        </span>                    \n                        Name: \n                        </label>\n                        </td>\n                        <td>\n                        <span className=\"is-size-7 padleft\"   name=\"name\"> {DocumentClass.name} </span>\n                        </td>\n                    </tr>\n                    <tr>\n               \n                </tr>\n            </tbody> \n            </table> \n           \n            <div className=\"field is-grouped mt-2\">\n                <p className=\"control\">\n                    <button className=\"button is-success is-small\" onClick={handleEdit}>\n                        Edit\n                    </button>\n                </p>\n                {/* <p className=\"control\">\n                    <button className=\"button is-info is-small\" onClick={handleCreateForm}>\n                        Create Form\n                    </button>\n                </p> */}\n            </div>\n            { error && <div className=\"message\"> {message}</div>}\n           \n        </div>\n        </div>\n        </>\n    )\n   \n   \n}\n\nexport function DocumentClassModify(){\n    const { register, handleSubmit, setValue,reset, errors } = useForm(); //watch, errors,\n    // eslint-disable-next-line \n    const [error, setError] =useState(false)\n    // eslint-disable-next-line \n    const [success, setSuccess] =useState(false)\n    // eslint-disable-next-line \n    const [message,setMessage] = useState(\"\")\n    // eslint-disable-next-line \n    const DocumentClassServ=client.service('documentclass')\n    //const history = useHistory()\n     // eslint-disable-next-line\n    const {user} = useContext(UserContext)\n    const {state,setState} = useContext(ObjectContext)\n\n    const DocumentClass =state.DocumentClassModule.selectedDocumentClass \n\n        useEffect(() => {\n            setValue(\"name\", DocumentClass.name,  {\n                shouldValidate: true,\n                shouldDirty: true\n            })\n            setValue(\"locationType\", DocumentClass.locationType,  {\n                shouldValidate: true,\n                shouldDirty: true\n            })\n           /*  setValue(\"profession\", DocumentClass.profession,  {\n                shouldValidate: true,\n                shouldDirty: true\n            })\n            setValue(\"phone\", DocumentClass.phone,  {\n                shouldValidate: true,\n                shouldDirty: true\n            })\n            setValue(\"email\", DocumentClass.email,  {\n                shouldValidate: true,\n                shouldDirty: true\n            })\n            setValue(\"department\", DocumentClass.department,  {\n                shouldValidate: true,\n                shouldDirty: true\n            })\n            setValue(\"deptunit\", DocumentClass.deptunit,  {\n                shouldValidate: true,\n                shouldDirty: true\n            }) */\n          /*   setValue(\"DocumentClassCategory\", DocumentClass.DocumentClassCategory,  {\n                shouldValidate: true,\n                shouldDirty: true\n            }) */\n            \n            return () => {\n                \n            }\n        })\n\n   const handleCancel=async()=>{\n    const    newDocumentClassModule={\n        selectedDocumentClass:{},\n        show :'create'\n      }\n   await setState((prevstate)=>({...prevstate, DocumentClassModule:newDocumentClassModule}))\n   //console.log(state)\n           }\n\n\n        const changeState =()=>{\n        const    newDocumentClassModule={\n            selectedDocumentClass:{},\n            show :'create'\n        }\n        setState((prevstate)=>({...prevstate, DocumentClassModule:newDocumentClassModule}))\n\n        }\n    const handleDelete=async()=>{\n        let conf=window.confirm(\"Are you sure you want to delete this data?\")\n        \n        const dleteId=DocumentClass._id\n        if (conf){\n             \n        DocumentClassServ.remove(dleteId)\n        .then((res)=>{\n                //console.log(JSON.stringify(res))\n                reset();\n               /*  setMessage(\"Deleted DocumentClass successfully\")\n                setSuccess(true)\n                changeState()\n               setTimeout(() => {\n                setSuccess(false)\n                }, 200); */\n                toast({\n                    message: 'DocumentClass deleted succesfully',\n                    type: 'is-success',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n                changeState()\n            })\n            .catch((err)=>{\n               // setMessage(\"Error deleting DocumentClass, probable network issues \"+ err )\n               // setError(true)\n                toast({\n                    message: \"Error deleting DocumentClass, probable network issues or \"+ err,\n                    type: 'is-danger',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n            })\n        }\n    }\n        \n\n   /* ()=> setValue(\"firstName\", \"Bill\", , {\n            shouldValidate: true,\n            shouldDirty: true\n          })) */\n    const onSubmit = (data,e) =>{\n        e.preventDefault();\n        \n        setSuccess(false)\n        console.log(data)\n        data.facility=DocumentClass.facility\n          //console.log(data);\n          \n        DocumentClassServ.patch(DocumentClass._id,data)\n        .then((res)=>{\n                //console.log(JSON.stringify(res))\n               // e.target.reset();\n               // setMessage(\"updated DocumentClass successfully\")\n                 toast({\n                    message: 'DocumentClass updated succesfully',\n                    type: 'is-success',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n                  \n                changeState()\n\n            })\n            .catch((err)=>{\n                //setMessage(\"Error creating DocumentClass, probable network issues \"+ err )\n               // setError(true)\n                toast({\n                    message: \"Error updating DocumentClass, probable network issues or \"+ err,\n                    type: 'is-danger',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n            })\n\n      } \n     \n      \n    return (\n        \n        <>\n        <div className=\"card \">\n            <div className=\"card-header\">\n                <p className=\"card-header-title\">\n                    DocumentClass Details-Modify\n                </p>\n            </div>\n            <div className=\"card-content vscrollable\">\n           \n            <form onSubmit={handleSubmit(onSubmit)}>\n                <div className=\"field\">\n                    <label className=\"label is-small\"> Name\n                    <p className=\"control has-icons-left has-icons-right\">\n                        <input className=\"input  is-small\" ref={register({ required: true })}  name=\"name\" type=\"text\" placeholder=\"Name\" />\n                        <span className=\"icon is-small is-left\">\n                            <i className=\"fas fa-hospital\"></i>\n                        </span>                    \n                    </p>\n                    </label>\n                    </div>\n                {/* <div className=\"field\">\n                <label className=\"label is-small\">Location Type\n                    <p className=\"control has-icons-left has-icons-right\">\n                    <input className=\"input is-small \" ref={register({ required: true })} disabled name=\"DocumentClassType\" type=\"text\" placeholder=\"DocumentClass Type\" />\n                    <span className=\"icon is-small is-left\">\n                        <i className=\"fas fa-map-signs\"></i>\n                    </span>\n                    \n                </p>\n                </label>\n                </div> */}\n            {/* <div className=\"field\">\n            <label className=\"label is-small\">Profession\n                <p className=\"control has-icons-left\">\n                    <input className=\"input is-small\" ref={register({ required: true })} name=\"profession\" type=\"text\" placeholder=\"Profession\"/>\n                    <span className=\"icon is-small is-left\">\n                    <i className=\"fas fa-map-marker-alt\"></i>\n                    </span>\n                </p>\n                </label>\n                </div>\n            <div className=\"field\">\n            <label className=\"label is-small\">Phone\n                <p className=\"control has-icons-left\">\n                    <input className=\"input is-small\" ref={register({ required: true })} name=\"phone\" type=\"text\" placeholder=\"Phone No\"/>\n                    <span className=\"icon is-small is-left\">\n                    <i className=\"fas fa-phone-alt\"></i>\n                    </span>\n                </p>\n                </label>\n                 </div>\n            <div className=\"field\">\n            <label className=\"label is-small\">Email\n                <p className=\"control has-icons-left\">\n                    <input className=\"input is-small\" ref={register({ required: true })} name=\"email\" type=\"email\" placeholder=\"DocumentClass Email\"/>\n                    <span className=\"icon is-small is-left\">\n                    <i className=\"fas fa-envelope\"></i>\n                    </span>\n                </p>\n                </label>\n                </div>\n            <div className=\"field\">\n            <label className=\"label is-small\">Department\n                <p className=\"control has-icons-left\">\n                    <input className=\"input is-small\" ref={register({ required: true })} name=\"department\" type=\"text\" placeholder=\"Department\"/>\n                    <span className=\"icon is-small is-left\">\n                    <i className=\"fas fa-user-md\"></i>\n                    </span>\n                </p>\n                </label>\n                {errors.department && <span>This field is required</span>}\n                </div>\n            <div className=\"field\">\n            <label className=\"label is-small\">Departmental Unit\n                <p className=\"control has-icons-left\">\n                    <input className=\"input is-small\" ref={register({ required: true })} name=\"deptunit\" type=\"text\" placeholder=\"Departmental Unit\"/>\n                    <span className=\"icon is-small is-left\">\n                    <i className=\"fas fa-hospital-symbol\"></i>\n                    </span>\n                </p>\n                </label>\n                </div> */}\n           {/*  <div className=\"field\">\n            <label className=\"label is-small\">Category\n                <p className=\"control has-icons-left\">\n                    <input className=\"input is-small\" ref={register({ required: true })} name=\"DocumentClassCategory\" type=\"text\" placeholder=\"DocumentClass Category\"/>\n                    <span className=\"icon is-small is-left\">\n                    <i className=\"fas fa-DocumentClass-medical\"></i>\n                    </span>\n                </p>\n                </label>\n            </div> */}\n           \n           \n            </form>\n            \n            <div className=\"field  is-grouped mt-2\" >\n                <p className=\"control\">\n                    <button type=\"submit\" className=\"button is-success is-small\" onClick={handleSubmit(onSubmit)}>\n                        Save\n                    </button>\n                </p>\n                <p className=\"control\">\n                    <button className=\"button is-warning is-small\" onClick={handleCancel}>\n                        Cancel\n                    </button>\n                </p>\n                {/* <p className=\"control\">\n                    <button className=\"button is-danger is-small\" onClick={()=>handleDelete()} type=\"delete\">\n                       Delete\n                    </button>\n                </p> */}\n            </div>\n        </div>\n        </div>\n        </>\n    )\n   \n   \n                \n}   \n\nexport  function InputSearch({getSearchfacility,clear}) {\n    \n    const facilityServ=client.service('facility')\n    const [facilities,setFacilities]=useState([])\n     // eslint-disable-next-line\n     const [searchError, setSearchError] =useState(false)\n     // eslint-disable-next-line\n    const [showPanel, setShowPanel] =useState(false)\n     // eslint-disable-next-line\n   const [searchMessage, setSearchMessage] = useState(\"\") \n   // eslint-disable-next-line \n   const [simpa,setSimpa]=useState(\"\")\n   // eslint-disable-next-line \n   const [chosen,setChosen]=useState(false)\n   // eslint-disable-next-line \n   const [count,setCount]=useState(0)\n   const inputEl=useRef(null)\n\n\n   const handleRow= async(obj)=>{\n        await setChosen(true)\n        //alert(\"something is chaning\")\n       getSearchfacility(obj)\n       \n       await setSimpa(obj.facilityName)\n       \n        // setSelectedFacility(obj)\n        setShowPanel(false)\n        await setCount(2)\n        /* const    newfacilityModule={\n            selectedFacility:facility,\n            show :'detail'\n        }\n   await setState((prevstate)=>({...prevstate, facilityModule:newfacilityModule})) */\n   //console.log(state)\n}\n    const handleBlur=async(e)=>{\n         if (count===2){\n             console.log(\"stuff was chosen\")\n         }\n       \n       /*  console.log(\"blur\")\n         setShowPanel(false)\n        console.log(JSON.stringify(simpa))\n        if (simpa===\"\"){\n            console.log(facilities.length)\n            setSimpa(\"abc\")\n            setSimpa(\"\")\n            setFacilities([])\n            inputEl.current.setValue=\"\"\n        }\n        console.log(facilities.length)\n        console.log(inputEl.current) */\n    }\n    const handleSearch=async(val)=>{\n        \n        const field='facilityName' //field variable\n       \n        if (val.length>=3){\n            facilityServ.find({query: {     //service\n                 [field]: {\n                     $regex:val,\n                     $options:'i'\n                    \n                 },\n                 $limit:10,\n                 $sort: {\n                     createdAt: -1\n                   }\n                     }}).then((res)=>{\n              console.log(\"facility  fetched successfully\") \n                setFacilities(res.data)\n                 setSearchMessage(\" facility  fetched successfully\")\n                 setShowPanel(true)\n             })\n             .catch((err)=>{\n                 console.log(err)\n                 setSearchMessage(\"Error searching facility, probable network issues \"+ err )\n                 setSearchError(true)\n             })\n         }\n        else{\n            console.log(\"less than 3 \")\n            console.log(val)\n            setShowPanel(false)\n            await setFacilities([])\n            console.log(facilities)\n        }\n    }\n    useEffect(() => {\n       if (clear){\n           setSimpa(\"\")\n       }\n        return () => {\n            \n        }\n    }, [clear] )\n    return (\n        <div>\n            <div className=\"field\">\n                <div className=\"control has-icons-left  \">\n                    <div className={`dropdown ${showPanel?\"is-active\":\"\"}`}>\n                        <div className=\"dropdown-trigger\">\n                            <DebounceInput className=\"input is-small \" \n                                type=\"text\" placeholder=\"Search Facilities\"\n                                value={simpa}\n                                minLength={1}\n                                debounceTimeout={400}\n                                onBlur={(e)=>handleBlur(e)}\n                                onChange={(e)=>handleSearch(e.target.value)}\n                                inputRef={inputEl}\n                                  />\n                            <span className=\"icon is-small is-left\">\n                                <i className=\"fas fa-search\"></i>\n                            </span>\n                        </div>\n                        {searchError&&<div>{searchMessage}</div>}\n                        <div className=\"dropdown-menu\" >\n                            <div className=\"dropdown-content\">\n                            {facilities.map((facility, i)=>(\n                                    \n                                    <div className=\"dropdown-item\" key={facility._id} onClick={()=>handleRow(facility)}>\n                                        \n                                        <span>{facility.facilityName}</span>\n                                        \n                                    </div>\n                                    \n                                    ))}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n          \n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}