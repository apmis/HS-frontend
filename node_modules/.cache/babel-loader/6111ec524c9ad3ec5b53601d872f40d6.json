{"ast":null,"code":"import _defineProperty from \"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport _objectSpread from \"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _regeneratorRuntime from \"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _slicedToArray from \"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/home/mfybaby/Documents/HealthStack2/HS-frontend/src/components/EncounterMgt/AdmitOrders.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$(),\n    _s4 = $RefreshSig$(),\n    _s5 = $RefreshSig$(),\n    _s6 = $RefreshSig$();\n\n/* eslint-disable */\nimport React, { useState, useContext, useEffect, useRef } from 'react';\nimport client from '../../feathers';\nimport { DebounceInput } from 'react-debounce-input';\nimport { useForm } from \"react-hook-form\"; //import {useHistory} from 'react-router-dom'\n\nimport { UserContext, ObjectContext } from '../../context';\nimport FacilityPopup from '../helpers/FacilityPopup';\nimport { toast } from 'bulma-toast';\nimport { format, formatDistanceToNowStrict } from 'date-fns';\n/* import {ProductCreate} from './Products' */\n// eslint-disable-next-line\n\nvar searchfacility = {};\nexport default function AdmitOrders() {\n  _s();\n\n  var _useContext = useContext(ObjectContext),\n      state = _useContext.state; //,setState\n  // eslint-disable-next-line\n\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      selectedProductEntry = _useState2[0],\n      setSelectedProductEntry = _useState2[1]; //const [showState,setShowState]=useState() //create|modify|detail\n\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"section remPadTop\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"columns \",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"column is-6 \",\n        children: /*#__PURE__*/_jsxDEV(AdmitOrdersList, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"column is-6 \",\n        children: state.EndEncounterModule.selectedEndEncounter === 'Admit to Ward' && /*#__PURE__*/_jsxDEV(AdmitOrdersCreate, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 85\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 9\n  }, this);\n}\n\n_s(AdmitOrders, \"rbONvdOqtpnibg4yTxOvgQUvlCY=\");\n\n_c = AdmitOrders;\nexport function AdmitOrdersCreate() {\n  _s2();\n\n  // const { register, handleSubmit,setValue} = useForm(); //, watch, errors, reset \n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      error = _useState4[0],\n      setError = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      success = _useState6[0],\n      setSuccess = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      message = _useState8[0],\n      setMessage = _useState8[1]; // eslint-disable-next-line\n\n\n  var _useState9 = useState(),\n      _useState10 = _slicedToArray(_useState9, 2),\n      facility = _useState10[0],\n      setFacility = _useState10[1];\n\n  var ProductEntryServ = client.service('productentry'); //const history = useHistory()\n\n  var _useContext2 = useContext(UserContext),\n      user = _useContext2.user; //,setUser\n  // eslint-disable-next-line\n\n\n  var _useState11 = useState(),\n      _useState12 = _slicedToArray(_useState11, 2),\n      currentUser = _useState12[0],\n      setCurrentUser = _useState12[1];\n\n  var _useState13 = useState(\"Purchase Invoice\"),\n      _useState14 = _slicedToArray(_useState13, 2),\n      type = _useState14[0],\n      setType = _useState14[1];\n\n  var _useState15 = useState(\"\"),\n      _useState16 = _slicedToArray(_useState15, 2),\n      documentNo = _useState16[0],\n      setDocumentNo = _useState16[1];\n\n  var _useState17 = useState(\"\"),\n      _useState18 = _slicedToArray(_useState17, 2),\n      totalamount = _useState18[0],\n      setTotalamount = _useState18[1];\n\n  var _useState19 = useState(\"\"),\n      _useState20 = _slicedToArray(_useState19, 2),\n      productId = _useState20[0],\n      setProductId = _useState20[1];\n\n  var _useState21 = useState(\"\"),\n      _useState22 = _slicedToArray(_useState21, 2),\n      source = _useState22[0],\n      setSource = _useState22[1];\n\n  var _useState23 = useState(\"\"),\n      _useState24 = _slicedToArray(_useState23, 2),\n      date = _useState24[0],\n      setDate = _useState24[1];\n\n  var _useState25 = useState(\"\"),\n      _useState26 = _slicedToArray(_useState25, 2),\n      name = _useState26[0],\n      setName = _useState26[1];\n\n  var _useState27 = useState(''),\n      _useState28 = _slicedToArray(_useState27, 2),\n      destination = _useState28[0],\n      setDestination = _useState28[1];\n\n  var _useState29 = useState(''),\n      _useState30 = _slicedToArray(_useState29, 2),\n      destinationId = _useState30[0],\n      setDestinationId = _useState30[1];\n\n  var _useState31 = useState(false),\n      _useState32 = _slicedToArray(_useState31, 2),\n      destinationModal = _useState32[0],\n      setDestinationModal = _useState32[1];\n\n  var _useState33 = useState(),\n      _useState34 = _slicedToArray(_useState33, 2),\n      ward = _useState34[0],\n      setWard = _useState34[1];\n\n  var _useState35 = useState(),\n      _useState36 = _slicedToArray(_useState35, 2),\n      instruction = _useState36[0],\n      setInstruction = _useState36[1];\n\n  var _useState37 = useState([]),\n      _useState38 = _slicedToArray(_useState37, 2),\n      productItem = _useState38[0],\n      setProductItem = _useState38[1];\n\n  var _useContext3 = useContext(ObjectContext),\n      state = _useContext3.state,\n      setState = _useContext3.setState;\n\n  var ClientServ = client.service('clinicaldocument');\n\n  var _useState39 = useState({\n    productitems: [],\n    date: date,\n    documentNo: documentNo,\n    type: type,\n    totalamount: totalamount,\n    source: source\n  }),\n      _useState40 = _slicedToArray(_useState39, 2),\n      productEntry = _useState40[0],\n      setProductEntry = _useState40[1];\n\n  var handlecloseModal = function handlecloseModal() {\n    setDestinationModal(false); //handleSearch(val)\n  };\n\n  var productItemI = {\n    /*   productId,\n      name, */\n    ward: ward,\n    destination: destination,\n    instruction: instruction,\n    destinationId: destinationId //name of ward\n    //instruction\n    //date and time\n    //facility\n\n    /* costprice,\n    amount:quantity*costprice,\n    baseunit */\n\n  }; // consider batchformat{batchno,expirydate,qtty,baseunit}\n  //consider baseunoit conversions\n\n  var getSearchfacility = function getSearchfacility(obj) {\n    if (!obj) {\n      //\"clear stuff\"\n      setInstruction(\"\");\n      setTest(\"\");\n    } //setInstruction(obj.instruction)\n\n\n    setWard(obj); // setBaseunit(obj.baseunit)\n\n    /*  setValue(\"facility\", obj._id,  {\n         shouldValidate: true,\n         shouldDirty: true\n     }) */\n  };\n\n  useEffect(function () {\n    setCurrentUser(user); //console.log(currentUser)\n\n    return function () {};\n  }, [user]);\n  /*  useEffect(() => {\n       setProductItem(\n           prevProd=>prevProd.concat(productItemI)\n       )\n       console.log(productItem)\n       return () => {\n           \n       }\n   },[productItemI])\n  */\n\n  useEffect(function () {\n    setDestination(state.DestinationModule.selectedDestination.facilityName);\n    setDestinationId(state.DestinationModule.selectedDestination._id);\n    return function () {};\n  }, [state.DestinationModule.selectedDestination]);\n\n  var handleChangeType = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return setType(e.target.value);\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleChangeType(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var handleClickProd = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return setSuccess(false);\n\n            case 2:\n              if (productItemI.test && productItemI.test.length > 0) {\n                _context2.next = 5;\n                break;\n              }\n\n              toast({\n                message: 'Test can not be empty ',\n                type: 'is-danger',\n                dismissible: true,\n                pauseOnHover: true\n              });\n              return _context2.abrupt(\"return\");\n\n            case 5:\n              _context2.next = 7;\n              return setProductItem(function (prevProd) {\n                return prevProd.concat(productItemI);\n              });\n\n            case 7:\n              setName(\"\");\n              setTest(\"\");\n              setInstruction(\"\");\n              setDestination(user.currentEmployee.facilityDetail.facilityName);\n              setDestinationId(user.currentEmployee.facilityDetail._id); // setDestination(\"\")\n\n              _context2.next = 14;\n              return setSuccess(true);\n\n            case 14:\n              console.log(success);\n              console.log(productItem);\n\n            case 16:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function handleClickProd() {\n      return _ref2.apply(this, arguments);\n    };\n  }(); //check user for facility or get list of facility  \n\n  /*  useEffect(()=>{\n       //setFacility(user.activeProductEntry.FacilityId)//\n     if (!user.stacker){\n         console.log(currentUser)\n          /* setValue(\"facility\", user.currentEmployee.facilityDetail._id,  {\n           shouldValidate: true,\n           shouldDirty: true\n       })  \n      }\n   }) */\n\n\n  var handleChangeDestination = function handleChangeDestination() {\n    setDestinationModal(true);\n  };\n\n  var closeModal = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      var newDocumentClassModule;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              newDocumentClassModule = {\n                selectedEndEncounter: \"\",\n                show: ''\n              };\n              _context3.next = 3;\n              return setState(function (prevstate) {\n                return _objectSpread(_objectSpread({}, prevstate), {}, {\n                  EndEncounterModule: newDocumentClassModule\n                });\n              });\n\n            case 3:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function closeModal() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var resetform = function resetform() {\n    setType(\"Purchase Invoice\");\n    setDocumentNo(\"\");\n    setTotalamount(\"\");\n    setProductId(\"\");\n    setSource(\"\");\n    setDate(\"\");\n    setName(\"\");\n    setTest(\"\");\n    setInstruction(\"\");\n    setProductItem([]);\n  };\n\n  var onSubmit = function onSubmit() {\n    //data,e\n    // e.preventDefault();\n    setMessage(\"\");\n    setError(false);\n    setSuccess(false); //write document\n\n    var document = {}; // data.createdby=user._id\n    // console.log(data);\n\n    if (user.currentEmployee) {\n      document.facility = user.currentEmployee.facilityDetail._id;\n      document.facilityname = user.currentEmployee.facilityDetail.facilityName; // or from facility dropdown\n    }\n\n    document.documentdetail = productItemI;\n    console.log(document.documentdetail);\n    document.documentname = \"Admission Order\"; //state.DocumentClassModule.selectedDocumentClass.name\n    // document.documentClassId=state.DocumentClassModule.selectedDocumentClass._id\n\n    document.location = state.employeeLocation.locationName + \" \" + state.employeeLocation.locationType;\n    document.locationId = state.employeeLocation.locationId;\n    document.client = state.ClientModule.selectedClient._id;\n    document.clientname = state.ClientModule.selectedClient.firstname + \" \" + state.ClientModule.selectedClient.middlename + \" \" + state.ClientModule.selectedClient.lastname;\n    document.clientobj = state.ClientModule.selectedClient;\n    document.createdBy = user._id;\n    document.createdByname = user.firstname + \" \" + user.lastname;\n    document.status = \"completed\";\n    console.log(document);\n    ClientServ.create(document).then(function (res) {\n      //console.log(JSON.stringify(res))\n      // e.target.reset();\n\n      /*  setMessage(\"Created Client successfully\") */\n      setSuccess(true);\n      toast({\n        message: 'Presciption created succesfully',\n        type: 'is-success',\n        dismissible: true,\n        pauseOnHover: true\n      });\n      setSuccess(false);\n      setProductItem([]);\n      closeModal();\n    }).catch(function (err) {\n      toast({\n        message: 'Error creating AdmitOrders ' + err,\n        type: 'is-danger',\n        dismissible: true,\n        pauseOnHover: true\n      });\n    });\n  };\n\n  useEffect(function () {\n    setDestination(user.currentEmployee.facilityDetail.facilityName);\n    setDestinationId(user.currentEmployee.facilityDetail._id);\n    return function () {};\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card card-overflow\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-header\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"card-header-title\",\n          children: \"Create Admit Orders\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-content \",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"label is-small\",\n          children: \"Destination Ward\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"field is-horizontal\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"field-body\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field is-expanded\"\n              /* style={ !user.stacker?{display:\"none\"}:{}} */\n              ,\n              children: [/*#__PURE__*/_jsxDEV(WardHelperSearch, {\n                getSearchfacility: getSearchfacility,\n                clear: success\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 295,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"control has-icons-left \",\n                style: {\n                  display: \"none\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"input is-small\"\n                  /* ref={register ({ required: true }) }   value={ward?.name} name=\"test\" type=\"text\" onChange={e=>setWard(e.target.value)} placeholder=\"test\"  */\n\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 297,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"icon is-small is-left\",\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas  fa-map-marker-alt\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 299,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 298,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 296,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 14\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 10\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"field is-horizontal\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"field-body\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"control \",\n                children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  class: \"textarea is-small\"\n                  /* ref={register({ required: true })} */\n                  ,\n                  name: \"instruction\",\n                  value: instruction,\n                  type: \"text\",\n                  onChange: function onChange(e) {\n                    return setInstruction(e.target.value);\n                  },\n                  placeholder: \"Instructions/Note\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 310,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 10\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"field mt-2\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"control\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"button is-success is-small\"\n              /* disabled={!productItem.length>0} */\n              ,\n              onClick: onSubmit,\n              children: \"Create\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal \".concat(destinationModal ? \"is-active\" : \"\"),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-background\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 37\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"header\", {\n          className: \"modal-card-head\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"modal-card-title\",\n            children: \"Choose Destination\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 41\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"delete\",\n            \"aria-label\": \"close\",\n            onClick: handlecloseModal\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 41\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 41\n        }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"modal-card-body\",\n          children: /*#__PURE__*/_jsxDEV(FacilityPopup, {\n            facilityType: \"Laboratory\",\n            closeModal: handlecloseModal\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 45\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 41\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 37\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s2(AdmitOrdersCreate, \"S2Vf5IfnyEjwcooWt4XHfsYgdt0=\");\n\n_c2 = AdmitOrdersCreate;\nexport function AdmitOrdersList(_ref4) {\n  _s3();\n\n  var _this = this;\n\n  var standalone = _ref4.standalone;\n\n  // const { register, handleSubmit, watch, errors } = useForm();\n  // eslint-disable-next-line\n  var _useState41 = useState(false),\n      _useState42 = _slicedToArray(_useState41, 2),\n      error = _useState42[0],\n      setError = _useState42[1]; // eslint-disable-next-line\n\n\n  var _useState43 = useState(false),\n      _useState44 = _slicedToArray(_useState43, 2),\n      success = _useState44[0],\n      setSuccess = _useState44[1]; // eslint-disable-next-line\n\n\n  var _useState45 = useState(\"\"),\n      _useState46 = _slicedToArray(_useState45, 2),\n      message = _useState46[0],\n      setMessage = _useState46[1];\n\n  var OrderServ = client.service('order'); //const history = useHistory()\n  // const {user,setUser} = useContext(UserContext)\n\n  var _useState47 = useState([]),\n      _useState48 = _slicedToArray(_useState47, 2),\n      facilities = _useState48[0],\n      setFacilities = _useState48[1]; // eslint-disable-next-line\n\n\n  var _useState49 = useState(),\n      _useState50 = _slicedToArray(_useState49, 2),\n      selectedOrder = _useState50[0],\n      setSelectedOrder = _useState50[1]; //\n  // eslint-disable-next-line\n\n\n  var _useContext4 = useContext(ObjectContext),\n      state = _useContext4.state,\n      setState = _useContext4.setState; // eslint-disable-next-line\n\n\n  var _useContext5 = useContext(UserContext),\n      user = _useContext5.user,\n      setUser = _useContext5.setUser;\n\n  var handleCreateNew = /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n      var newProductEntryModule;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              newProductEntryModule = {\n                selectedOrder: {},\n                show: 'create'\n              };\n              _context4.next = 3;\n              return setState(function (prevstate) {\n                return _objectSpread(_objectSpread({}, prevstate), {}, {\n                  OrderModule: newProductEntryModule\n                });\n              });\n\n            case 3:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function handleCreateNew() {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n\n  var handleDelete = function handleDelete(doc) {\n    // console.log(doc)\n    var confirm = window.confirm(\"You are about to delete a \".concat(doc.order, \" lab order?\"));\n\n    if (confirm) {\n      OrderServ.remove(doc._id).then(function (res) {\n        toast({\n          message: 'Lab order deleted succesfully',\n          type: 'is-success',\n          dismissible: true,\n          pauseOnHover: true\n        });\n        setSuccess(false);\n      }).catch(function (err) {\n        toast({\n          message: 'Error deleting Lab order' + err,\n          type: 'is-danger',\n          dismissible: true,\n          pauseOnHover: true\n        });\n      });\n    }\n  };\n\n  var handleRow = /*#__PURE__*/function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(ProductEntry) {\n      var newProductEntryModule;\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.next = 2;\n              return setSelectedOrder(ProductEntry);\n\n            case 2:\n              newProductEntryModule = {\n                selectedOrder: ProductEntry,\n                show: 'detail'\n              };\n              _context5.next = 5;\n              return setState(function (prevstate) {\n                return _objectSpread(_objectSpread({}, prevstate), {}, {\n                  OrderModule: newProductEntryModule\n                });\n              });\n\n            case 5:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n\n    return function handleRow(_x2) {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n\n  var handleSearch = function handleSearch(val) {\n    var field = 'name';\n    console.log(val);\n    OrderServ.find({\n      query: {\n        $or: [{\n          order: {\n            $regex: val,\n            $options: 'i'\n          }\n        }, {\n          order_status: {\n            $regex: val,\n            $options: 'i'\n          }\n        }],\n        order_category: \"Admission Order\",\n        fulfilled: false,\n        destination: user.currentEmployee.facilityDetail._id,\n        order_status: \"Pending\",\n        // storeId:state.StoreModule.selectedStore._id,\n        //facility:user.currentEmployee.facilityDetail._id || \"\",\n        $limit: 10,\n        $sort: {\n          createdAt: -1\n        }\n      }\n    }).then(function (res) {\n      console.log(res);\n      setFacilities(res.data);\n      setMessage(\" ProductEntry  fetched successfully\");\n      setSuccess(true);\n    }).catch(function (err) {\n      console.log(err);\n      setMessage(\"Error fetching ProductEntry, probable network issues \" + err);\n      setError(true);\n    });\n  };\n\n  var getFacilities = /*#__PURE__*/function () {\n    var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6() {\n      var findProductEntry;\n      return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              console.log(\"here b4 server\");\n              console.log(state.ClientModule.selectedClient._id);\n              _context6.next = 4;\n              return OrderServ.find({\n                query: {\n                  order_category: \"Admission Order\",\n                  //destination: user.currentEmployee.facilityDetail._id,\n                  //storeId:state.StoreModule.selectedStore._id,\n                  fulfilled: false,\n                  destination: user.currentEmployee.facilityDetail._id,\n                  order_status: \"Pending\",\n                  clientId: state.ClientModule.selectedClient._id,\n                  $limit: 20,\n                  $sort: {\n                    createdAt: -1\n                  }\n                }\n              });\n\n            case 4:\n              findProductEntry = _context6.sent;\n              _context6.next = 7;\n              return setFacilities(findProductEntry.data);\n\n            case 7:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6);\n    }));\n\n    return function getFacilities() {\n      return _ref7.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    console.log(\"started\");\n    getFacilities();\n    OrderServ.on('created', function (obj) {\n      return getFacilities();\n    });\n    OrderServ.on('updated', function (obj) {\n      return getFacilities();\n    });\n    OrderServ.on('patched', function (obj) {\n      return getFacilities();\n    });\n    OrderServ.on('removed', function (obj) {\n      return getFacilities();\n    });\n    return function () {};\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"level\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"level-left\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"level-item\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"field\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"control has-icons-left  \",\n              children: [/*#__PURE__*/_jsxDEV(DebounceInput, {\n                className: \"input is-small \",\n                type: \"text\",\n                placeholder: \"Search tests\",\n                minLength: 3,\n                debounceTimeout: 400,\n                onChange: function onChange(e) {\n                  return handleSearch(e.target.value);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 508,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"icon is-small is-left\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-search\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 514,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 513,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 507,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 506,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 505,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 504,\n        columnNumber: 21\n      }, this), !standalone && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"level-item\",\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"is-size-6 has-text-weight-medium\",\n            children: \"List of Admission Orders \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 520,\n            columnNumber: 68\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 520,\n          columnNumber: 39\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"level-right\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"level-item\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"level-item\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"button is-success is-small\",\n                onClick: handleCreateNew,\n                children: \"New\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 523,\n                columnNumber: 57\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 523,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 522,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 521,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 503,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"table-container pullup \",\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"table is-striped is-narrow is-hoverable is-fullwidth is-scrollable \",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: /*#__PURE__*/_jsxDEV(\"abbr\", {\n                title: \"Serial No\",\n                children: \"S/No\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 532,\n                columnNumber: 45\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 532,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: /*#__PURE__*/_jsxDEV(\"abbr\", {\n                title: \"Date\",\n                children: \"Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 533,\n                columnNumber: 45\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 533,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: /*#__PURE__*/_jsxDEV(\"abbr\", {\n                title: \"Order\",\n                children: \"Ward\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 534,\n                columnNumber: 45\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 534,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Fulfilled\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 535,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: /*#__PURE__*/_jsxDEV(\"abbr\", {\n                title: \"Status\",\n                children: \"Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 536,\n                columnNumber: 45\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 536,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: /*#__PURE__*/_jsxDEV(\"abbr\", {\n                title: \"Requesting Physician\",\n                children: \"Requesting Physician\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 537,\n                columnNumber: 45\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 537,\n              columnNumber: 41\n            }, this), !standalone && /*#__PURE__*/_jsxDEV(\"th\", {\n              children: /*#__PURE__*/_jsxDEV(\"abbr\", {\n                title: \"Actions\",\n                children: \"Actions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 539,\n                columnNumber: 65\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 539,\n              columnNumber: 61\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 531,\n            columnNumber: 41\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 530,\n          columnNumber: 37\n        }, this), /*#__PURE__*/_jsxDEV(\"tfoot\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 542,\n          columnNumber: 37\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: facilities.map(function (ProductEntry, i) {\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              /* onClick={()=>handleRow(ProductEntry)} */\n              className: ProductEntry._id === ((selectedOrder === null || selectedOrder === void 0 ? void 0 : selectedOrder._id) || null) ? \"is-selected\" : \"\",\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: i + 1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 549,\n                columnNumber: 45\n              }, _this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: format(new Date(ProductEntry.createdAt), 'dd-MM-yy')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 550,\n                  columnNumber: 142\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 550,\n                columnNumber: 45\n              }, _this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: ProductEntry.order\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 551,\n                columnNumber: 45\n              }, _this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: ProductEntry.fulfilled === \"True\" ? \"Yes\" : \"No\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 552,\n                columnNumber: 45\n              }, _this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: ProductEntry.order_status\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 553,\n                columnNumber: 45\n              }, _this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: ProductEntry.requestingdoctor_Name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 554,\n                columnNumber: 45\n              }, _this), !standalone && /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [\"  \", /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"button  sbut\",\n                  \"aria-label\": \"more options\",\n                  onClick: function onClick() {\n                    return handleDelete(ProductEntry);\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"x\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 557,\n                    columnNumber: 61\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 556,\n                  columnNumber: 68\n                }, _this), \" \", \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 556,\n                columnNumber: 62\n              }, _this)]\n            }, ProductEntry._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 548,\n              columnNumber: 45\n            }, _this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 545,\n          columnNumber: 37\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 529,\n        columnNumber: 33\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 528,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true);\n}\n\n_s3(AdmitOrdersList, \"DxATKwctpjzfEKaRLVVcqH3KfDE=\");\n\n_c3 = AdmitOrdersList;\nexport function ProductEntryDetail() {\n  _s4();\n\n  var _this2 = this;\n\n  //const { register, handleSubmit, watch, setValue } = useForm(); //errors,\n  // eslint-disable-next-line\n  var _useState51 = useState(false),\n      _useState52 = _slicedToArray(_useState51, 2),\n      error = _useState52[0],\n      setError = _useState52[1]; //, \n  //const [success, setSuccess] =useState(false)\n  // eslint-disable-next-line\n\n\n  var _useState53 = useState(\"\"),\n      _useState54 = _slicedToArray(_useState53, 2),\n      message = _useState54[0],\n      setMessage = _useState54[1]; //,\n  //const ProductEntryServ=client.service('/ProductEntry')\n  //const history = useHistory()\n  //const {user,setUser} = useContext(UserContext)\n\n\n  var _useContext6 = useContext(ObjectContext),\n      state = _useContext6.state,\n      setState = _useContext6.setState;\n\n  var ProductEntry = state.ProductEntryModule.selectedProductEntry;\n\n  var handleEdit = /*#__PURE__*/function () {\n    var _ref8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7() {\n      var newProductEntryModule;\n      return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              newProductEntryModule = {\n                selectedProductEntry: ProductEntry,\n                show: 'modify'\n              };\n              _context7.next = 3;\n              return setState(function (prevstate) {\n                return _objectSpread(_objectSpread({}, prevstate), {}, {\n                  ProductEntryModule: newProductEntryModule\n                });\n              });\n\n            case 3:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, _callee7);\n    }));\n\n    return function handleEdit() {\n      return _ref8.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card \",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-header\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"card-header-title\",\n          children: \"ProductEntry Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 603,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 602,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-content vscrollable\",\n        children: [/*#__PURE__*/_jsxDEV(\"table\", {\n          children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"label is-small\",\n                  children: [\" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"icon is-small is-left\",\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fas fa-hospital\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 614,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 613,\n                    columnNumber: 58\n                  }, this), \"Type\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 613,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 612,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"is-size-7 padleft\",\n                  name: \"name\",\n                  children: [\" \", ProductEntry.type, \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 620,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 619,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 622,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"label is-small padleft\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"icon is-small is-left\",\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fas fa-map-signs\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 627,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 626,\n                    columnNumber: 67\n                  }, this), \"Supplier:\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 626,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 625,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"is-size-7 padleft\",\n                  name: \"ProductEntryType\",\n                  children: [ProductEntry.source, \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 632,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 631,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 611,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"label is-small\",\n                  children: [\" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"icon is-small is-left\",\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fas fa-hospital\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 638,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 637,\n                    columnNumber: 60\n                  }, this), \"Date:\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 637,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 636,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"is-size-7 padleft\",\n                  name: \"name\",\n                  children: [\" \", ProductEntry.date, \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 644,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 643,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 646,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"label is-small padleft\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"icon is-small is-left\",\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fas fa-map-signs\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 651,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 650,\n                    columnNumber: 67\n                  }, this), \"Invoice No:\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 650,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 649,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"is-size-7 padleft\",\n                  name: \"ProductEntryType\",\n                  children: [ProductEntry.documentNo, \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 657,\n                  columnNumber: 26\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 656,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 635,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"label is-small\",\n                  children: [\" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"icon is-small is-left\",\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fas fa-hospital\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 664,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 663,\n                    columnNumber: 60\n                  }, this), \"Total Amount:\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 663,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 661,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"is-size-7 padleft\",\n                  name: \"name\",\n                  children: [\" \", ProductEntry.totalamount, \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 670,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 669,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 660,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 610,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 609,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"label is-size-7 mt-2\",\n          children: \"Product Items:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 676,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"table is-striped  is-hoverable is-fullwidth is-scrollable \",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: /*#__PURE__*/_jsxDEV(\"abbr\", {\n                  title: \"Serial No\",\n                  children: \"S/No\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 680,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 680,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: /*#__PURE__*/_jsxDEV(\"abbr\", {\n                  title: \"Type\",\n                  children: \"Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 681,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 681,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: /*#__PURE__*/_jsxDEV(\"abbr\", {\n                  title: \"Type\",\n                  children: \"Quanitity\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 682,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 682,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: /*#__PURE__*/_jsxDEV(\"abbr\", {\n                  title: \"Document No\",\n                  children: \"Unit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 683,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 683,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: /*#__PURE__*/_jsxDEV(\"abbr\", {\n                  title: \"Cost Price\",\n                  children: \"Cost Price\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 684,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 684,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: /*#__PURE__*/_jsxDEV(\"abbr\", {\n                  title: \"Cost Price\",\n                  children: \"Amount\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 685,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 685,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 679,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 678,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"tfoot\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 689,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: ProductEntry.productitems.map(function (ProductEntry, i) {\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: i + 1\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 696,\n                  columnNumber: 25\n                }, _this2), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: ProductEntry.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 697,\n                  columnNumber: 25\n                }, _this2), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: ProductEntry.quantity\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 698,\n                  columnNumber: 25\n                }, _this2), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: ProductEntry.baseunit\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 699,\n                  columnNumber: 25\n                }, _this2), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: ProductEntry.costprice\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 700,\n                  columnNumber: 25\n                }, _this2), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: ProductEntry.amount\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 701,\n                  columnNumber: 25\n                }, _this2)]\n              }, i, true, {\n                fileName: _jsxFileName,\n                lineNumber: 695,\n                columnNumber: 25\n              }, _this2);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 692,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 677,\n          columnNumber: 10\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 607,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 601,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n\n_s4(ProductEntryDetail, \"h1GDqtA9+gEGAb/iJNQJURdDgz0=\");\n\n_c4 = ProductEntryDetail;\nexport function ProductEntryModify() {\n  _s5();\n\n  var _useForm = useForm(),\n      register = _useForm.register,\n      handleSubmit = _useForm.handleSubmit,\n      setValue = _useForm.setValue,\n      reset = _useForm.reset,\n      errors = _useForm.errors; //watch, errors,\n  // eslint-disable-next-line \n\n\n  var _useState55 = useState(false),\n      _useState56 = _slicedToArray(_useState55, 2),\n      error = _useState56[0],\n      setError = _useState56[1]; // eslint-disable-next-line \n\n\n  var _useState57 = useState(false),\n      _useState58 = _slicedToArray(_useState57, 2),\n      success = _useState58[0],\n      setSuccess = _useState58[1]; // eslint-disable-next-line \n\n\n  var _useState59 = useState(\"\"),\n      _useState60 = _slicedToArray(_useState59, 2),\n      message = _useState60[0],\n      setMessage = _useState60[1]; // eslint-disable-next-line \n\n\n  var ProductEntryServ = client.service('productentry'); //const history = useHistory()\n  // eslint-disable-next-line\n\n  var _useContext7 = useContext(UserContext),\n      user = _useContext7.user;\n\n  var _useContext8 = useContext(ObjectContext),\n      state = _useContext8.state,\n      setState = _useContext8.setState;\n\n  var ProductEntry = state.ProductEntryModule.selectedProductEntry;\n  useEffect(function () {\n    setValue(\"name\", ProductEntry.name, {\n      shouldValidate: true,\n      shouldDirty: true\n    });\n    setValue(\"ProductEntryType\", ProductEntry.ProductEntryType, {\n      shouldValidate: true,\n      shouldDirty: true\n    });\n    /*  setValue(\"profession\", ProductEntry.profession,  {\n         shouldValidate: true,\n         shouldDirty: true\n     })\n     setValue(\"phone\", ProductEntry.phone,  {\n         shouldValidate: true,\n         shouldDirty: true\n     })\n     setValue(\"email\", ProductEntry.email,  {\n         shouldValidate: true,\n         shouldDirty: true\n     })\n     setValue(\"department\", ProductEntry.department,  {\n         shouldValidate: true,\n         shouldDirty: true\n     })\n     setValue(\"deptunit\", ProductEntry.deptunit,  {\n         shouldValidate: true,\n         shouldDirty: true\n     }) */\n\n    /*   setValue(\"ProductEntryCategory\", ProductEntry.ProductEntryCategory,  {\n          shouldValidate: true,\n          shouldDirty: true\n      }) */\n\n    return function () {};\n  });\n\n  var handleCancel = /*#__PURE__*/function () {\n    var _ref9 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8() {\n      var newProductEntryModule;\n      return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n        while (1) {\n          switch (_context8.prev = _context8.next) {\n            case 0:\n              newProductEntryModule = {\n                selectedProductEntry: {},\n                show: 'create'\n              };\n              _context8.next = 3;\n              return setState(function (prevstate) {\n                return _objectSpread(_objectSpread({}, prevstate), {}, {\n                  ProductEntryModule: newProductEntryModule\n                });\n              });\n\n            case 3:\n            case \"end\":\n              return _context8.stop();\n          }\n        }\n      }, _callee8);\n    }));\n\n    return function handleCancel() {\n      return _ref9.apply(this, arguments);\n    };\n  }();\n\n  var changeState = function changeState() {\n    var newProductEntryModule = {\n      selectedProductEntry: {},\n      show: 'create'\n    };\n    setState(function (prevstate) {\n      return _objectSpread(_objectSpread({}, prevstate), {}, {\n        ProductEntryModule: newProductEntryModule\n      });\n    });\n  };\n\n  var handleDelete = /*#__PURE__*/function () {\n    var _ref10 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee9() {\n      var conf, dleteId;\n      return _regeneratorRuntime.wrap(function _callee9$(_context9) {\n        while (1) {\n          switch (_context9.prev = _context9.next) {\n            case 0:\n              conf = window.confirm(\"Are you sure you want to delete this data?\");\n              dleteId = ProductEntry._id;\n\n              if (conf) {\n                ProductEntryServ.remove(dleteId).then(function (res) {\n                  //console.log(JSON.stringify(res))\n                  reset();\n                  /*  setMessage(\"Deleted ProductEntry successfully\")\n                   setSuccess(true)\n                   changeState()\n                  setTimeout(() => {\n                   setSuccess(false)\n                   }, 200); */\n\n                  toast({\n                    message: 'ProductEntry deleted succesfully',\n                    type: 'is-success',\n                    dismissible: true,\n                    pauseOnHover: true\n                  });\n                  changeState();\n                }).catch(function (err) {\n                  // setMessage(\"Error deleting ProductEntry, probable network issues \"+ err )\n                  // setError(true)\n                  toast({\n                    message: \"Error deleting ProductEntry, probable network issues or \" + err,\n                    type: 'is-danger',\n                    dismissible: true,\n                    pauseOnHover: true\n                  });\n                });\n              }\n\n            case 3:\n            case \"end\":\n              return _context9.stop();\n          }\n        }\n      }, _callee9);\n    }));\n\n    return function handleDelete() {\n      return _ref10.apply(this, arguments);\n    };\n  }();\n  /* ()=> setValue(\"firstName\", \"Bill\", , {\n           shouldValidate: true,\n           shouldDirty: true\n         })) */\n\n\n  var onSubmit = function onSubmit(data, e) {\n    e.preventDefault();\n    setSuccess(false);\n    console.log(data);\n    data.facility = ProductEntry.facility; //console.log(data);\n\n    ProductEntryServ.patch(ProductEntry._id, data).then(function (res) {\n      //console.log(JSON.stringify(res))\n      // e.target.reset();\n      // setMessage(\"updated ProductEntry successfully\")\n      toast({\n        message: 'ProductEntry updated succesfully',\n        type: 'is-success',\n        dismissible: true,\n        pauseOnHover: true\n      });\n      changeState();\n    }).catch(function (err) {\n      //setMessage(\"Error creating ProductEntry, probable network issues \"+ err )\n      // setError(true)\n      toast({\n        message: \"Error updating ProductEntry, probable network issues or \" + err,\n        type: 'is-danger',\n        dismissible: true,\n        pauseOnHover: true\n      });\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card \",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-header\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"card-header-title\",\n          children: \"ProductEntry Details-Modify\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 954,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 953,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-content vscrollable\",\n        children: [/*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit(onSubmit),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"field\",\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"label is-small\",\n              children: [\" Name\", /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"control has-icons-left has-icons-right\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"input  is-small\",\n                  ref: register({\n                    required: true\n                  }),\n                  name: \"name\",\n                  type: \"text\",\n                  placeholder: \"Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 964,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"icon is-small is-left\",\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-hospital\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 966,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 965,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 963,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 962,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 961,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"field\",\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"label is-small\",\n              children: [\"ProductEntry Type\", /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"control has-icons-left has-icons-right\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"input is-small \",\n                  ref: register({\n                    required: true\n                  }),\n                  disabled: true,\n                  name: \"ProductEntryType\",\n                  type: \"text\",\n                  placeholder: \"ProductEntry Type\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 974,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"icon is-small is-left\",\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-map-signs\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 976,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 975,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 973,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 972,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 971,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 960,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"field  is-grouped mt-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"control\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"button is-success is-small\",\n              onClick: handleSubmit(onSubmit),\n              children: \"Save\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1049,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1048,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"control\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"button is-warning is-small\",\n              onClick: handleCancel,\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1054,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1053,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"control\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"button is-danger is-small\",\n              onClick: function onClick() {\n                return handleDelete();\n              },\n              type: \"delete\",\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1059,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1058,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1047,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 958,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 952,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n\n_s5(ProductEntryModify, \"W0TJyFq+4jk0GppIUViWG03fFXg=\", false, function () {\n  return [useForm];\n});\n\n_c5 = ProductEntryModify;\nexport function WardHelperSearch(_ref11) {\n  _s6();\n\n  var _this3 = this;\n\n  var getSearchfacility = _ref11.getSearchfacility,\n      clear = _ref11.clear;\n  var productServ = client.service('location');\n  var testServ2 = client.service('labtest');\n\n  var _useState61 = useState([]),\n      _useState62 = _slicedToArray(_useState61, 2),\n      facilities = _useState62[0],\n      setFacilities = _useState62[1];\n\n  var _useContext9 = useContext(UserContext),\n      user = _useContext9.user,\n      setUser = _useContext9.setUser; // eslint-disable-next-lin\n\n\n  var _useState63 = useState(false),\n      _useState64 = _slicedToArray(_useState63, 2),\n      searchError = _useState64[0],\n      setSearchError = _useState64[1]; // eslint-disable-next-line\n\n\n  var _useState65 = useState(false),\n      _useState66 = _slicedToArray(_useState65, 2),\n      showPanel = _useState66[0],\n      setShowPanel = _useState66[1]; // eslint-disable-next-line\n\n\n  var _useState67 = useState(\"\"),\n      _useState68 = _slicedToArray(_useState67, 2),\n      searchMessage = _useState68[0],\n      setSearchMessage = _useState68[1]; // eslint-disable-next-line \n\n\n  var _useState69 = useState(\"\"),\n      _useState70 = _slicedToArray(_useState69, 2),\n      simpa = _useState70[0],\n      setSimpa = _useState70[1]; // eslint-disable-next-line \n\n\n  var _useState71 = useState(false),\n      _useState72 = _slicedToArray(_useState71, 2),\n      chosen = _useState72[0],\n      setChosen = _useState72[1]; // eslint-disable-next-line \n\n\n  var _useState73 = useState(0),\n      _useState74 = _slicedToArray(_useState73, 2),\n      count = _useState74[0],\n      setCount = _useState74[1];\n\n  var inputEl = useRef(null);\n\n  var _useState75 = useState(\"\"),\n      _useState76 = _slicedToArray(_useState75, 2),\n      val = _useState76[0],\n      setVal = _useState76[1];\n\n  var _useState77 = useState(false),\n      _useState78 = _slicedToArray(_useState77, 2),\n      productModal = _useState78[0],\n      setProductModal = _useState78[1];\n\n  var value;\n\n  var handleRow = /*#__PURE__*/function () {\n    var _ref12 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee10(obj) {\n      return _regeneratorRuntime.wrap(function _callee10$(_context10) {\n        while (1) {\n          switch (_context10.prev = _context10.next) {\n            case 0:\n              _context10.next = 2;\n              return setChosen(true);\n\n            case 2:\n              //alert(\"something is chaning\")\n              getSearchfacility(obj);\n              _context10.next = 5;\n              return setSimpa(obj.name);\n\n            case 5:\n              // setSelectedFacility(obj)\n              setShowPanel(false);\n              _context10.next = 8;\n              return setCount(2);\n\n            case 8:\n            case \"end\":\n              return _context10.stop();\n          }\n        }\n      }, _callee10);\n    }));\n\n    return function handleRow(_x3) {\n      return _ref12.apply(this, arguments);\n    };\n  }();\n\n  var handleBlur = /*#__PURE__*/function () {\n    var _ref13 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee11(e) {\n      return _regeneratorRuntime.wrap(function _callee11$(_context11) {\n        while (1) {\n          switch (_context11.prev = _context11.next) {\n            case 0:\n              if (count === 2) {\n                console.log(\"stuff was chosen\");\n              }\n              /*  console.log(\"blur\")\n                setShowPanel(false)\n               console.log(JSON.stringify(simpa))\n               if (simpa===\"\"){\n                   console.log(facilities.length)\n                   setSimpa(\"abc\")\n                   setSimpa(\"\")\n                   setFacilities([])\n                   inputEl.current.setValue=\"\"\n               }\n               console.log(facilities.length)\n               console.log(inputEl.current) */\n\n\n            case 1:\n            case \"end\":\n              return _context11.stop();\n          }\n        }\n      }, _callee11);\n    }));\n\n    return function handleBlur(_x4) {\n      return _ref13.apply(this, arguments);\n    };\n  }();\n\n  var handleSearch = /*#__PURE__*/function () {\n    var _ref14 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee12(value) {\n      var field;\n      return _regeneratorRuntime.wrap(function _callee12$(_context12) {\n        while (1) {\n          switch (_context12.prev = _context12.next) {\n            case 0:\n              setVal(value);\n\n              if (!(value === \"\")) {\n                _context12.next = 5;\n                break;\n              }\n\n              setShowPanel(false);\n              getSearchfacility(false);\n              return _context12.abrupt(\"return\");\n\n            case 5:\n              field = 'name'; //field variable\n\n              if (!(value.length >= 3)) {\n                _context12.next = 10;\n                break;\n              }\n\n              productServ.find({\n                query: {\n                  //service\n                  $or: [_defineProperty({}, field, {\n                    $regex: value,\n                    $options: 'i'\n                  }), {\n                    locationType: \"Ward\"\n                  }],\n                  facility: user.currentEmployee.facilityDetail._id,\n                  locationType: \"Ward\",\n                  $limit: 10,\n                  $sort: {\n                    createdAt: -1\n                  }\n                }\n              }).then(function (res) {\n                console.log(\"product  fetched successfully\");\n                console.log(res);\n\n                if (res.total > 0) {\n                  setFacilities(res.data);\n                  setSearchMessage(\" product  fetched successfully\");\n                  setShowPanel(true);\n                } else {\n                  setShowPanel(false);\n                  getSearchfacility({\n                    test: value,\n                    instruction: \"\"\n                  });\n                }\n              }).catch(function (err) {\n                toast({\n                  message: 'Error fetching test ' + err,\n                  type: 'is-danger',\n                  dismissible: true,\n                  pauseOnHover: true\n                });\n              });\n              _context12.next = 16;\n              break;\n\n            case 10:\n              console.log(\"less than 3 \");\n              console.log(val);\n              setShowPanel(false);\n              _context12.next = 15;\n              return setFacilities([]);\n\n            case 15:\n              console.log(facilities);\n\n            case 16:\n            case \"end\":\n              return _context12.stop();\n          }\n        }\n      }, _callee12);\n    }));\n\n    return function handleSearch(_x5) {\n      return _ref14.apply(this, arguments);\n    };\n  }();\n\n  var handleAddproduct = function handleAddproduct() {\n    setProductModal(true);\n  };\n\n  var handlecloseModal = function handlecloseModal() {// setDestinationModal(false)\n    //handleSearch(val)\n  };\n\n  useEffect(function () {\n    setSimpa(value);\n    return function () {};\n  }, [simpa]);\n  useEffect(function () {\n    if (clear) {\n      console.log(\"success has changed\", clear);\n      setSimpa(\"\");\n    }\n\n    return function () {};\n  }, [clear]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"field\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"control has-icons-left  \",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dropdown \".concat(showPanel ? \"is-active\" : \"\"),\n          style: {\n            width: \"100%\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dropdown-trigger\",\n            style: {\n              width: \"100%\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(DebounceInput, {\n              className: \"input is-small \",\n              type: \"text\",\n              placeholder: \"Search for Destination Ward\",\n              value: simpa,\n              minLength: 3,\n              debounceTimeout: 400\n              /*  onBlur={(e)=>handleBlur(e)} */\n              ,\n              onChange: function onChange(e) {\n                return handleSearch(e.target.value);\n              },\n              inputRef: inputEl\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1221,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"icon is-small is-left\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-search\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1231,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1230,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1220,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dropdown-menu\",\n            style: {\n              width: \"100%\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"dropdown-content\",\n              children: facilities.map(function (facility, i) {\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"dropdown-item\",\n                  onClick: function onClick() {\n                    return handleRow(facility);\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: facility.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1243,\n                    columnNumber: 41\n                  }, _this3)\n                }, facility._id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1241,\n                  columnNumber: 37\n                }, _this3);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1236,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1235,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1219,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1218,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1217,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1216,\n    columnNumber: 9\n  }, this);\n}\n\n_s6(WardHelperSearch, \"ElfUUSi6NQkI1WeZEUHkuQnrfwU=\");\n\n_c6 = WardHelperSearch;\n\nvar _c, _c2, _c3, _c4, _c5, _c6;\n\n$RefreshReg$(_c, \"AdmitOrders\");\n$RefreshReg$(_c2, \"AdmitOrdersCreate\");\n$RefreshReg$(_c3, \"AdmitOrdersList\");\n$RefreshReg$(_c4, \"ProductEntryDetail\");\n$RefreshReg$(_c5, \"ProductEntryModify\");\n$RefreshReg$(_c6, \"WardHelperSearch\");","map":{"version":3,"sources":["/home/mfybaby/Documents/HealthStack2/HS-frontend/src/components/EncounterMgt/AdmitOrders.js"],"names":["React","useState","useContext","useEffect","useRef","client","DebounceInput","useForm","UserContext","ObjectContext","FacilityPopup","toast","format","formatDistanceToNowStrict","searchfacility","AdmitOrders","state","selectedProductEntry","setSelectedProductEntry","EndEncounterModule","selectedEndEncounter","AdmitOrdersCreate","error","setError","success","setSuccess","message","setMessage","facility","setFacility","ProductEntryServ","service","user","currentUser","setCurrentUser","type","setType","documentNo","setDocumentNo","totalamount","setTotalamount","productId","setProductId","source","setSource","date","setDate","name","setName","destination","setDestination","destinationId","setDestinationId","destinationModal","setDestinationModal","ward","setWard","instruction","setInstruction","productItem","setProductItem","setState","ClientServ","productitems","productEntry","setProductEntry","handlecloseModal","productItemI","getSearchfacility","obj","setTest","DestinationModule","selectedDestination","facilityName","_id","handleChangeType","e","target","value","handleClickProd","test","length","dismissible","pauseOnHover","prevProd","concat","currentEmployee","facilityDetail","console","log","handleChangeDestination","closeModal","newDocumentClassModule","show","prevstate","resetform","onSubmit","document","facilityname","documentdetail","documentname","location","employeeLocation","locationName","locationType","locationId","ClientModule","selectedClient","clientname","firstname","middlename","lastname","clientobj","createdBy","createdByname","status","create","then","res","catch","err","display","AdmitOrdersList","standalone","OrderServ","facilities","setFacilities","selectedOrder","setSelectedOrder","setUser","handleCreateNew","newProductEntryModule","OrderModule","handleDelete","doc","confirm","window","order","remove","handleRow","ProductEntry","handleSearch","val","field","find","query","$or","$regex","$options","order_status","order_category","fulfilled","$limit","$sort","createdAt","data","getFacilities","clientId","findProductEntry","on","map","i","Date","requestingdoctor_Name","ProductEntryDetail","ProductEntryModule","handleEdit","quantity","baseunit","costprice","amount","ProductEntryModify","register","handleSubmit","setValue","reset","errors","shouldValidate","shouldDirty","ProductEntryType","handleCancel","changeState","conf","dleteId","preventDefault","patch","required","WardHelperSearch","clear","productServ","testServ2","searchError","setSearchError","showPanel","setShowPanel","searchMessage","setSearchMessage","simpa","setSimpa","chosen","setChosen","count","setCount","inputEl","setVal","productModal","setProductModal","handleBlur","total","handleAddproduct","width"],"mappings":"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","sourcesContent":["/* eslint-disable */\nimport React, {useState,useContext, useEffect,useRef} from 'react'\nimport client from '../../feathers'\nimport {DebounceInput} from 'react-debounce-input';\nimport { useForm } from \"react-hook-form\";\n//import {useHistory} from 'react-router-dom'\nimport {UserContext,ObjectContext} from '../../context'\nimport FacilityPopup from '../helpers/FacilityPopup'\nimport {toast} from 'bulma-toast'\nimport {format, formatDistanceToNowStrict } from 'date-fns'\n/* import {ProductCreate} from './Products' */\n// eslint-disable-next-line\nconst searchfacility={};\n\n\nexport default function AdmitOrders() {\n    const {state}=useContext(ObjectContext) //,setState\n    // eslint-disable-next-line\n    const [selectedProductEntry,setSelectedProductEntry]=useState()\n    //const [showState,setShowState]=useState() //create|modify|detail\n    \n    return(\n        <section className= \"section remPadTop\">\n           {/*  <div className=\"level\">\n            <div className=\"level-item\"> <span className=\"is-size-6 has-text-weight-medium\">ProductEntry  Module</span></div>\n            </div> */}\n            <div className=\"columns \">\n            <div className=\"column is-6 \">\n                <AdmitOrdersList />\n                </div>\n            <div className=\"column is-6 \">\n                {(state.EndEncounterModule.selectedEndEncounter==='Admit to Ward')&&<AdmitOrdersCreate />}\n              {/*   {(state.OrderModule.show ==='detail')&&<ProductEntryDetail  />}\n                {(state.OrderModule.show ==='modify')&&<ProductEntryModify ProductEntry={selectedProductEntry} />} */}\n               \n            </div>\n\n            </div>                            \n            </section>\n       \n    )\n    \n}\n\nexport function AdmitOrdersCreate(){\n   // const { register, handleSubmit,setValue} = useForm(); //, watch, errors, reset \n    const [error, setError] =useState(false)\n    const [success, setSuccess] =useState(false)\n    const [message,setMessage] = useState(\"\")\n    // eslint-disable-next-line\n    const [facility,setFacility] = useState()\n    const ProductEntryServ=client.service('productentry')\n    //const history = useHistory()\n    const {user} = useContext(UserContext) //,setUser\n    // eslint-disable-next-line\n    const [currentUser,setCurrentUser] = useState()\n    const [type,setType] = useState(\"Purchase Invoice\")\n    const [documentNo,setDocumentNo] = useState(\"\")\n    const [totalamount,setTotalamount] = useState(\"\")\n    const [productId,setProductId] = useState(\"\")\n    const [source,setSource] = useState(\"\")\n    const [date,setDate] = useState(\"\")\n    const [name,setName] = useState(\"\")\n    const [destination,setDestination] = useState('')\n    const [destinationId,setDestinationId] = useState('')\n    const [destinationModal,setDestinationModal] = useState(false)\n    const [ward,setWard] = useState()\n    const [instruction,setInstruction] = useState()\n    const [productItem,setProductItem] = useState([])\n    const {state,setState}=useContext(ObjectContext)\n    const ClientServ=client.service('clinicaldocument')\n    \n    const [productEntry,setProductEntry]=useState({\n        productitems:[],\n        date,\n        documentNo,\n        type,\n        totalamount,\n        source,\n\n    })\n \n    const handlecloseModal =()=>{\n        setDestinationModal(false)\n        //handleSearch(val)\n    }\n    const productItemI={\n      /*   productId,\n        name, */\n        ward,\n        destination,\n        instruction,\n        destinationId\n        //name of ward\n        //instruction\n        //date and time\n        //facility\n        /* costprice,\n        amount:quantity*costprice,\n        baseunit */\n\n    }\n    // consider batchformat{batchno,expirydate,qtty,baseunit}\n    //consider baseunoit conversions\n    const getSearchfacility=(obj)=>{\n\n        if (!obj){\n            //\"clear stuff\"\n            setInstruction(\"\")\n            setTest(\"\")\n           \n        }\n        //setInstruction(obj.instruction)\n        setWard(obj)\n       // setBaseunit(obj.baseunit)\n        \n       /*  setValue(\"facility\", obj._id,  {\n            shouldValidate: true,\n            shouldDirty: true\n        }) */\n    }\n    \n    useEffect(() => {\n        setCurrentUser(user)\n        //console.log(currentUser)\n        return () => {\n        \n        }\n    }, [user])\n   /*  useEffect(() => {\n        setProductItem(\n            prevProd=>prevProd.concat(productItemI)\n        )\n        console.log(productItem)\n        return () => {\n            \n        }\n    },[productItemI])\n */\n    useEffect(() => {\n        \n        setDestination(state.DestinationModule.selectedDestination.facilityName)\n        setDestinationId(state.DestinationModule.selectedDestination._id)\n        return () => {\n           \n        }\n    }, [state.DestinationModule.selectedDestination])\n\n    const handleChangeType=async (e)=>{\n        await setType(e.target.value)\n    }\n    const handleClickProd=async()=>{\n        await setSuccess(false)\n        if (!(productItemI.test && productItemI.test.length>0 )){\n            toast({\n                message: 'Test can not be empty ' ,\n                type: 'is-danger',\n                dismissible: true,\n                pauseOnHover: true,\n              })\n              return\n        }\n        await setProductItem(\n            prevProd=>prevProd.concat(productItemI)\n        )\n        setName(\"\")\n        setTest(\"\")\n        setInstruction(\"\")\n        setDestination( user.currentEmployee.facilityDetail.facilityName)\n        setDestinationId( user.currentEmployee.facilityDetail._id)\n       // setDestination(\"\")\n       await setSuccess(true)\n       console.log(success)\n       console.log(productItem)\n    }\n  //check user for facility or get list of facility  \n   /*  useEffect(()=>{\n        //setFacility(user.activeProductEntry.FacilityId)//\n      if (!user.stacker){\n          console.log(currentUser)\n           /* setValue(\"facility\", user.currentEmployee.facilityDetail._id,  {\n            shouldValidate: true,\n            shouldDirty: true\n        })  \n\n      }\n    }) */\n\n    const handleChangeDestination =()=>{\n        setDestinationModal(true)\n    }\n\n    const closeModal=async()=>{\n        const    newDocumentClassModule={\n            selectedEndEncounter:\"\",\n            show :''\n        }\n       await setState((prevstate)=>({...prevstate, EndEncounterModule:newDocumentClassModule}))\n    }\n\n    const resetform=()=>{\n     setType(\"Purchase Invoice\")\n    setDocumentNo(\"\")\n    setTotalamount(\"\")\n    setProductId(\"\")\n    setSource(\"\")\n    setDate(\"\")\n    setName(\"\")\n    setTest(\"\")\n    setInstruction(\"\")\n    setProductItem([])\n    }\n    const onSubmit = () =>{\n        //data,e\n       // e.preventDefault();\n        setMessage(\"\")\n        setError(false)\n        setSuccess(false)\n        //write document\n        let document={}\n         // data.createdby=user._id\n         // console.log(data);\n          if (user.currentEmployee){\n          document.facility=user.currentEmployee.facilityDetail._id \n          document.facilityname=user.currentEmployee.facilityDetail.facilityName // or from facility dropdown\n          }\n         document.documentdetail=productItemI\n         console.log(document.documentdetail)\n          document.documentname=\"Admission Order\" //state.DocumentClassModule.selectedDocumentClass.name\n         // document.documentClassId=state.DocumentClassModule.selectedDocumentClass._id\n         document.location=state.employeeLocation.locationName+\" \"+state.employeeLocation.locationType\n         document.locationId=state.employeeLocation.locationId\n          document.client=state.ClientModule.selectedClient._id\n          document.clientname=state.ClientModule.selectedClient.firstname+ \" \"+state.ClientModule.selectedClient.middlename+\" \"+state.ClientModule.selectedClient.lastname\n          document.clientobj=state.ClientModule.selectedClient\n          document.createdBy=user._id\n          document.createdByname=user.firstname+ \" \"+user.lastname\n          document.status=\"completed\"\n          console.log(document)\n        ClientServ.create(document)\n        .then((res)=>{\n                //console.log(JSON.stringify(res))\n               // e.target.reset();\n               /*  setMessage(\"Created Client successfully\") */\n                setSuccess(true)\n                toast({\n                    message: 'Presciption created succesfully',\n                    type: 'is-success',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n                  setSuccess(false)\n                  setProductItem([])\n                  closeModal()\n            })\n            .catch((err)=>{\n                toast({\n                    message: 'Error creating AdmitOrders ' + err,\n                    type: 'is-danger',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n            })\n\n      } \n\n    useEffect(() => {\n        setDestination( user.currentEmployee.facilityDetail.facilityName)\n        setDestinationId( user.currentEmployee.facilityDetail._id)\n        return () => {\n            \n        }\n    }, [])\n\n    return (\n        <>\n            <div className=\"card card-overflow\">\n            <div className=\"card-header\">\n                <p className=\"card-header-title\">\n                    Create Admit Orders\n                </p>\n            </div>\n            <div className=\"card-content \">\n   \n           {/*  <form onSubmit={onSubmit}> {/* handleSubmit(onSubmit)  </form>  */}\n           \n               \n           \n         {/* array of ProductEntry items */}\n        \n        <label className=\"label is-small\">Destination Ward</label>\n         <div className=\"field is-horizontal\">\n            <div className=\"field-body\">\n             <div className=\"field is-expanded\"  /* style={ !user.stacker?{display:\"none\"}:{}} */  > \n                    <WardHelperSearch  getSearchfacility={getSearchfacility} clear={success} />  \n                  <p className=\"control has-icons-left \" style={{display:\"none\"}}>\n                        <input className=\"input is-small\"  /* ref={register ({ required: true }) }   value={ward?.name} name=\"test\" type=\"text\" onChange={e=>setWard(e.target.value)} placeholder=\"test\"  */  />\n                        <span className=\"icon is-small is-left\">\n                        <i className=\"fas  fa-map-marker-alt\"></i>\n                        </span>\n                    </p> \n                </div>\n             \n            </div>\n         </div>\n         <div className=\"field is-horizontal\">\n            <div className=\"field-body\">\n       <div className=\"field\">\n                <p className=\"control \">\n                    <textarea class=\"textarea is-small\"  /* ref={register({ required: true })} */  name=\"instruction\" value={instruction} type=\"text\" onChange={e=>setInstruction(e.target.value)} placeholder=\"Instructions/Note\"  />\n                    \n                </p>\n       \n            </div>  \n             \n            </div> \n            </div> \n            <div className=\"field mt-2\">\n                <p className=\"control\">\n                    <button className=\"button is-success is-small\" /* disabled={!productItem.length>0} */ onClick={onSubmit}>\n                        Create\n                    </button>\n                </p>\n                </div>\n\n      \n            \n            \n            </div>\n            </div>\n           {/*  use for documentation instruction helper */}\n            <div className={`modal ${destinationModal?\"is-active\":\"\"}` }>\n                                    <div className=\"modal-background\"></div>\n                                    <div className=\"modal-card\">\n                                        <header className=\"modal-card-head\">\n                                        <p className=\"modal-card-title\">Choose Destination</p>\n                                        <button className=\"delete\" aria-label=\"close\"  onClick={handlecloseModal}></button>\n                                        </header>\n                                        <section className=\"modal-card-body\">\n                                            <FacilityPopup facilityType=\"Laboratory\"  closeModal={handlecloseModal}/>\n                                        {/* <StoreList standalone=\"true\" /> */}\n                                       {/*  <ProductCreate /> */}\n                                        </section>\n                                        {/* <footer className=\"modal-card-foot\">\n                                        <button className=\"button is-success\">Save changes</button>\n                                        <button className=\"button\">Cancel</button>\n                                        </footer> */}\n                                    </div>\n                                </div>       \n        </>\n    )\n   \n}\n\nexport function AdmitOrdersList({standalone}){\n   // const { register, handleSubmit, watch, errors } = useForm();\n    // eslint-disable-next-line\n    const [error, setError] =useState(false)\n     // eslint-disable-next-line\n    const [success, setSuccess] =useState(false)\n     // eslint-disable-next-line\n   const [message, setMessage] = useState(\"\") \n    const OrderServ=client.service('order')\n    //const history = useHistory()\n   // const {user,setUser} = useContext(UserContext)\n    const [facilities,setFacilities]=useState([])\n     // eslint-disable-next-line\n   const [selectedOrder, setSelectedOrder]=useState() //\n    // eslint-disable-next-line\n    const {state,setState}=useContext(ObjectContext)\n    // eslint-disable-next-line\n    const {user,setUser}=useContext(UserContext)\n\n\n\n    const handleCreateNew = async()=>{\n        const    newProductEntryModule={\n            selectedOrder:{},\n            show :'create'\n            }\n       await setState((prevstate)=>({...prevstate, OrderModule:newProductEntryModule}))\n       //console.log(state)\n        \n\n    }\n    const handleDelete=(doc)=>{\n        // console.log(doc)\n         let confirm = window.confirm(`You are about to delete a ${doc.order} lab order?`)\n         if (confirm){\n        OrderServ.remove(doc._id)\n         .then((res)=>{\n             toast({\n                 message: 'Lab order deleted succesfully',\n                 type: 'is-success',\n                 dismissible: true,\n                 pauseOnHover: true,\n               })\n               setSuccess(false)\n         })\n         .catch((err)=>{\n             toast({\n                 message: 'Error deleting Lab order' + err,\n                 type: 'is-danger',\n                 dismissible: true,\n                 pauseOnHover: true,\n               })\n         })\n      }\n     }\n    const handleRow= async(ProductEntry)=>{\n        //console.log(\"b4\",state)\n\n        //console.log(\"handlerow\",ProductEntry)\n\n        await setSelectedOrder(ProductEntry)\n\n        const    newProductEntryModule={\n            selectedOrder:ProductEntry,\n            show :'detail'\n        }\n       await setState((prevstate)=>({...prevstate, OrderModule:newProductEntryModule}))\n       //console.log(state)\n\n    }\n\n   const handleSearch=(val)=>{\n       const field='name'\n       console.log(val)\n       OrderServ.find({query: {\n              $or:[ { order: {\n                    $regex:val,\n                    $options:'i'\n                   \n                }},\n                {order_status: {\n                    $regex:val,\n                    $options:'i'\n                   \n                }}],\n                order_category:\"Admission Order\",\n                fulfilled:false,\n                destination: user.currentEmployee.facilityDetail._id,\n                order_status:\"Pending\",\n               // storeId:state.StoreModule.selectedStore._id,\n               //facility:user.currentEmployee.facilityDetail._id || \"\",\n                $limit:10,\n                $sort: {\n                    createdAt: -1\n                  }\n                    }}).then((res)=>{\n                console.log(res)\n               setFacilities(res.data)\n                setMessage(\" ProductEntry  fetched successfully\")\n                setSuccess(true) \n            })\n            .catch((err)=>{\n                console.log(err)\n                setMessage(\"Error fetching ProductEntry, probable network issues \"+ err )\n                setError(true)\n            })\n        }\n   \n const getFacilities= async()=>{\n       \n            console.log(\"here b4 server\")\n            console.log(state.ClientModule.selectedClient._id)\n             const findProductEntry= await OrderServ.find(\n                {query: {\n                    order_category:\"Admission Order\",\n                    //destination: user.currentEmployee.facilityDetail._id,\n                   \n                    //storeId:state.StoreModule.selectedStore._id,\n                    fulfilled:false,\n                    destination: user.currentEmployee.facilityDetail._id,\n                    order_status:\"Pending\",\n                    clientId:state.ClientModule.selectedClient._id,\n                    $limit:20,\n                    $sort: {\n                        createdAt: -1\n                    }\n                    }})\n         await setFacilities(findProductEntry.data)\n         }   \n\n            useEffect(() => {\n                console.log(\"started\")\n                getFacilities()\n              \n               \n               OrderServ.on('created', (obj)=>getFacilities())\n                OrderServ.on('updated', (obj)=>getFacilities())\n                OrderServ.on('patched', (obj)=>getFacilities())\n                OrderServ.on('removed', (obj)=>getFacilities())\n                return () => {\n                \n                }\n            },[])\n\n            \n    return(\n        \n            <>  \n                <div className=\"level\">\n                    <div className=\"level-left\">\n                        <div className=\"level-item\">\n                            <div className=\"field\">\n                                <p className=\"control has-icons-left  \">\n                                    <DebounceInput className=\"input is-small \" \n                                        type=\"text\" placeholder=\"Search tests\"\n                                        minLength={3}\n                                        debounceTimeout={400}\n                                        onChange={(e)=>handleSearch(e.target.value)} />\n                                    <span className=\"icon is-small is-left\">\n                                        <i className=\"fas fa-search\"></i>\n                                    </span>\n                                </p>\n                            </div>\n                        </div>\n                    </div>\n                   {!standalone && (<><div className=\"level-item\"> <span className=\"is-size-6 has-text-weight-medium\">List of Admission Orders </span></div>\n                    <div className=\"level-right\">\n                        <div className=\"level-item\"> \n                            <div className=\"level-item\"><div className=\"button is-success is-small\" onClick={handleCreateNew}>New</div></div>\n                        </div>\n                    </div></>)}\n\n                </div>\n                <div className=\"table-container pullup \">\n                                <table className=\"table is-striped is-narrow is-hoverable is-fullwidth is-scrollable \">\n                                    <thead>\n                                        <tr>\n                                        <th><abbr title=\"Serial No\">S/No</abbr></th>\n                                        <th><abbr title=\"Date\">Date</abbr></th>\n                                        <th><abbr title=\"Order\">Ward</abbr></th>\n                                        <th>Fulfilled</th>\n                                        <th><abbr title=\"Status\">Status</abbr></th>\n                                        <th><abbr title=\"Requesting Physician\">Requesting Physician</abbr></th>\n                                        {/* <th><abbr title=\"Client Name\">Client Name</abbr></th> */}\n                                        {!standalone &&     <th><abbr title=\"Actions\">Actions</abbr></th>}\n                                        </tr>\n                                    </thead>\n                                    <tfoot>\n                                        \n                                    </tfoot>\n                                    <tbody>\n                                        {facilities.map((ProductEntry, i)=>(\n\n                                            <tr key={ProductEntry._id} /* onClick={()=>handleRow(ProductEntry)} */ className={ProductEntry._id===(selectedOrder?._id||null)?\"is-selected\":\"\"}>\n                                            <th>{i+1}</th>\n                                            <td>{/* {formatDistanceToNowStrict(new Date(ProductEntry.createdAt),{addSuffix: true})} <br/> */}<span>{format(new Date(ProductEntry.createdAt),'dd-MM-yy')}</span></td>\n                                            <th>{ProductEntry.order}</th>\n                                            <td>{ProductEntry.fulfilled===\"True\"?\"Yes\":\"No\"}</td>\n                                            <td>{ProductEntry.order_status}</td>\n                                            <td>{ProductEntry.requestingdoctor_Name}</td>\n                                            {/* <td>{ProductEntry.clientId}</td> */}\n                                            {!standalone &&  <td>  <button className=\"button  sbut\" aria-label=\"more options\" onClick={()=>handleDelete (ProductEntry)}>\n                                                            <span>x</span>\n                                                        </button> {/* <span className=\"showAction\"  >...</span> */} </td>}\n                                           \n                                            </tr>\n\n                                        ))}\n                                    </tbody>\n                                    </table>\n                                    \n                </div>              \n            </>\n              \n    )\n    }\n\n\nexport function ProductEntryDetail(){\n    //const { register, handleSubmit, watch, setValue } = useForm(); //errors,\n     // eslint-disable-next-line\n    const [error, setError] =useState(false) //, \n    //const [success, setSuccess] =useState(false)\n     // eslint-disable-next-line\n    const [message, setMessage] = useState(\"\") //,\n    //const ProductEntryServ=client.service('/ProductEntry')\n    //const history = useHistory()\n    //const {user,setUser} = useContext(UserContext)\n    const {state,setState} = useContext(ObjectContext)\n\n   \n\n   const ProductEntry =state.ProductEntryModule.selectedProductEntry \n\n    const handleEdit= async()=>{\n        const    newProductEntryModule={\n            selectedProductEntry:ProductEntry,\n            show :'modify'\n        }\n       await setState((prevstate)=>({...prevstate, ProductEntryModule:newProductEntryModule}))\n       //console.log(state)\n       \n    }\n \n    return (\n        <>\n        <div className=\"card \">\n            <div className=\"card-header\">\n                <p className=\"card-header-title\">\n                    ProductEntry Details\n                </p>\n            </div>\n            <div className=\"card-content vscrollable\">\n           \n                <table> \n                <tbody>         \n                <tr>\n                    <td>\n                      <label className=\"label is-small\"> <span className=\"icon is-small is-left\">\n                            <i className=\"fas fa-hospital\"></i>\n                        </span>                    \n                        Type\n                        </label>\n                    </td>\n                    <td>\n                        <span className=\"is-size-7 padleft\"   name=\"name\"> {ProductEntry.type} </span>\n                    </td>\n                    <td>\n\n                    </td>\n                    <td>\n                        <label className=\"label is-small padleft\"><span className=\"icon is-small is-left\">\n                            <i className=\"fas fa-map-signs\"></i>\n                        </span>Supplier:\n                        </label>\n                    </td>\n                    <td>\n                        <span className=\"is-size-7 padleft\"   name=\"ProductEntryType\">{ProductEntry.source} </span> \n                    </td>\n                </tr>\n                <tr>\n                    <td>\n                        <label className=\"label is-small\"> <span className=\"icon is-small is-left\">\n                        <i className=\"fas fa-hospital\"></i>\n                        </span>                    \n                        Date:\n                        </label>\n                    </td>\n                    <td>\n                        <span className=\"is-size-7 padleft\"   name=\"name\"> {ProductEntry.date} </span>\n                    </td>\n                    <td>\n                                \n                    </td>\n                    <td>\n                        <label className=\"label is-small padleft\"><span className=\"icon is-small is-left\">\n                            <i className=\"fas fa-map-signs\"></i>\n                        </span>Invoice No:\n                        </label>\n                    </td>\n                    \n                    <td>\n                         <span className=\"is-size-7 padleft\"   name=\"ProductEntryType\">{ProductEntry.documentNo} </span> \n                    </td>\n                </tr>\n                <tr>\n                    <td>\n                \n                        <label className=\"label is-small\"> <span className=\"icon is-small is-left\">\n                        <i className=\"fas fa-hospital\"></i>\n                    </span>            \n                        Total Amount:\n                    </label>\n                    </td>\n                    <td>\n                        <span className=\"is-size-7 padleft\"   name=\"name\"> {ProductEntry.totalamount} </span>\n                    </td>\n                </tr>\n\n                </tbody> \n            </table> \n            <label className=\"label is-size-7 mt-2\">Product Items:</label>\n         <table className=\"table is-striped  is-hoverable is-fullwidth is-scrollable \">\n                <thead>\n                    <tr>\n                    <th><abbr title=\"Serial No\">S/No</abbr></th>\n                    <th><abbr title=\"Type\">Name</abbr></th>\n                    <th><abbr title=\"Type\">Quanitity</abbr></th>\n                    <th><abbr title=\"Document No\">Unit</abbr></th>\n                    <th><abbr title=\"Cost Price\">Cost Price</abbr></th>\n                    <th><abbr title=\"Cost Price\">Amount</abbr></th>\n                   \n                    </tr>\n                </thead>\n                <tfoot>\n                    \n                </tfoot>\n                <tbody>\n                   { ProductEntry.productitems.map((ProductEntry, i)=>(\n\n                        <tr key={i}>\n                        <th>{i+1}</th>\n                        <td>{ProductEntry.name}</td>\n                        <th>{ProductEntry.quantity}</th>\n                        <td>{ProductEntry.baseunit}</td>\n                        <td>{ProductEntry.costprice}</td>\n                        <td>{ProductEntry.amount}</td>\n                        \n                        \n                        </tr>\n\n                    ))}\n                </tbody>\n                </table>\n                  {/*   <tr>\n                    <td>\n            <label className=\"label is-small\"><span className=\"icon is-small is-left\">\n                    <i className=\"fas fa-map-marker-alt\"></i>\n                    </span>Profession: \n                \n                    \n                    </label>\n                    </td>\n                <td>\n                <span className=\"is-size-7 padleft \"  name=\"ProductEntryCity\">{ProductEntry.profession}</span> \n                </td>\n                </tr>\n                    <tr>\n            <td>\n            <label className=\"label is-small\"><span className=\"icon is-small is-left\">\n                    <i className=\"fas fa-phone-alt\"></i>\n                    </span>Phone:           \n                    \n                        </label>\n                        </td>\n                        <td>\n                        <span className=\"is-size-7 padleft \"  name=\"ProductEntryContactPhone\" >{ProductEntry.phone}</span>\n                        </td>\n                  </tr>\n                    <tr><td>\n            \n            <label className=\"label is-small\"><span className=\"icon is-small is-left\">\n                    <i className=\"fas fa-envelope\"></i>\n                    </span>Email:                     \n                    \n                         </label></td><td>\n                         <span className=\"is-size-7 padleft \"  name=\"ProductEntryEmail\" >{ProductEntry.email}</span>\n                         </td>\n             \n                </tr>\n                    <tr>\n            <td>\n            <label className=\"label is-small\"> <span className=\"icon is-small is-left\">\n                    <i className=\"fas fa-user-md\"></i></span>Department:\n                    \n                    </label></td>\n                    <td>\n                    <span className=\"is-size-7 padleft \"  name=\"ProductEntryOwner\">{ProductEntry.department}</span>\n                    </td>\n               \n                </tr>\n                    <tr>\n            <td>\n            <label className=\"label is-small\"> <span className=\"icon is-small is-left\">\n                    <i className=\"fas fa-hospital-symbol\"></i>\n                    </span>Departmental Unit:              \n                    \n                </label></td>\n                <td>\n                <span className=\"is-size-7 padleft \"  name=\"ProductEntryType\">{ProductEntry.deptunit}</span>\n                </td>\n              \n                </tr> */}\n                    \n          {/*   <div className=\"field\">\n             <label className=\"label is-small\"><span className=\"icon is-small is-left\">\n                    <i className=\"fas fa-clinic-medical\"></i>\n                    </span>Category:              \n                    <span className=\"is-size-7 padleft \"  name= \"ProductEntryCategory\">{ProductEntry.ProductEntryCategory}</span>\n                </label>\n                 </div> */}\n\n            \n           \n           {/*  <div className=\"field mt-2\">\n                <p className=\"control\">\n                    <button className=\"button is-success is-small\" onClick={handleEdit}>\n                        Edit\n                    </button>\n                </p>\n            </div>\n            { error && <div className=\"message\"> {message}</div>} */}\n           \n        </div>\n        </div>\n        </>\n    )\n   \n   \n}\n\nexport function ProductEntryModify(){\n    const { register, handleSubmit, setValue,reset, errors } = useForm(); //watch, errors,\n    // eslint-disable-next-line \n    const [error, setError] =useState(false)\n    // eslint-disable-next-line \n    const [success, setSuccess] =useState(false)\n    // eslint-disable-next-line \n    const [message,setMessage] = useState(\"\")\n    // eslint-disable-next-line \n    const ProductEntryServ=client.service('productentry')\n    //const history = useHistory()\n     // eslint-disable-next-line\n    const {user} = useContext(UserContext)\n    const {state,setState} = useContext(ObjectContext)\n\n    const ProductEntry =state.ProductEntryModule.selectedProductEntry \n\n        useEffect(() => {\n            setValue(\"name\", ProductEntry.name,  {\n                shouldValidate: true,\n                shouldDirty: true\n            })\n            setValue(\"ProductEntryType\", ProductEntry.ProductEntryType,  {\n                shouldValidate: true,\n                shouldDirty: true\n            })\n           /*  setValue(\"profession\", ProductEntry.profession,  {\n                shouldValidate: true,\n                shouldDirty: true\n            })\n            setValue(\"phone\", ProductEntry.phone,  {\n                shouldValidate: true,\n                shouldDirty: true\n            })\n            setValue(\"email\", ProductEntry.email,  {\n                shouldValidate: true,\n                shouldDirty: true\n            })\n            setValue(\"department\", ProductEntry.department,  {\n                shouldValidate: true,\n                shouldDirty: true\n            })\n            setValue(\"deptunit\", ProductEntry.deptunit,  {\n                shouldValidate: true,\n                shouldDirty: true\n            }) */\n          /*   setValue(\"ProductEntryCategory\", ProductEntry.ProductEntryCategory,  {\n                shouldValidate: true,\n                shouldDirty: true\n            }) */\n            \n            return () => {\n                \n            }\n        })\n\n   const handleCancel=async()=>{\n    const    newProductEntryModule={\n        selectedProductEntry:{},\n        show :'create'\n      }\n   await setState((prevstate)=>({...prevstate, ProductEntryModule:newProductEntryModule}))\n   //console.log(state)\n           }\n\n\n        const changeState =()=>{\n        const    newProductEntryModule={\n            selectedProductEntry:{},\n            show :'create'\n        }\n        setState((prevstate)=>({...prevstate, ProductEntryModule:newProductEntryModule}))\n\n        }\n    const handleDelete=async()=>{\n        let conf=window.confirm(\"Are you sure you want to delete this data?\")\n        \n        const dleteId=ProductEntry._id\n        if (conf){\n             \n        ProductEntryServ.remove(dleteId)\n        .then((res)=>{\n                //console.log(JSON.stringify(res))\n                reset();\n               /*  setMessage(\"Deleted ProductEntry successfully\")\n                setSuccess(true)\n                changeState()\n               setTimeout(() => {\n                setSuccess(false)\n                }, 200); */\n                toast({\n                    message: 'ProductEntry deleted succesfully',\n                    type: 'is-success',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n                changeState()\n            })\n            .catch((err)=>{\n               // setMessage(\"Error deleting ProductEntry, probable network issues \"+ err )\n               // setError(true)\n                toast({\n                    message: \"Error deleting ProductEntry, probable network issues or \"+ err,\n                    type: 'is-danger',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n            })\n        }\n    }\n        \n\n   /* ()=> setValue(\"firstName\", \"Bill\", , {\n            shouldValidate: true,\n            shouldDirty: true\n          })) */\n    const onSubmit = (data,e) =>{\n        e.preventDefault();\n        \n        setSuccess(false)\n        console.log(data)\n        data.facility=ProductEntry.facility\n          //console.log(data);\n          \n        ProductEntryServ.patch(ProductEntry._id,data)\n        .then((res)=>{\n                //console.log(JSON.stringify(res))\n               // e.target.reset();\n               // setMessage(\"updated ProductEntry successfully\")\n                 toast({\n                    message: 'ProductEntry updated succesfully',\n                    type: 'is-success',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n                  \n                changeState()\n\n            })\n            .catch((err)=>{\n                //setMessage(\"Error creating ProductEntry, probable network issues \"+ err )\n               // setError(true)\n                toast({\n                    message: \"Error updating ProductEntry, probable network issues or \"+ err,\n                    type: 'is-danger',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n            })\n\n      } \n     \n      \n    return (\n        \n        <>\n        <div className=\"card \">\n            <div className=\"card-header\">\n                <p className=\"card-header-title\">\n                    ProductEntry Details-Modify\n                </p>\n            </div>\n            <div className=\"card-content vscrollable\">\n           \n            <form onSubmit={handleSubmit(onSubmit)}>\n                <div className=\"field\">\n                    <label className=\"label is-small\"> Name\n                    <p className=\"control has-icons-left has-icons-right\">\n                        <input className=\"input  is-small\" ref={register({ required: true })}  name=\"name\" type=\"text\" placeholder=\"Name\" />\n                        <span className=\"icon is-small is-left\">\n                            <i className=\"fas fa-hospital\"></i>\n                        </span>                    \n                    </p>\n                    </label>\n                    </div>\n                <div className=\"field\">\n                <label className=\"label is-small\">ProductEntry Type\n                    <p className=\"control has-icons-left has-icons-right\">\n                    <input className=\"input is-small \" ref={register({ required: true })} disabled name=\"ProductEntryType\" type=\"text\" placeholder=\"ProductEntry Type\" />\n                    <span className=\"icon is-small is-left\">\n                        <i className=\"fas fa-map-signs\"></i>\n                    </span>\n                    \n                </p>\n                </label>\n                </div>\n            {/* <div className=\"field\">\n            <label className=\"label is-small\">Profession\n                <p className=\"control has-icons-left\">\n                    <input className=\"input is-small\" ref={register({ required: true })} name=\"profession\" type=\"text\" placeholder=\"Profession\"/>\n                    <span className=\"icon is-small is-left\">\n                    <i className=\"fas fa-map-marker-alt\"></i>\n                    </span>\n                </p>\n                </label>\n                </div>\n            <div className=\"field\">\n            <label className=\"label is-small\">Phone\n                <p className=\"control has-icons-left\">\n                    <input className=\"input is-small\" ref={register({ required: true })} name=\"phone\" type=\"text\" placeholder=\"Phone No\"/>\n                    <span className=\"icon is-small is-left\">\n                    <i className=\"fas fa-phone-alt\"></i>\n                    </span>\n                </p>\n                </label>\n                 </div>\n            <div className=\"field\">\n            <label className=\"label is-small\">Email\n                <p className=\"control has-icons-left\">\n                    <input className=\"input is-small\" ref={register({ required: true })} name=\"email\" type=\"email\" placeholder=\"ProductEntry Email\"/>\n                    <span className=\"icon is-small is-left\">\n                    <i className=\"fas fa-envelope\"></i>\n                    </span>\n                </p>\n                </label>\n                </div>\n            <div className=\"field\">\n            <label className=\"label is-small\">Department\n                <p className=\"control has-icons-left\">\n                    <input className=\"input is-small\" ref={register({ required: true })} name=\"department\" type=\"text\" placeholder=\"Department\"/>\n                    <span className=\"icon is-small is-left\">\n                    <i className=\"fas fa-user-md\"></i>\n                    </span>\n                </p>\n                </label>\n                {errors.department && <span>This field is required</span>}\n                </div>\n            <div className=\"field\">\n            <label className=\"label is-small\">Departmental Unit\n                <p className=\"control has-icons-left\">\n                    <input className=\"input is-small\" ref={register({ required: true })} name=\"deptunit\" type=\"text\" placeholder=\"Departmental Unit\"/>\n                    <span className=\"icon is-small is-left\">\n                    <i className=\"fas fa-hospital-symbol\"></i>\n                    </span>\n                </p>\n                </label>\n                </div> */}\n           {/*  <div className=\"field\">\n            <label className=\"label is-small\">Category\n                <p className=\"control has-icons-left\">\n                    <input className=\"input is-small\" ref={register({ required: true })} name=\"ProductEntryCategory\" type=\"text\" placeholder=\"ProductEntry Category\"/>\n                    <span className=\"icon is-small is-left\">\n                    <i className=\"fas fa-clinic-medical\"></i>\n                    </span>\n                </p>\n                </label>\n            </div> */}\n           \n           \n            </form>\n            \n            <div className=\"field  is-grouped mt-2\" >\n                <p className=\"control\">\n                    <button type=\"submit\" className=\"button is-success is-small\" onClick={handleSubmit(onSubmit)}>\n                        Save\n                    </button>\n                </p>\n                <p className=\"control\">\n                    <button className=\"button is-warning is-small\" onClick={handleCancel}>\n                        Cancel\n                    </button>\n                </p>\n                <p className=\"control\">\n                    <button className=\"button is-danger is-small\" onClick={()=>handleDelete()} type=\"delete\">\n                       Delete\n                    </button>\n                </p>\n            </div>\n        </div>\n        </div>\n        </>\n    )\n   \n   \n                \n}   \n\nexport  function WardHelperSearch({getSearchfacility,clear}) {\n    \n    const productServ=client.service('location')\n    const testServ2=client.service('labtest')\n    const [facilities,setFacilities]=useState([])\n    const {user,setUser}=useContext(UserContext)\n     // eslint-disable-next-lin\n     const [searchError, setSearchError] =useState(false)\n     // eslint-disable-next-line\n    const [showPanel, setShowPanel] =useState(false)\n     // eslint-disable-next-line\n   const [searchMessage, setSearchMessage] = useState(\"\") \n   // eslint-disable-next-line \n   const [simpa,setSimpa]=useState(\"\")\n   // eslint-disable-next-line \n   const [chosen,setChosen]=useState(false)\n   // eslint-disable-next-line \n   const [count,setCount]=useState(0)\n   const inputEl=useRef(null)\n   const [val,setVal]=useState(\"\")\n    const [productModal,setProductModal]=useState(false)\n   let value\n\n   const handleRow= async(obj)=>{\n        await setChosen(true)\n        //alert(\"something is chaning\")\n       getSearchfacility(obj)\n  \n       \n       await  setSimpa(obj.name)\n      \n        // setSelectedFacility(obj)\n        setShowPanel(false)\n        await setCount(2)\n        /* const    newfacilityModule={\n            selectedFacility:facility,\n            show :'detail'\n        }\n   await setState((prevstate)=>({...prevstate, facilityModule:newfacilityModule})) */\n   //console.log(state)\n}\n    const handleBlur=async(e)=>{\n         if (count===2){\n             console.log(\"stuff was chosen\")\n         }\n       \n       /*  console.log(\"blur\")\n         setShowPanel(false)\n        console.log(JSON.stringify(simpa))\n        if (simpa===\"\"){\n            console.log(facilities.length)\n            setSimpa(\"abc\")\n            setSimpa(\"\")\n            setFacilities([])\n            inputEl.current.setValue=\"\"\n        }\n        console.log(facilities.length)\n        console.log(inputEl.current) */\n    }\n    const handleSearch=async(value)=>{\n        setVal(value)\n        if (value===\"\"){\n            setShowPanel(false)\n            getSearchfacility(false)\n            return\n        }\n        const field='name' //field variable\n       \n        if (value.length>=3 ){\n            productServ.find({query: {     //service\n                $or:[ \n                {[field]: {\n                     $regex:value,\n                     $options:'i'\n                    \n                 }},\n                 {\n                     locationType:\"Ward\"\n                 }\n                ],\n                 facility:user.currentEmployee.facilityDetail._id,\n                 locationType:\"Ward\",\n                 $limit:10,\n                 $sort: {\n                     createdAt: -1\n                   }\n                     }}).then((res)=>{\n              console.log(\"product  fetched successfully\") \n              console.log(res) \n                    if(res.total>0){\n                        setFacilities(res.data)\n                        setSearchMessage(\" product  fetched successfully\")\n                        setShowPanel(true)\n                    }else{\n                        setShowPanel(false)\n                        getSearchfacility({\n                            test:value,\n                            instruction:\"\"\n                        })\n                    }\n               \n             })\n             .catch((err)=>{\n                toast({\n                    message: 'Error fetching test ' + err,\n                    type: 'is-danger',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n             })\n         }\n        else{\n            console.log(\"less than 3 \")\n            console.log(val)\n            setShowPanel(false)\n            await setFacilities([])\n            console.log(facilities)\n        }\n    }\n\n    const handleAddproduct =()=>{\n        setProductModal(true) \n    }\n    const handlecloseModal =()=>{\n       // setDestinationModal(false)\n        //handleSearch(val)\n    }\n    useEffect(() => {\n        setSimpa(value)\n        return () => {\n            \n        }\n    }, [simpa])\n    useEffect(() => {\n       if (clear){\n           console.log(\"success has changed\",clear)\n           setSimpa(\"\")\n       }\n        return () => {\n            \n        }\n    }, [clear] )\n    return (\n        <div>\n            <div className=\"field\">\n                <div className=\"control has-icons-left  \">\n                    <div className={`dropdown ${showPanel?\"is-active\":\"\"}`} style={{width:\"100%\"}}>\n                        <div className=\"dropdown-trigger\" style={{width:\"100%\"}}>\n                            <DebounceInput className=\"input is-small \" \n                                type=\"text\" placeholder=\"Search for Destination Ward\"\n                                value={simpa}\n                                minLength={3}\n                                debounceTimeout={400}\n                               /*  onBlur={(e)=>handleBlur(e)} */\n                                onChange={(e)=>handleSearch(e.target.value)}\n                                inputRef={inputEl}\n                                  />\n                            <span className=\"icon is-small is-left\">\n                                <i className=\"fas fa-search\"></i>\n                            </span>\n                        </div>\n                        {/* {searchError&&<div>{searchMessage}</div>} */}\n                        <div className=\"dropdown-menu\" style={{width:\"100%\"}} >\n                            <div className=\"dropdown-content\">\n                         {/*  { facilities.length>0?\"\":<div className=\"dropdown-item\" onClick={handleAddproduct}> <span>Add {val} to product list</span> </div>} */}\n\n                              {facilities.map((facility, i)=>(\n                                    \n                                    <div className=\"dropdown-item\" key={facility._id} onClick={()=>handleRow(facility)}>\n                                        \n                                        <span>{facility.name}</span> \n                                    </div>\n                                    \n                                    ))}\n                                    \n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n           \n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}