{"ast":null,"code":"import _objectSpread from\"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import _regeneratorRuntime from\"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/* eslint-disable */import React,{useState,useContext,useEffect}from'react';import client from'../../feathers';import{DebounceInput}from'react-debounce-input';import{useForm}from\"react-hook-form\";import{toast}from'bulma-toast';//import {useHistory} from 'react-router-dom'\nimport{UserContext,ObjectContext}from'../../context';import{FacilitySearch}from'../helpers/FacilitySearch';export default function OrganizationClient(){var _useContext=useContext(ObjectContext),state=_useContext.state;//,setState\n// eslint-disable-next-line\nvar _useState=useState(),_useState2=_slicedToArray(_useState,2),selectedFacility=_useState2[0],setSelectedFacility=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),success=_useState4[0],setSuccess=_useState4[1];//const [showState,setShowState]=useState() //create|modify|detail\n//console.log(\"Organization parent\", state)\nreturn/*#__PURE__*/_jsx(\"section\",{className:\"section remPadTop\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"columns \",children:[/*#__PURE__*/_jsx(\"div\",{className:\"column is-8 \",children:/*#__PURE__*/_jsx(OrganizationList,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"column is-4 \",children:[state.facilityModule.show==='detail'&&/*#__PURE__*/_jsx(OrganizationDetail,{}),state.facilityModule.show==='modify'&&/*#__PURE__*/_jsx(OrganizationModify,{facility:selectedFacility})]})]})});}export function OrganizationCreate(){var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit;//, watch, errors, reset \nvar _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),success=_useState8[0],setSuccess=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),message=_useState10[0],setMessage=_useState10[1];var facilityServ=client.service('facility');var orgServ=client.service('organizationclient');var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),chosen=_useState12[0],setChosen=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),band=_useState14[0],setBand=_useState14[1];var BandsServ=client.service('bands');var _useState15=useState([]),_useState16=_slicedToArray(_useState15,2),providerBand=_useState16[0],setProviderBand=_useState16[1];//const history = useHistory()\nvar _useContext2=useContext(UserContext),user=_useContext2.user;//,setUser\nvar handleChangeMode=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return setBand(e.target.value);case 2:case\"end\":return _context.stop();}}},_callee);}));return function handleChangeMode(_x){return _ref.apply(this,arguments);};}();/* const onSubmit = (data,e) =>{\n        e.preventDefault();\n        setMessage(\"\")\n        setError(false)\n        setSuccess(false)\n          data.createdby=user._id\n          //console.log(data);\n          \n        facilityServ.create(data)\n        .then((res)=>{\n                //console.log(JSON.stringify(res))\n                e.target.reset();\n                setMessage(\"Created Organization successfully\")\n                setSuccess(true)\n            })\n            .catch((err)=>{\n                setMessage(\"Error creating facility, probable network issues \"+ err )\n                setError(true)\n            })\n\n      }  */var getProviderBand=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var findServices;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!user.currentEmployee){_context2.next=6;break;}_context2.next=3;return BandsServ.find({query:{facility:user.currentEmployee.facilityDetail._id,bandType:user.currentEmployee.facilityDetail.facilityType===\"HMO\"?\"Provider\":\"Company\",// storeId:state.StoreModule.selectedStore._id,\n// $limit:20,\n//   paginate:false,\n$sort:{category:1}}});case 3:findServices=_context2.sent;_context2.next=6;return setProviderBand(findServices.data);case 6:case\"end\":return _context2.stop();}}},_callee2);}));return function getProviderBand(){return _ref2.apply(this,arguments);};}();var handleClick=function handleClick(){//check band selected\nif(band===\"\"){toast({message:'Band not selected, Please select band',type:'is-danger',dismissible:true,pauseOnHover:true});return;}console.log(chosen);var stuff={facility:user.currentEmployee.facilityDetail._id,organization:chosen._id,relationshiptype:\"managedcare\",band:band};orgServ.create(stuff).then(function(res){//console.log(JSON.stringify(res))\n// e.target.reset();\nsetSuccess(true);toast({message:'Organization added succesfully',type:'is-success',dismissible:true,pauseOnHover:true});setSuccess(false);setBand(\"\");}).catch(function(err){toast({message:'Error adding organization '+err,type:'is-danger',dismissible:true,pauseOnHover:true});});};useEffect(function(){// console.log(\"starting...\")\ngetProviderBand();return function(){};},[]);var getSearchfacility=function getSearchfacility(obj){setChosen(obj);/*  setCategoryName(obj.categoryname)\n        setChosen2(obj) */if(!obj){//\"clear stuff\"\n/*  setCategoryName(\"\")\n             setChosen2() */}};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"field is-horizontal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"field is-expanded\"/* style={ !user.stacker?{display:\"none\"}:{}} */,children:[/*#__PURE__*/_jsx(FacilitySearch,{getSearchfacility:getSearchfacility,clear:success}),/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left \",style:{display:\"none\"},children:[/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\"/* ref={register ({ required: true }) }  */ /* add array no */ /* value={facilityId} name=\"facilityId\" type=\"text\" onChange={e=>setFacilityId(e.target.value)} placeholder=\"Product Id\" */}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas  fa-map-marker-alt\"})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"div\",{className:\"select is-small \",children:/*#__PURE__*/_jsxs(\"select\",{name:\"bandType\",value:band,onChange:function onChange(e){return handleChangeMode(e);},className:\"selectadd\",children:[/*#__PURE__*/_jsxs(\"option\",{value:\"\",children:[user.currentEmployee.facilityDetail.facilityType===\"HMO\"?\"Choose Provider Band\":\"Choose Company Band\",\" \"]}),providerBand.map(function(option,i){return/*#__PURE__*/_jsxs(\"option\",{value:option.name,children:[\" \",option.name]},i);})]})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsx(\"p\",{className:\"control\",children:/*#__PURE__*/_jsx(\"button\",{className:\"button is-success is-small selectadd\",children:/*#__PURE__*/_jsx(\"span\",{className:\"is-small\",onClick:handleClick,children:\"Add\"})})})})]})})});}export function OrganizationList(){// const { register, handleSubmit, watch, errors } = useForm();\n// eslint-disable-next-line\nvar _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),error=_useState18[0],setError=_useState18[1];// eslint-disable-next-line\nvar _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),success=_useState20[0],setSuccess=_useState20[1];// eslint-disable-next-line\nvar _useState21=useState(\"\"),_useState22=_slicedToArray(_useState21,2),message=_useState22[0],setMessage=_useState22[1];var facilityServ=client.service('facility');var orgServ=client.service('organizationclient');//const history = useHistory()\n// const {user,setUser} = useContext(UserContext)\nvar _useState23=useState([]),_useState24=_slicedToArray(_useState23,2),facilities=_useState24[0],setFacilities=_useState24[1];// eslint-disable-next-line\nvar _useState25=useState(),_useState26=_slicedToArray(_useState25,2),selectedFacility=_useState26[0],setSelectedFacility=_useState26[1];//\n// eslint-disable-next-line\nvar _useContext3=useContext(ObjectContext),state=_useContext3.state,setState=_useContext3.setState;var _useContext4=useContext(UserContext),user=_useContext4.user;var handleCreateNew=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var newfacilityModule;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:newfacilityModule={selectedFacility:{},show:'create'};_context3.next=3;return setState(function(prevstate){return _objectSpread(_objectSpread({},prevstate),{},{facilityModule:newfacilityModule});});case 3:case\"end\":return _context3.stop();}}},_callee3);}));return function handleCreateNew(){return _ref3.apply(this,arguments);};}();var handleRow=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(facility){var newfacilityModule;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return setSelectedFacility(facility.organizationDetail);case 2:newfacilityModule={selectedFacility:facility,show:'detail'};_context4.next=5;return setState(function(prevstate){return _objectSpread(_objectSpread({},prevstate),{},{facilityModule:newfacilityModule});});case 5:case\"end\":return _context4.stop();}}},_callee4);}));return function handleRow(_x2){return _ref4.apply(this,arguments);};}();var handleSearch=function handleSearch(val){var field='facilityName';console.log(val);if(val.length>0){orgServ.find({query:{/* [field]: {\n                    $regex:val,\n                    $options:'i'\n                   \n                }, */facility:user.currentEmployee.facilityDetail._id,$search:val,$limit:10,$sort:{createdAt:-1}}}).then(function(res){console.log(res);setFacilities(res.data);setMessage(\" Organization  fetched successfully\");setSuccess(true);}).catch(function(err){console.log(err);setMessage(\"Error creating facility, probable network issues \"+err);setError(true);});}else{getFacilities();}};/*  if (val.length>2){\n                console.log(\"in\")\n               \n            }\n\n        }\n     */var getFacilities=function getFacilities(){orgServ.find({query:{facility:user.currentEmployee.facilityDetail._id,$limit:100,$sort:{createdAt:-1}}}).then(function(res){console.log(res);setFacilities(res.data);setMessage(\" Organization  fetched successfully\");setSuccess(true);}).catch(function(err){setMessage(\"Error creating facility, probable network issues \"+err);setError(true);});};useEffect(function(){getFacilities();orgServ.on('created',function(obj){return getFacilities();});orgServ.on('updated',function(obj){return getFacilities();});orgServ.on('patched',function(obj){return getFacilities();});orgServ.on('removed',function(obj){return getFacilities();});return function(){};},[]);//todo: pagination and vertical scroll bar\nreturn/*#__PURE__*/_jsxs(_Fragment,{children:[\"   \",/*#__PURE__*/_jsx(OrganizationCreate,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"level\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"level-left\",children:/*#__PURE__*/_jsx(\"div\",{className:\"level-item\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left  \",children:[/*#__PURE__*/_jsx(DebounceInput,{className:\"input is-small \",type:\"text\",placeholder:\"Search Facilities\",minLength:3,debounceTimeout:400,onChange:function onChange(e){return handleSearch(e.target.value);}}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-search\"})})]})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"level-item\",children:[\" \",/*#__PURE__*/_jsx(\"span\",{className:\"is-size-6 has-text-weight-medium\",children:\"List of Provider Organizations \"})]})]}),\" \",/*#__PURE__*/_jsx(\"div\",{className:\"table-container pullup \",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table is-striped is-narrow is-hoverable is-fullwidth is-scrollable \",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"abbr\",{title:\"S/No\",children:\"S/No\"})}),/*#__PURE__*/_jsx(\"th\",{children:\"Organization Name\"}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"abbr\",{title:\"Band\",children:\" Band\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"abbr\",{title:\"Address\",children:\" Address\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"abbr\",{title:\"City\",children:\"City\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"abbr\",{title:\"Phone\",children:\"Phone\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"abbr\",{title:\"Email\",children:\"Email\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"abbr\",{title:\"Type\",children:\"Type\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"abbr\",{title:\"Category\",children:\"Category\"})})]})}),/*#__PURE__*/_jsx(\"tfoot\",{}),/*#__PURE__*/_jsx(\"tbody\",{children:facilities.map(function(facility,i){var _facility$organizatio;return facility.hasOwnProperty('organizationDetail')&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"tr\",{onClick:function onClick(){return handleRow(facility);},className:((_facility$organizatio=facility.organizationDetail)===null||_facility$organizatio===void 0?void 0:_facility$organizatio._id)===((selectedFacility===null||selectedFacility===void 0?void 0:selectedFacility._id)||null)?\"is-selected\":\"\",children:[/*#__PURE__*/_jsx(\"th\",{children:i+1}),/*#__PURE__*/_jsx(\"th\",{children:facility.organizationDetail.facilityName}),/*#__PURE__*/_jsx(\"td\",{children:facility.band}),/*#__PURE__*/_jsx(\"td\",{children:facility.organizationDetail.facilityAddress}),/*#__PURE__*/_jsx(\"td\",{children:facility.organizationDetail.facilityCity}),/*#__PURE__*/_jsx(\"td\",{children:facility.organizationDetail.facilityContactPhone}),/*#__PURE__*/_jsx(\"td\",{children:facility.organizationDetail.facilityEmail}),/*#__PURE__*/_jsx(\"td\",{children:facility.organizationDetail.facilityType}),/*#__PURE__*/_jsx(\"td\",{children:facility.organizationDetail.facilityCategory})]},i)});})})]})})]});}export function OrganizationDetail(){//const { register, handleSubmit, watch, setValue } = useForm(); //errors,\n// eslint-disable-next-line\nvar _useState27=useState(false),_useState28=_slicedToArray(_useState27,2),error=_useState28[0],setError=_useState28[1];//, \n//const [success, setSuccess] =useState(false)\n// eslint-disable-next-line\nvar _useState29=useState(\"\"),_useState30=_slicedToArray(_useState29,2),message=_useState30[0],setMessage=_useState30[1];//,\n//const facilityServ=client.service('/facility')\n//const history = useHistory()\nvar _useContext5=useContext(UserContext),user=_useContext5.user,setUser=_useContext5.setUser;var _useContext6=useContext(ObjectContext),state=_useContext6.state,setState=_useContext6.setState;var facility=state.facilityModule.selectedFacility;var handleEdit=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){var newfacilityModule;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:newfacilityModule={selectedFacility:facility,show:'modify'};_context5.next=3;return setState(function(prevstate){return _objectSpread(_objectSpread({},prevstate),{},{facilityModule:newfacilityModule});});case 3:case\"end\":return _context5.stop();}}},_callee5);}));return function handleEdit(){return _ref5.apply(this,arguments);};}();var closeForm=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(){var newfacilityModule;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:newfacilityModule={selectedFacility:facility,show:'create'};_context6.next=3;return setState(function(prevstate){return _objectSpread(_objectSpread({},prevstate),{},{facilityModule:newfacilityModule});});case 3:console.log(\"close form\");case 4:case\"end\":return _context6.stop();}}},_callee6);}));return function closeForm(){return _ref6.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"card \",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"card-header-title\",children:\"Organization Details\"}),/*#__PURE__*/_jsx(\"button\",{className:\"delete pushleft\",\"aria-label\":\"close\",onClick:function onClick(){return closeForm();}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card-content vscrollable\",children:/*#__PURE__*/_jsxs(\"fieldset\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"field \",children:/*#__PURE__*/_jsxs(\"label\",{className:\"label is-small\",children:[\" \",/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-hospital\"})}),\"Name: \",/*#__PURE__*/_jsxs(\"span\",{className:\"is-small \",children:[\" \",facility.organizationDetail.facilityName,\" \"]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"label is-small\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-map-signs\"})}),\"Address:\",/*#__PURE__*/_jsxs(\"span\",{className:\"is-small \",children:[facility.organizationDetail.facilityAddress,\" \"]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"label is-small\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-map-marker-alt\"})}),\"City:\",/*#__PURE__*/_jsx(\"span\",{className:\"is-small \",children:facility.organizationDetail.facilityCity})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"label is-small\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-phone-alt\"})}),\"Phone:\",/*#__PURE__*/_jsx(\"span\",{className:\"is-small \",children:facility.organizationDetail.facilityContactPhone})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"label is-small\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-envelope\"})}),\"Email:                     \",/*#__PURE__*/_jsx(\"span\",{className:\"is-small \",children:facility.organizationDetail.facilityEmail})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"label is-small\",children:[\" \",/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-user-md\"})}),\"CEO:\",/*#__PURE__*/_jsx(\"span\",{className:\"is-small \",children:facility.organizationDetail.facilityOwner})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"label is-small\",children:[\" \",/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-hospital-symbol\"})}),\"Type:\",/*#__PURE__*/_jsx(\"span\",{className:\"is-small \",children:facility.organizationDetail.facilityType})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"label is-small\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-clinic-medical\"})}),\"Category:\",/*#__PURE__*/_jsx(\"span\",{className:\"is-small \",children:facility.organizationDetail.facilityCategory})]})}),user.stacker&&/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsx(\"p\",{className:\"control\",children:/*#__PURE__*/_jsx(\"button\",{className:\"button is-success is-small\",onClick:handleEdit,children:\"Edit\"})})}),error&&/*#__PURE__*/_jsxs(\"div\",{className:\"message\",children:[\" \",message]})]})})]})});}export function OrganizationModify(){var _useForm2=useForm(),register=_useForm2.register,handleSubmit=_useForm2.handleSubmit,setValue=_useForm2.setValue,reset=_useForm2.reset;//watch, errors,\nvar _useState31=useState(false),_useState32=_slicedToArray(_useState31,2),error=_useState32[0],setError=_useState32[1];var _useState33=useState(false),_useState34=_slicedToArray(_useState33,2),success=_useState34[0],setSuccess=_useState34[1];var _useState35=useState(\"\"),_useState36=_slicedToArray(_useState35,2),message=_useState36[0],setMessage=_useState36[1];var facilityServ=client.service('/facility');//const history = useHistory()\n// eslint-disable-next-line\nvar _useContext7=useContext(UserContext),user=_useContext7.user;var _useContext8=useContext(ObjectContext),state=_useContext8.state,setState=_useContext8.setState;var facility=state.facilityModule.selectedFacility;useEffect(function(){setValue(\"facilityName\",facility.facilityName,{shouldValidate:true,shouldDirty:true});setValue(\"facilityAddress\",facility.facilityAddress,{shouldValidate:true,shouldDirty:true});setValue(\"facilityCity\",facility.facilityCity,{shouldValidate:true,shouldDirty:true});setValue(\"facilityContactPhone\",facility.facilityContactPhone,{shouldValidate:true,shouldDirty:true});setValue(\"facilityEmail\",facility.facilityEmail,{shouldValidate:true,shouldDirty:true});setValue(\"facilityOwner\",facility.facilityOwner,{shouldValidate:true,shouldDirty:true});setValue(\"facilityType\",facility.facilityType,{shouldValidate:true,shouldDirty:true});setValue(\"facilityCategory\",facility.facilityCategory,{shouldValidate:true,shouldDirty:true});return function(){};});var handleCancel=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(){var newfacilityModule;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:newfacilityModule={selectedFacility:{},show:'create'};_context7.next=3;return setState(function(prevstate){return _objectSpread(_objectSpread({},prevstate),{},{facilityModule:newfacilityModule});});case 3:case\"end\":return _context7.stop();}}},_callee7);}));return function handleCancel(){return _ref7.apply(this,arguments);};}();var changeState=function changeState(){var newfacilityModule={selectedFacility:{},show:'create'};setState(function(prevstate){return _objectSpread(_objectSpread({},prevstate),{},{facilityModule:newfacilityModule});});};var handleDelete=/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(){var conf,dleteId;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:conf=window.confirm(\"Are you sure you want to delete this data?\");dleteId=facility._id;if(conf){facilityServ.remove(dleteId).then(function(res){//console.log(JSON.stringify(res))\nreset();setMessage(\"Deleted Organization successfully\");setSuccess(true);changeState();setTimeout(function(){setSuccess(false);},200);changeState();}).catch(function(err){setMessage(\"Error deleting facility, probable network issues \"+err);setError(true);setTimeout(function(){setError(false);},200);});}case 3:case\"end\":return _context8.stop();}}},_callee8);}));return function handleDelete(){return _ref8.apply(this,arguments);};}();/* ()=> setValue(\"firstName\", \"Bill\", , {\n            shouldValidate: true,\n            shouldDirty: true\n          })) */var onSubmit=function onSubmit(data,e){e.preventDefault();setMessage(\"\");setError(false);setSuccess(false);console.log(data);//data.createdby=user._id\n//console.log(data);\nfacilityServ.update(facility._id,data).then(function(res){//console.log(JSON.stringify(res))\n// e.target.reset();\nsetMessage(\"updated Organization successfully\");setSuccess(true);changeState();}).catch(function(err){setMessage(\"Error creating facility, probable network issues \"+err);setError(true);});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"card \",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"p\",{className:\"card-header-title\",children:\"Organization Details\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-content vscrollable\",children:[success&&/*#__PURE__*/_jsxs(\"div\",{className:\"message\",children:[\" \",message]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"label is-small\",children:[\"Name\",/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left has-icons-right\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input  is-small\",ref:register({required:true}),name:\"facilityName\",type:\"text\",placeholder:\"Name of Facility\"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-hospital\"})})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"label is-small\",children:[\"Address\",/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left has-icons-right\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register({required:true}),name:\"facilityAddress\",type:\"text\",placeholder:\"Address of Facility\"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-map-signs\"})})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"label is-small\",children:[\"City\",/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register({required:true}),name:\"facilityCity\",type:\"text\",placeholder:\"City/Town\"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-map-marker-alt\"})})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"label is-small\",children:[\"Phone\",/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register({required:true}),name:\"facilityContactPhone\",type:\"text\",placeholder:\"Contact Phone No\"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-phone-alt\"})})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"label is-small\",children:[\"Email\",/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register({required:true}),name:\"facilityEmail\",type:\"email\",placeholder:\"Organization Email\"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-envelope\"})})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"label is-small\",children:[\"CEO\",/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register({required:true}),name:\"facilityOwner\",type:\"text\",placeholder:\"Organization Owner\"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-user-md\"})})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"label is-small\",children:[\"Type\",/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register({required:true}),name:\"facilityType\",type:\"text\",placeholder:\"Organization Type\"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-hospital-symbol\"})})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"label is-small\",children:[\"Category\",/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register({required:true}),name:\"facilityCategory\",type:\"text\",placeholder:\"Organization Category\"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-clinic-medical\"})})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"field  is-grouped\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"control\",children:/*#__PURE__*/_jsx(\"button\",{className:\"button is-success is-small\",children:\"Save\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"control\",children:/*#__PURE__*/_jsx(\"button\",{className:\"button is-warning is-small\",onClick:handleCancel,children:\"Cancel\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"control\",children:/*#__PURE__*/_jsx(\"button\",{className:\"button is-danger is-small\",onClick:handleDelete,children:\"Delete\"})})]}),error&&/*#__PURE__*/_jsxs(\"div\",{className:\"message\",children:[\" \",message]})]})]})]})});}","map":{"version":3,"sources":["/home/mfybaby/Documents/HealthStack2/HS-frontend/src/components/ManagedCare/Providers.js"],"names":["React","useState","useContext","useEffect","client","DebounceInput","useForm","toast","UserContext","ObjectContext","FacilitySearch","OrganizationClient","state","selectedFacility","setSelectedFacility","success","setSuccess","facilityModule","show","OrganizationCreate","register","handleSubmit","error","setError","message","setMessage","facilityServ","service","orgServ","chosen","setChosen","band","setBand","BandsServ","providerBand","setProviderBand","user","handleChangeMode","e","target","value","getProviderBand","currentEmployee","find","query","facility","facilityDetail","_id","bandType","facilityType","$sort","category","findServices","data","handleClick","type","dismissible","pauseOnHover","console","log","stuff","organization","relationshiptype","create","then","res","catch","err","getSearchfacility","obj","display","map","option","i","name","OrganizationList","facilities","setFacilities","setState","handleCreateNew","newfacilityModule","prevstate","handleRow","organizationDetail","handleSearch","val","field","length","$search","$limit","createdAt","getFacilities","on","hasOwnProperty","facilityName","facilityAddress","facilityCity","facilityContactPhone","facilityEmail","facilityCategory","OrganizationDetail","setUser","handleEdit","closeForm","facilityOwner","stacker","OrganizationModify","setValue","reset","shouldValidate","shouldDirty","handleCancel","changeState","handleDelete","conf","window","confirm","dleteId","remove","setTimeout","onSubmit","preventDefault","update","required"],"mappings":"qyBAAA,oBACA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAwBC,UAAxB,CAAoCC,SAApC,KAAoD,OAApD,CACA,MAAOC,CAAAA,MAAP,KAAmB,gBAAnB,CACA,OAAQC,aAAR,KAA4B,sBAA5B,CACA,OAASC,OAAT,KAAwB,iBAAxB,CACA,OAAQC,KAAR,KAAoB,aAApB,CACA;AACA,OAAQC,WAAR,CAAoBC,aAApB,KAAwC,eAAxC,CACA,OAAQC,cAAR,KAA6B,2BAA7B,CAGA,cAAe,SAASC,CAAAA,kBAAT,EAA8B,iBAC3BT,UAAU,CAACO,aAAD,CADiB,CAClCG,KADkC,aAClCA,KADkC,CACD;AACxC;AAFyC,cAGIX,QAAQ,EAHZ,wCAGlCY,gBAHkC,eAGjBC,mBAHiB,8BAIZb,QAAQ,CAAC,KAAD,CAJI,yCAIlCc,OAJkC,eAIzBC,UAJyB,eAMzC;AAEA;AAGA,mBACI,gBAAS,SAAS,CAAE,mBAApB,uBAII,aAAK,SAAS,CAAC,UAAf,wBACA,YAAK,SAAS,CAAC,cAAf,uBACI,KAAC,gBAAD,IADJ,EADA,cAIA,aAAK,SAAS,CAAC,cAAf,WAEMJ,KAAK,CAACK,cAAN,CAAqBC,IAArB,GAA6B,QAA9B,eAAyC,KAAC,kBAAD,IAF9C,CAGMN,KAAK,CAACK,cAAN,CAAqBC,IAArB,GAA6B,QAA9B,eAAyC,KAAC,kBAAD,EAAoB,QAAQ,CAAEL,gBAA9B,EAH9C,GAJA,GAJJ,EADJ,CAqBH,CAED,MAAO,SAASM,CAAAA,kBAAT,EAA6B,cACEb,OAAO,EADT,CACxBc,QADwB,UACxBA,QADwB,CACdC,YADc,UACdA,YADc,CACa;AADb,eAEPpB,QAAQ,CAAC,KAAD,CAFD,yCAEzBqB,KAFyB,eAElBC,QAFkB,8BAGHtB,QAAQ,CAAC,KAAD,CAHL,yCAGzBc,OAHyB,eAGhBC,UAHgB,8BAIHf,QAAQ,CAAC,EAAD,CAJL,0CAIzBuB,OAJyB,gBAIjBC,UAJiB,gBAKhC,GAAMC,CAAAA,YAAY,CAACtB,MAAM,CAACuB,OAAP,CAAe,UAAf,CAAnB,CACA,GAAMC,CAAAA,OAAO,CAACxB,MAAM,CAACuB,OAAP,CAAe,oBAAf,CAAd,CANgC,gBAOL1B,QAAQ,CAAC,EAAD,CAPH,2CAOzB4B,MAPyB,gBAOjBC,SAPiB,gCAQV7B,QAAQ,CAAC,EAAD,CARE,2CAQzB8B,IARyB,gBAQnBC,OARmB,gBAShC,GAAMC,CAAAA,SAAS,CAAC7B,MAAM,CAACuB,OAAP,CAAe,OAAf,CAAhB,CATgC,gBAUO1B,QAAQ,CAAC,EAAD,CAVf,2CAUzBiC,YAVyB,gBAUZC,eAVY,gBAWhC;AAXgC,iBAYjBjC,UAAU,CAACM,WAAD,CAZO,CAYzB4B,IAZyB,cAYzBA,IAZyB,CAYO;AAGxC,GAAMC,CAAAA,gBAAgB,0FAAG,iBAAMC,CAAN,wIACdN,CAAAA,OAAO,CAACM,CAAC,CAACC,MAAF,CAASC,KAAV,CADO,uDAAH,kBAAhBH,CAAAA,gBAAgB,4CAAtB,CAGC;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WACM,GAAMI,CAAAA,eAAe,2FAAG,6JAClBL,IAAI,CAACM,eADa,iDAGQT,CAAAA,SAAS,CAACU,IAAV,CAClB,CAACC,KAAK,CAAE,CACJC,QAAQ,CAAET,IAAI,CAACM,eAAL,CAAqBI,cAArB,CAAoCC,GAD1C,CAEJC,QAAQ,CAAEZ,IAAI,CAACM,eAAL,CAAqBI,cAArB,CAAoCG,YAApC,GAAmD,KAApD,CAA2D,UAA3D,CAAsE,SAF3E,CAIL;AACA;AACH;AACIC,KAAK,CAAE,CACHC,QAAQ,CAAE,CADP,CAPH,CAAR,CADkB,CAHR,QAGZC,YAHY,uCAgBXjB,CAAAA,eAAe,CAACiB,YAAY,CAACC,IAAd,CAhBJ,yDAAH,kBAAfZ,CAAAA,eAAe,2CAArB,CAsBA,GAAMa,CAAAA,WAAW,CAAC,QAAZA,CAAAA,WAAY,EAAI,CAClB;AACA,GAAIvB,IAAI,GAAG,EAAX,CAAc,CACZxB,KAAK,CAAC,CACFiB,OAAO,CAAE,uCADP,CAEF+B,IAAI,CAAE,WAFJ,CAGFC,WAAW,CAAE,IAHX,CAIFC,YAAY,CAAE,IAJZ,CAAD,CAAL,CAMA,OACD,CAEHC,OAAO,CAACC,GAAR,CAAY9B,MAAZ,EACA,GAAI+B,CAAAA,KAAK,CAAC,CACNf,QAAQ,CAACT,IAAI,CAACM,eAAL,CAAqBI,cAArB,CAAoCC,GADvC,CAENc,YAAY,CAAChC,MAAM,CAACkB,GAFd,CAGNe,gBAAgB,CAAC,aAHX,CAIN/B,IAAI,CAAJA,IAJM,CAAV,CAMAH,OAAO,CAACmC,MAAR,CAAeH,KAAf,EACCI,IADD,CACM,SAACC,GAAD,CAAO,CACL;AACD;AACAjD,UAAU,CAAC,IAAD,CAAV,CACCT,KAAK,CAAC,CACFiB,OAAO,CAAE,gCADP,CAEF+B,IAAI,CAAE,YAFJ,CAGFC,WAAW,CAAE,IAHX,CAIFC,YAAY,CAAE,IAJZ,CAAD,CAAL,CAMEzC,UAAU,CAAC,KAAD,CAAV,CACAgB,OAAO,CAAC,EAAD,CAAP,CACL,CAbL,EAcKkC,KAdL,CAcW,SAACC,GAAD,CAAO,CACV5D,KAAK,CAAC,CACFiB,OAAO,CAAE,6BAA+B2C,GADtC,CAEFZ,IAAI,CAAE,WAFJ,CAGFC,WAAW,CAAE,IAHX,CAIFC,YAAY,CAAE,IAJZ,CAAD,CAAL,CAMH,CArBL,EAuBD,CA1CD,CA4CAtD,SAAS,CAAC,UAAM,CACd;AACEsC,eAAe,GAChB,MAAO,WAAM,CAEZ,CAFD,CAGA,CANM,CAMJ,EANI,CAAT,CAOA,GAAM2B,CAAAA,iBAAiB,CAAC,QAAlBA,CAAAA,iBAAkB,CAACC,GAAD,CAAO,CAC3BvC,SAAS,CAACuC,GAAD,CAAT,CAEH;AACP,0BAES,GAAI,CAACA,GAAL,CAAS,CACL;AACD;AACZ,4BAEU,CACJ,CAZA,CAcF,mBACI,sCAEE,YAAK,SAAS,CAAC,qBAAf,uBACG,aAAK,SAAS,CAAC,YAAf,wBACG,aAAK,SAAS,CAAC,mBAAqB,gDAApC,wBACQ,KAAC,cAAD,EAAiB,iBAAiB,CAAED,iBAApC,CAAuD,KAAK,CAAErD,OAA9D,EADR,cAEQ,WAAG,SAAS,CAAC,yBAAb,CAAuC,KAAK,CAAE,CAACuD,OAAO,CAAC,MAAT,CAA9C,wBACI,cAAO,SAAS,CAAC,gBAAiB,2CAAlC,CAA6E,kBAA7E,CAAiG,2HAAjG,EADJ,cAEI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,wBAAb,EADA,EAFJ,GAFR,GADH,cAUO,YAAK,SAAS,CAAC,OAAf,uBACI,YAAK,SAAS,CAAC,SAAf,uBACI,YAAK,SAAS,CAAC,kBAAf,uBACI,gBAAQ,IAAI,CAAC,UAAb,CAAwB,KAAK,CAAEvC,IAA/B,CAAqC,QAAQ,CAAE,kBAACO,CAAD,QAAKD,CAAAA,gBAAgB,CAACC,CAAD,CAArB,EAA/C,CAAyE,SAAS,CAAC,WAAnF,wBACA,gBAAQ,KAAK,CAAC,EAAd,WAAmBF,IAAI,CAACM,eAAL,CAAqBI,cAArB,CAAoCG,YAApC,GAAmD,KAApD,CAA2D,sBAA3D,CAAkF,qBAApG,OADA,CAECf,YAAY,CAACqC,GAAb,CAAiB,SAACC,MAAD,CAAQC,CAAR,qBACd,gBAAgB,KAAK,CAAED,MAAM,CAACE,IAA9B,eAAsCF,MAAM,CAACE,IAA7C,GAAaD,CAAb,CADc,EAAjB,CAFD,GADJ,EADJ,EADJ,EAVP,cAsBO,YAAK,SAAS,CAAC,OAAf,uBACI,UAAG,SAAS,CAAC,SAAb,uBACQ,eAAQ,SAAS,CAAC,sCAAlB,uBACA,aAAM,SAAS,CAAC,UAAhB,CAA2B,OAAO,CAAEnB,WAApC,iBADA,EADR,EADJ,EAtBP,GADH,EAFF,EADJ,CAuCH,CAED,MAAO,SAASqB,CAAAA,gBAAT,EAA2B,CAC/B;AACC;AAF8B,gBAGL1E,QAAQ,CAAC,KAAD,CAHH,2CAGvBqB,KAHuB,gBAGhBC,QAHgB,gBAI7B;AAJ6B,gBAKDtB,QAAQ,CAAC,KAAD,CALP,2CAKvBc,OALuB,gBAKdC,UALc,gBAM7B;AAN6B,gBAODf,QAAQ,CAAC,EAAD,CAPP,2CAOxBuB,OAPwB,gBAOfC,UAPe,gBAQ9B,GAAMC,CAAAA,YAAY,CAACtB,MAAM,CAACuB,OAAP,CAAe,UAAf,CAAnB,CACA,GAAMC,CAAAA,OAAO,CAACxB,MAAM,CAACuB,OAAP,CAAe,oBAAf,CAAd,CACA;AACD;AAX+B,gBAYG1B,QAAQ,CAAC,EAAD,CAZX,2CAYvB2E,UAZuB,gBAYZC,aAZY,gBAa7B;AAb6B,gBAce5E,QAAQ,EAdvB,2CAcxBY,gBAdwB,gBAcNC,mBAdM,gBAc0B;AACxD;AAf8B,iBAgBPZ,UAAU,CAACO,aAAD,CAhBH,CAgBvBG,KAhBuB,cAgBvBA,KAhBuB,CAgBjBkE,QAhBiB,cAgBjBA,QAhBiB,kBAiBf5E,UAAU,CAACM,WAAD,CAjBK,CAiBvB4B,IAjBuB,cAiBvBA,IAjBuB,CAqB9B,GAAM2C,CAAAA,eAAe,2FAAG,8JACXC,iBADW,CACO,CACvBnE,gBAAgB,CAAC,EADM,CAEvBK,IAAI,CAAE,QAFiB,CADP,wBAKf4D,CAAAA,QAAQ,CAAC,SAACG,SAAD,wCAAkBA,SAAlB,MAA6BhE,cAAc,CAAC+D,iBAA5C,IAAD,CALO,yDAAH,kBAAfD,CAAAA,eAAe,2CAArB,CAUA,GAAMG,CAAAA,SAAS,2FAAE,kBAAMrC,QAAN,mKAKP/B,CAAAA,mBAAmB,CAAC+B,QAAQ,CAACsC,kBAAV,CALZ,QAOJH,iBAPI,CAOc,CACvBnE,gBAAgB,CAACgC,QADM,CAEvB3B,IAAI,CAAE,QAFiB,CAPd,wBAWR4D,CAAAA,QAAQ,CAAC,SAACG,SAAD,wCAAkBA,SAAlB,MAA6BhE,cAAc,CAAC+D,iBAA5C,IAAD,CAXA,yDAAF,kBAATE,CAAAA,SAAS,8CAAf,CAgBD,GAAME,CAAAA,YAAY,CAAC,QAAbA,CAAAA,YAAa,CAACC,GAAD,CAAO,CACtB,GAAMC,CAAAA,KAAK,CAAC,cAAZ,CACA5B,OAAO,CAACC,GAAR,CAAY0B,GAAZ,EACA,GAAIA,GAAG,CAACE,MAAJ,CAAY,CAAhB,CAAkB,CAClB3D,OAAO,CAACe,IAAR,CAAa,CAACC,KAAK,CAAE,CACZ;AAChB;AACA;AACA;AACA,qBACgBC,QAAQ,CAACT,IAAI,CAACM,eAAL,CAAqBI,cAArB,CAAoCC,GANjC,CAOZyC,OAAO,CAACH,GAPI,CAQZI,MAAM,CAAC,EARK,CASZvC,KAAK,CAAE,CACHwC,SAAS,CAAE,CAAC,CADT,CATK,CAAR,CAAb,EAYiB1B,IAZjB,CAYsB,SAACC,GAAD,CAAO,CACpBP,OAAO,CAACC,GAAR,CAAYM,GAAZ,EACDY,aAAa,CAACZ,GAAG,CAACZ,IAAL,CAAb,CACC5B,UAAU,CAAC,qCAAD,CAAV,CACAT,UAAU,CAAC,IAAD,CAAV,CACH,CAjBN,EAkBMkD,KAlBN,CAkBY,SAACC,GAAD,CAAO,CACVT,OAAO,CAACC,GAAR,CAAYQ,GAAZ,EACA1C,UAAU,CAAC,oDAAqD0C,GAAtD,CAAV,CACA5C,QAAQ,CAAC,IAAD,CAAR,CACH,CAtBN,EAuBE,CAxBF,IAwBM,CACDoE,aAAa,GAChB,CACA,CA9BN,CAgCQ;AACX;AACA;AACA;AACA;AACA;AACA,OACQ,GAAMA,CAAAA,aAAa,CAAC,QAAdA,CAAAA,aAAc,EAAI,CACpB/D,OAAO,CAACe,IAAR,CAAa,CAACC,KAAK,CAAE,CACjBC,QAAQ,CAACT,IAAI,CAACM,eAAL,CAAqBI,cAArB,CAAoCC,GAD5B,CAEjB0C,MAAM,CAAC,GAFU,CAGjBvC,KAAK,CAAE,CACHwC,SAAS,CAAE,CAAC,CADT,CAHU,CAAR,CAAb,EAOC1B,IAPD,CAOM,SAACC,GAAD,CAAO,CACTP,OAAO,CAACC,GAAR,CAAYM,GAAZ,EACIY,aAAa,CAACZ,GAAG,CAACZ,IAAL,CAAb,CACA5B,UAAU,CAAC,qCAAD,CAAV,CACAT,UAAU,CAAC,IAAD,CAAV,CACH,CAZL,EAaKkD,KAbL,CAaW,SAACC,GAAD,CAAO,CACV1C,UAAU,CAAC,oDAAqD0C,GAAtD,CAAV,CACA5C,QAAQ,CAAC,IAAD,CAAR,CACH,CAhBL,EAkBH,CAnBD,CAqBJpB,SAAS,CAAC,UAAM,CACZwF,aAAa,GAEb/D,OAAO,CAACgE,EAAR,CAAW,SAAX,CAAsB,SAACvB,GAAD,QAAOsB,CAAAA,aAAa,EAApB,EAAtB,EACA/D,OAAO,CAACgE,EAAR,CAAW,SAAX,CAAsB,SAACvB,GAAD,QAAOsB,CAAAA,aAAa,EAApB,EAAtB,EACA/D,OAAO,CAACgE,EAAR,CAAW,SAAX,CAAsB,SAACvB,GAAD,QAAOsB,CAAAA,aAAa,EAApB,EAAtB,EACA/D,OAAO,CAACgE,EAAR,CAAW,SAAX,CAAsB,SAACvB,GAAD,QAAOsB,CAAAA,aAAa,EAApB,EAAtB,EACA,MAAO,WAAM,CAEZ,CAFD,CAGH,CAVQ,CAUP,EAVO,CAAT,CAYA;AAEA,mBACQ,8CAAK,KAAC,kBAAD,IAAL,cACI,aAAK,SAAS,CAAC,OAAf,wBACI,YAAK,SAAS,CAAC,YAAf,uBACI,YAAK,SAAS,CAAC,YAAf,uBACI,YAAK,SAAS,CAAC,OAAf,uBACI,WAAG,SAAS,CAAC,0BAAb,wBACI,KAAC,aAAD,EAAe,SAAS,CAAC,iBAAzB,CACI,IAAI,CAAC,MADT,CACgB,WAAW,CAAC,mBAD5B,CAEI,SAAS,CAAE,CAFf,CAGI,eAAe,CAAE,GAHrB,CAII,QAAQ,CAAE,kBAACrD,CAAD,QAAK8C,CAAAA,YAAY,CAAC9C,CAAC,CAACC,MAAF,CAASC,KAAV,CAAjB,EAJd,EADJ,cAMI,aAAM,SAAS,CAAC,uBAAhB,uBACI,UAAG,SAAS,CAAC,eAAb,EADJ,EANJ,GADJ,EADJ,EADJ,EADJ,cAiBI,aAAK,SAAS,CAAC,YAAf,4BAA6B,aAAM,SAAS,CAAC,kCAAhB,6CAA7B,GAjBJ,GADJ,kBA0B+B,YAAK,SAAS,CAAC,yBAAf,uBACX,eAAO,SAAS,CAAC,qEAAjB,wBACI,oCACI,mCACA,iCAAI,aAAM,KAAK,CAAC,MAAZ,kBAAJ,EADA,cAEA,yCAFA,cAGA,iCAAI,aAAM,KAAK,CAAC,MAAZ,mBAAJ,EAHA,cAIA,iCAAI,aAAM,KAAK,CAAC,SAAZ,sBAAJ,EAJA,cAKA,iCAAI,aAAM,KAAK,CAAC,MAAZ,kBAAJ,EALA,cAMA,iCAAI,aAAM,KAAK,CAAC,OAAZ,mBAAJ,EANA,cAOA,iCAAI,aAAM,KAAK,CAAC,OAAZ,mBAAJ,EAPA,cAQA,iCAAI,aAAM,KAAK,CAAC,MAAZ,kBAAJ,EARA,cASA,iCAAI,aAAM,KAAK,CAAC,UAAZ,sBAAJ,EATA,GADJ,EADJ,cAeI,gBAfJ,cAkBI,uBACKoC,UAAU,CAACL,GAAX,CAAe,SAAC1B,QAAD,CAAW4B,CAAX,kCACZ5B,CAAAA,QAAQ,CAACgD,cAAT,CAAwB,oBAAxB,gBACA,sCACA,YAAY,OAAO,CAAE,yBAAIX,CAAAA,SAAS,CAACrC,QAAD,CAAb,EAArB,CAA8C,SAAS,CAAE,wBAAAA,QAAQ,CAACsC,kBAAT,sEAA6BpC,GAA7B,KAAoC,CAAAlC,gBAAgB,OAAhB,EAAAA,gBAAgB,SAAhB,QAAAA,gBAAgB,CAAEkC,GAAlB,GAAuB,IAA3D,EAAiE,aAAjE,CAA+E,EAAxI,wBACA,oBAAK0B,CAAC,CAAC,CAAP,EADA,cAEA,oBAAK5B,QAAQ,CAACsC,kBAAT,CAA4BW,YAAjC,EAFA,cAGA,oBAAKjD,QAAQ,CAACd,IAAd,EAHA,cAIA,oBAAKc,QAAQ,CAACsC,kBAAT,CAA4BY,eAAjC,EAJA,cAKA,oBAAKlD,QAAQ,CAACsC,kBAAT,CAA4Ba,YAAjC,EALA,cAMA,oBAAKnD,QAAQ,CAACsC,kBAAT,CAA4Bc,oBAAjC,EANA,cAOA,oBAAKpD,QAAQ,CAACsC,kBAAT,CAA4Be,aAAjC,EAPA,cAQA,oBAAKrD,QAAQ,CAACsC,kBAAT,CAA4BlC,YAAjC,EARA,cASA,oBAAKJ,QAAQ,CAACsC,kBAAT,CAA4BgB,gBAAjC,EATA,GAAS1B,CAAT,CADA,EAFY,EAAf,CADL,EAlBJ,GADW,EA1B/B,GADR,CA0EH,CAED,MAAO,SAAS2B,CAAAA,kBAAT,EAA6B,CAChC;AACC;AAF+B,gBAGPnG,QAAQ,CAAC,KAAD,CAHD,2CAGzBqB,KAHyB,gBAGlBC,QAHkB,gBAGS;AACzC;AACC;AAL+B,gBAMFtB,QAAQ,CAAC,EAAD,CANN,2CAMzBuB,OANyB,gBAMhBC,UANgB,gBAMW;AAC3C;AACA;AARgC,iBASTvB,UAAU,CAACM,WAAD,CATD,CASzB4B,IATyB,cASzBA,IATyB,CASpBiE,OAToB,cASpBA,OAToB,kBAUPnG,UAAU,CAACO,aAAD,CAVH,CAUzBG,KAVyB,cAUzBA,KAVyB,CAUnBkE,QAVmB,cAUnBA,QAVmB,CAcjC,GAAMjC,CAAAA,QAAQ,CAACjC,KAAK,CAACK,cAAN,CAAqBJ,gBAApC,CAEC,GAAMyF,CAAAA,UAAU,2FAAE,8JACLtB,iBADK,CACa,CACvBnE,gBAAgB,CAACgC,QADM,CAEvB3B,IAAI,CAAE,QAFiB,CADb,wBAKT4D,CAAAA,QAAQ,CAAC,SAACG,SAAD,wCAAkBA,SAAlB,MAA6BhE,cAAc,CAAC+D,iBAA5C,IAAD,CALC,yDAAF,kBAAVsB,CAAAA,UAAU,2CAAhB,CASA,GAAMC,CAAAA,SAAS,2FAAC,8JAEHvB,iBAFG,CAEe,CACvBnE,gBAAgB,CAACgC,QADM,CAEvB3B,IAAI,CAAE,QAFiB,CAFf,wBAMP4D,CAAAA,QAAQ,CAAC,SAACG,SAAD,wCAAkBA,SAAlB,MAA6BhE,cAAc,CAAC+D,iBAA5C,IAAD,CAND,QAOZtB,OAAO,CAACC,GAAR,CAAY,YAAZ,EAPY,wDAAD,kBAAT4C,CAAAA,SAAS,2CAAf,CAUA,mBACI,sCACA,aAAK,SAAS,CAAC,OAAf,wBACI,aAAK,SAAS,CAAC,aAAf,wBACI,UAAG,SAAS,CAAC,mBAAb,kCADJ,cAII,eAAQ,SAAS,CAAC,iBAAlB,CAAoC,aAAW,OAA/C,CAAwD,OAAO,CAAE,yBAAIA,CAAAA,SAAS,EAAb,EAAjE,EAJJ,GADJ,cAOI,YAAK,SAAS,CAAC,0BAAf,uBAEA,yCACI,YAAK,SAAS,CAAC,QAAf,uBACI,eAAO,SAAS,CAAC,gBAAjB,4BAAmC,aAAM,SAAS,CAAC,uBAAhB,uBAC3B,UAAG,SAAS,CAAC,iBAAb,EAD2B,EAAnC,uBAGU,cAAM,SAAS,CAAC,WAAhB,eAAiC1D,QAAQ,CAACsC,kBAAT,CAA4BW,YAA7D,OAHV,GADJ,EADJ,cAWI,YAAK,SAAS,CAAC,OAAf,uBACA,eAAO,SAAS,CAAC,gBAAjB,wBAAkC,aAAM,SAAS,CAAC,uBAAhB,uBAC1B,UAAG,SAAS,CAAC,kBAAb,EAD0B,EAAlC,yBAII,cAAM,SAAS,CAAC,WAAhB,WAA+BjD,QAAQ,CAACsC,kBAAT,CAA4BY,eAA3D,OAJJ,GADA,EAXJ,cAmBA,YAAK,SAAS,CAAC,OAAf,uBACA,eAAO,SAAS,CAAC,gBAAjB,wBAAkC,aAAM,SAAS,CAAC,uBAAhB,uBAC1B,UAAG,SAAS,CAAC,uBAAb,EAD0B,EAAlC,sBAIQ,aAAM,SAAS,CAAC,WAAhB,UAA+BlD,QAAQ,CAACsC,kBAAT,CAA4Ba,YAA3D,EAJR,GADA,EAnBA,cA2BA,YAAK,SAAS,CAAC,OAAf,uBACA,eAAO,SAAS,CAAC,gBAAjB,wBAAkC,aAAM,SAAS,CAAC,uBAAhB,uBAC1B,UAAG,SAAS,CAAC,kBAAb,EAD0B,EAAlC,uBAGQ,aAAM,SAAS,CAAC,WAAhB,UAA8BnD,QAAQ,CAACsC,kBAAT,CAA4Bc,oBAA1D,EAHR,GADA,EA3BA,cAqCA,YAAK,SAAS,CAAC,OAAf,uBACA,eAAO,SAAS,CAAC,gBAAjB,wBAAkC,aAAM,SAAS,CAAC,uBAAhB,uBAC1B,UAAG,SAAS,CAAC,iBAAb,EAD0B,EAAlC,4CAE0C,aAAM,SAAS,CAAC,WAAhB,UAAgCpD,QAAQ,CAACsC,kBAAT,CAA4Be,aAA5D,EAF1C,GADA,EArCA,cA8CA,YAAK,SAAS,CAAC,OAAf,uBACA,eAAO,SAAS,CAAC,gBAAjB,4BAAmC,aAAM,SAAS,CAAC,uBAAhB,uBAC3B,UAAG,SAAS,CAAC,gBAAb,EAD2B,EAAnC,qBAEQ,aAAM,SAAS,CAAC,WAAhB,UAA+BrD,QAAQ,CAACsC,kBAAT,CAA4BqB,aAA3D,EAFR,GADA,EA9CA,cAoDA,YAAK,SAAS,CAAC,OAAf,uBACA,eAAO,SAAS,CAAC,gBAAjB,4BAAmC,aAAM,SAAS,CAAC,uBAAhB,uBAC3B,UAAG,SAAS,CAAC,wBAAb,EAD2B,EAAnC,sBAGQ,aAAM,SAAS,CAAC,WAAhB,UAA+B3D,QAAQ,CAACsC,kBAAT,CAA4BlC,YAA3D,EAHR,GADA,EApDA,cA4DA,YAAK,SAAS,CAAC,OAAf,uBACC,eAAO,SAAS,CAAC,gBAAjB,wBAAkC,aAAM,SAAS,CAAC,uBAAhB,uBAC3B,UAAG,SAAS,CAAC,uBAAb,EAD2B,EAAlC,0BAGO,aAAM,SAAS,CAAC,WAAhB,UAA+BJ,QAAQ,CAACsC,kBAAT,CAA4BgB,gBAA3D,EAHP,GADD,EA5DA,CAqED/D,IAAI,CAACqE,OAAL,eAAkB,YAAK,SAAS,CAAC,OAAf,uBACb,UAAG,SAAS,CAAC,SAAb,uBACI,eAAQ,SAAS,CAAC,4BAAlB,CAA+C,OAAO,CAAEH,UAAxD,kBADJ,EADa,EArEjB,CA4EEhF,KAAK,eAAI,aAAK,SAAS,CAAC,SAAf,eAA2BE,OAA3B,GA5EX,GAFA,EAPJ,GADA,EADJ,CA+FH,CAED,MAAO,SAASkF,CAAAA,kBAAT,EAA6B,eACmBpG,OAAO,EAD1B,CACxBc,QADwB,WACxBA,QADwB,CACdC,YADc,WACdA,YADc,CACAsF,QADA,WACAA,QADA,CACSC,KADT,WACSA,KADT,CAC8B;AAD9B,gBAEP3G,QAAQ,CAAC,KAAD,CAFD,2CAEzBqB,KAFyB,gBAElBC,QAFkB,gCAGHtB,QAAQ,CAAC,KAAD,CAHL,2CAGzBc,OAHyB,gBAGhBC,UAHgB,gCAIHf,QAAQ,CAAC,EAAD,CAJL,2CAIzBuB,OAJyB,gBAIjBC,UAJiB,gBAKhC,GAAMC,CAAAA,YAAY,CAACtB,MAAM,CAACuB,OAAP,CAAe,WAAf,CAAnB,CACA;AACC;AAP+B,iBAQjBzB,UAAU,CAACM,WAAD,CARO,CAQzB4B,IARyB,cAQzBA,IARyB,kBASPlC,UAAU,CAACO,aAAD,CATH,CASzBG,KATyB,cASzBA,KATyB,CASnBkE,QATmB,cASnBA,QATmB,CAWhC,GAAMjC,CAAAA,QAAQ,CAACjC,KAAK,CAACK,cAAN,CAAqBJ,gBAApC,CAEIV,SAAS,CAAC,UAAM,CACZwG,QAAQ,CAAC,cAAD,CAAiB9D,QAAQ,CAACiD,YAA1B,CAAyC,CAC7Ce,cAAc,CAAE,IAD6B,CAE7CC,WAAW,CAAE,IAFgC,CAAzC,CAAR,CAIAH,QAAQ,CAAC,iBAAD,CAAoB9D,QAAQ,CAACkD,eAA7B,CAA+C,CACnDc,cAAc,CAAE,IADmC,CAEnDC,WAAW,CAAE,IAFsC,CAA/C,CAAR,CAIAH,QAAQ,CAAC,cAAD,CAAiB9D,QAAQ,CAACmD,YAA1B,CAAyC,CAC7Ca,cAAc,CAAE,IAD6B,CAE7CC,WAAW,CAAE,IAFgC,CAAzC,CAAR,CAIAH,QAAQ,CAAC,sBAAD,CAAyB9D,QAAQ,CAACoD,oBAAlC,CAAyD,CAC7DY,cAAc,CAAE,IAD6C,CAE7DC,WAAW,CAAE,IAFgD,CAAzD,CAAR,CAIAH,QAAQ,CAAC,eAAD,CAAkB9D,QAAQ,CAACqD,aAA3B,CAA2C,CAC/CW,cAAc,CAAE,IAD+B,CAE/CC,WAAW,CAAE,IAFkC,CAA3C,CAAR,CAIAH,QAAQ,CAAC,eAAD,CAAkB9D,QAAQ,CAAC2D,aAA3B,CAA2C,CAC/CK,cAAc,CAAE,IAD+B,CAE/CC,WAAW,CAAE,IAFkC,CAA3C,CAAR,CAIAH,QAAQ,CAAC,cAAD,CAAiB9D,QAAQ,CAACI,YAA1B,CAAyC,CAC7C4D,cAAc,CAAE,IAD6B,CAE7CC,WAAW,CAAE,IAFgC,CAAzC,CAAR,CAIAH,QAAQ,CAAC,kBAAD,CAAqB9D,QAAQ,CAACsD,gBAA9B,CAAiD,CACrDU,cAAc,CAAE,IADqC,CAErDC,WAAW,CAAE,IAFwC,CAAjD,CAAR,CAKA,MAAO,WAAM,CAEZ,CAFD,CAGH,CArCQ,CAAT,CAuCL,GAAMC,CAAAA,YAAY,2FAAC,8JACT/B,iBADS,CACS,CACvBnE,gBAAgB,CAAC,EADM,CAEvBK,IAAI,CAAE,QAFiB,CADT,wBAKb4D,CAAAA,QAAQ,CAAC,SAACG,SAAD,wCAAkBA,SAAlB,MAA6BhE,cAAc,CAAC+D,iBAA5C,IAAD,CALK,yDAAD,kBAAZ+B,CAAAA,YAAY,2CAAlB,CAUK,GAAMC,CAAAA,WAAW,CAAE,QAAbA,CAAAA,WAAa,EAAI,CACvB,GAAShC,CAAAA,iBAAiB,CAAC,CACvBnE,gBAAgB,CAAC,EADM,CAEvBK,IAAI,CAAE,QAFiB,CAA3B,CAIA4D,QAAQ,CAAC,SAACG,SAAD,wCAAkBA,SAAlB,MAA6BhE,cAAc,CAAC+D,iBAA5C,IAAD,CAAR,CAEC,CAPD,CAQJ,GAAMiC,CAAAA,YAAY,2FAAC,yJACXC,IADW,CACNC,MAAM,CAACC,OAAP,CAAe,4CAAf,CADM,CAGTC,OAHS,CAGDxE,QAAQ,CAACE,GAHR,CAIf,GAAImE,IAAJ,CAAS,CAETxF,YAAY,CAAC4F,MAAb,CAAoBD,OAApB,EACCrD,IADD,CACM,SAACC,GAAD,CAAO,CACL;AACA2C,KAAK,GACLnF,UAAU,CAAC,mCAAD,CAAV,CACAT,UAAU,CAAC,IAAD,CAAV,CACAgG,WAAW,GACZO,UAAU,CAAC,UAAM,CAChBvG,UAAU,CAAC,KAAD,CAAV,CACC,CAFQ,CAEN,GAFM,CAAV,CAGCgG,WAAW,GACd,CAXL,EAYK9C,KAZL,CAYW,SAACC,GAAD,CAAO,CACV1C,UAAU,CAAC,oDAAqD0C,GAAtD,CAAV,CACA5C,QAAQ,CAAC,IAAD,CAAR,CACAgG,UAAU,CAAC,UAAM,CACbhG,QAAQ,CAAC,KAAD,CAAR,CACH,CAFS,CAEP,GAFO,CAAV,CAGH,CAlBL,EAmBC,CAzBc,wDAAD,kBAAZ0F,CAAAA,YAAY,2CAAlB,CA6BD;AACH;AACA;AACA,gBACI,GAAMO,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACnE,IAAD,CAAMf,CAAN,CAAW,CACxBA,CAAC,CAACmF,cAAF,GACAhG,UAAU,CAAC,EAAD,CAAV,CACAF,QAAQ,CAAC,KAAD,CAAR,CACAP,UAAU,CAAC,KAAD,CAAV,CACA0C,OAAO,CAACC,GAAR,CAAYN,IAAZ,EACE;AACA;AAEF3B,YAAY,CAACgG,MAAb,CAAoB7E,QAAQ,CAACE,GAA7B,CAAiCM,IAAjC,EACCW,IADD,CACM,SAACC,GAAD,CAAO,CACL;AACD;AACCxC,UAAU,CAAC,mCAAD,CAAV,CACAT,UAAU,CAAC,IAAD,CAAV,CACAgG,WAAW,GAEd,CARL,EASK9C,KATL,CASW,SAACC,GAAD,CAAO,CACV1C,UAAU,CAAC,oDAAqD0C,GAAtD,CAAV,CACA5C,QAAQ,CAAC,IAAD,CAAR,CACH,CAZL,EAcD,CAvBH,CA0BA,mBAEI,sCACA,aAAK,SAAS,CAAC,OAAf,wBACI,YAAK,SAAS,CAAC,aAAf,uBACI,UAAG,SAAS,CAAC,mBAAb,kCADJ,EADJ,cAMI,aAAK,SAAS,CAAC,0BAAf,WACER,OAAO,eAAI,aAAK,SAAS,CAAC,SAAf,eAA2BS,OAA3B,GADb,cAEA,cAAM,QAAQ,CAAEH,YAAY,CAACmG,QAAD,CAA5B,wBACI,YAAK,SAAS,CAAC,OAAf,uBACI,eAAO,SAAS,CAAC,gBAAjB,+BACA,WAAG,SAAS,CAAC,wCAAb,wBACI,cAAO,SAAS,CAAC,iBAAjB,CAAmC,GAAG,CAAEpG,QAAQ,CAAC,CAAEuG,QAAQ,CAAE,IAAZ,CAAD,CAAhD,CAAuE,IAAI,CAAC,cAA5E,CAA2F,IAAI,CAAC,MAAhG,CAAuG,WAAW,CAAC,kBAAnH,EADJ,cAEI,aAAM,SAAS,CAAC,uBAAhB,uBACI,UAAG,SAAS,CAAC,iBAAb,EADJ,EAFJ,GADA,GADJ,EADJ,cAWI,YAAK,SAAS,CAAC,OAAf,uBACA,eAAO,SAAS,CAAC,gBAAjB,kCACI,WAAG,SAAS,CAAC,wCAAb,wBACA,cAAO,SAAS,CAAC,gBAAjB,CAAkC,GAAG,CAAEvG,QAAQ,CAAC,CAAEuG,QAAQ,CAAE,IAAZ,CAAD,CAA/C,CAAsE,IAAI,CAAC,iBAA3E,CAA6F,IAAI,CAAC,MAAlG,CAAyG,WAAW,CAAC,qBAArH,EADA,cAEA,aAAM,SAAS,CAAC,uBAAhB,uBACI,UAAG,SAAS,CAAC,kBAAb,EADJ,EAFA,GADJ,GADA,EAXJ,cAsBA,YAAK,SAAS,CAAC,OAAf,uBACA,eAAO,SAAS,CAAC,gBAAjB,+BACI,WAAG,SAAS,CAAC,wBAAb,wBACI,cAAO,SAAS,CAAC,gBAAjB,CAAkC,GAAG,CAAEvG,QAAQ,CAAC,CAAEuG,QAAQ,CAAE,IAAZ,CAAD,CAA/C,CAAqE,IAAI,CAAC,cAA1E,CAAyF,IAAI,CAAC,MAA9F,CAAqG,WAAW,CAAC,WAAjH,EADJ,cAEI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,uBAAb,EADA,EAFJ,GADJ,GADA,EAtBA,cAgCA,YAAK,SAAS,CAAC,OAAf,uBACA,eAAO,SAAS,CAAC,gBAAjB,gCACI,WAAG,SAAS,CAAC,wBAAb,wBACI,cAAO,SAAS,CAAC,gBAAjB,CAAkC,GAAG,CAAEvG,QAAQ,CAAC,CAAEuG,QAAQ,CAAE,IAAZ,CAAD,CAA/C,CAAqE,IAAI,CAAC,sBAA1E,CAAiG,IAAI,CAAC,MAAtG,CAA6G,WAAW,CAAC,kBAAzH,EADJ,cAEI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,kBAAb,EADA,EAFJ,GADJ,GADA,EAhCA,cA0CA,YAAK,SAAS,CAAC,OAAf,uBACA,eAAO,SAAS,CAAC,gBAAjB,gCACI,WAAG,SAAS,CAAC,wBAAb,wBACI,cAAO,SAAS,CAAC,gBAAjB,CAAkC,GAAG,CAAEvG,QAAQ,CAAC,CAAEuG,QAAQ,CAAE,IAAZ,CAAD,CAA/C,CAAqE,IAAI,CAAC,eAA1E,CAA0F,IAAI,CAAC,OAA/F,CAAuG,WAAW,CAAC,oBAAnH,EADJ,cAEI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,iBAAb,EADA,EAFJ,GADJ,GADA,EA1CA,cAoDA,YAAK,SAAS,CAAC,OAAf,uBACA,eAAO,SAAS,CAAC,gBAAjB,8BACI,WAAG,SAAS,CAAC,wBAAb,wBACI,cAAO,SAAS,CAAC,gBAAjB,CAAkC,GAAG,CAAEvG,QAAQ,CAAC,CAAEuG,QAAQ,CAAE,IAAZ,CAAD,CAA/C,CAAqE,IAAI,CAAC,eAA1E,CAA0F,IAAI,CAAC,MAA/F,CAAsG,WAAW,CAAC,oBAAlH,EADJ,cAEI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,gBAAb,EADA,EAFJ,GADJ,GADA,EApDA,cA8DA,YAAK,SAAS,CAAC,OAAf,uBACA,eAAO,SAAS,CAAC,gBAAjB,+BACI,WAAG,SAAS,CAAC,wBAAb,wBACI,cAAO,SAAS,CAAC,gBAAjB,CAAkC,GAAG,CAAEvG,QAAQ,CAAC,CAAEuG,QAAQ,CAAE,IAAZ,CAAD,CAA/C,CAAqE,IAAI,CAAC,cAA1E,CAAyF,IAAI,CAAC,MAA9F,CAAqG,WAAW,CAAC,mBAAjH,EADJ,cAEI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,wBAAb,EADA,EAFJ,GADJ,GADA,EA9DA,cAwEA,YAAK,SAAS,CAAC,OAAf,uBACA,eAAO,SAAS,CAAC,gBAAjB,mCACI,WAAG,SAAS,CAAC,wBAAb,wBACI,cAAO,SAAS,CAAC,gBAAjB,CAAkC,GAAG,CAAEvG,QAAQ,CAAC,CAAEuG,QAAQ,CAAE,IAAZ,CAAD,CAA/C,CAAqE,IAAI,CAAC,kBAA1E,CAA6F,IAAI,CAAC,MAAlG,CAAyG,WAAW,CAAC,uBAArH,EADJ,cAEI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,uBAAb,EADA,EAFJ,GADJ,GADA,EAxEA,cAkFA,aAAK,SAAS,CAAC,mBAAf,wBACI,UAAG,SAAS,CAAC,SAAb,uBACI,eAAQ,SAAS,CAAC,4BAAlB,kBADJ,EADJ,cAMI,UAAG,SAAS,CAAC,SAAb,uBACI,eAAQ,SAAS,CAAC,4BAAlB,CAA+C,OAAO,CAAEZ,YAAxD,oBADJ,EANJ,cAWI,UAAG,SAAS,CAAC,SAAb,uBACI,eAAQ,SAAS,CAAC,2BAAlB,CAA8C,OAAO,CAAEE,YAAvD,oBADJ,EAXJ,GAlFA,CAmGE3F,KAAK,eAAI,aAAK,SAAS,CAAC,SAAf,eAA2BE,OAA3B,GAnGX,GAFA,GANJ,GADA,EAFJ,CAuHH","sourcesContent":["/* eslint-disable */\nimport React, {useState,useContext, useEffect} from 'react'\nimport client from '../../feathers'\nimport {DebounceInput} from 'react-debounce-input';\nimport { useForm } from \"react-hook-form\";\nimport {toast} from 'bulma-toast'\n//import {useHistory} from 'react-router-dom'\nimport {UserContext,ObjectContext} from '../../context'\nimport {FacilitySearch} from '../helpers/FacilitySearch'\n\n\nexport default function OrganizationClient() {\n    const {state}=useContext(ObjectContext) //,setState\n    // eslint-disable-next-line\n    const [selectedFacility,setSelectedFacility]=useState()\n    const [success, setSuccess] =useState(false)\n  \n    //const [showState,setShowState]=useState() //create|modify|detail\n    \n    //console.log(\"Organization parent\", state)\n    \n\n    return(\n        <section className= \"section remPadTop\">\n           {/*  <div className=\"level\">\n            <div className=\"level-item\"> <span className=\"is-size-6 has-text-weight-medium\">Organization  Module</span></div>\n            </div> */}\n            <div className=\"columns \">\n            <div className=\"column is-8 \">\n                <OrganizationList />\n                </div>\n            <div className=\"column is-4 \">\n                {/* {(state.facilityModule.show ==='create')&&<OrganizationCreate />} */}\n                {(state.facilityModule.show ==='detail')&&<OrganizationDetail  />}\n                {(state.facilityModule.show ==='modify')&&<OrganizationModify facility={selectedFacility} />}\n               \n            </div>\n\n            </div>                            \n            </section>\n       \n    )\n    \n}\n\nexport function OrganizationCreate(){\n    const { register, handleSubmit} = useForm(); //, watch, errors, reset \n    const [error, setError] =useState(false)\n    const [success, setSuccess] =useState(false)\n    const [message,setMessage] = useState(\"\")\n    const facilityServ=client.service('facility')\n    const orgServ=client.service('organizationclient')\n    const [chosen, setChosen] =useState(\"\")\n    const [band, setBand]=useState(\"\")\n    const BandsServ=client.service('bands')\n    const [providerBand,setProviderBand] = useState([])\n    //const history = useHistory()\n    const {user} = useContext(UserContext) //,setUser\n\n     \n   const handleChangeMode = async(e) => {\n        await setBand(e.target.value)\n      };\n    /* const onSubmit = (data,e) =>{\n        e.preventDefault();\n        setMessage(\"\")\n        setError(false)\n        setSuccess(false)\n          data.createdby=user._id\n          //console.log(data);\n          \n        facilityServ.create(data)\n        .then((res)=>{\n                //console.log(JSON.stringify(res))\n                e.target.reset();\n                setMessage(\"Created Organization successfully\")\n                setSuccess(true)\n            })\n            .catch((err)=>{\n                setMessage(\"Error creating facility, probable network issues \"+ err )\n                setError(true)\n            })\n\n      }  */\n      const getProviderBand = async()=>{\n        if (user.currentEmployee){\n                \n            const findServices= await BandsServ.find(\n                    {query: {\n                        facility: user.currentEmployee.facilityDetail._id,\n                        bandType:(user.currentEmployee.facilityDetail.facilityType===\"HMO\")?\"Provider\":\"Company\",\n                        \n                       // storeId:state.StoreModule.selectedStore._id,\n                       // $limit:20,\n                    //   paginate:false,\n                        $sort: {\n                            category: 1\n                        }\n                        }})\n                       // console.log(findServices)\n             await setProviderBand(findServices.data)\n            // console.log(findServices)\n                    }\n           \n    }\n\n      const handleClick=()=>{\n          //check band selected\n          if (band===\"\"){\n            toast({\n                message: 'Band not selected, Please select band',\n                type: 'is-danger',\n                dismissible: true,\n                pauseOnHover: true,\n            })\n            return \n          }\n\n        console.log(chosen)\n        let stuff={\n            facility:user.currentEmployee.facilityDetail._id ,\n            organization:chosen._id,\n            relationshiptype:\"managedcare\",\n            band\n        }\n        orgServ.create(stuff)\n        .then((res)=>{\n                //console.log(JSON.stringify(res))\n               // e.target.reset();\n               setSuccess(true)\n                toast({\n                    message: 'Organization added succesfully',\n                    type: 'is-success',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n                  setSuccess(false)\n                  setBand(\"\")\n            })\n            .catch((err)=>{\n                toast({\n                    message: 'Error adding organization ' + err,\n                    type: 'is-danger',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n            })\n\n      }\n\n      useEffect(() => {\n        // console.log(\"starting...\")\n          getProviderBand()\n         return () => {\n          \n         }\n        }, [])\n      const getSearchfacility=(obj)=>{\n          setChosen(obj)\n\n       /*  setCategoryName(obj.categoryname)\n        setChosen2(obj) */\n        \n         if (!obj){\n             //\"clear stuff\"\n            /*  setCategoryName(\"\")\n             setChosen2() */\n            \n         }\n     }\n\n    return (\n        <>\n        \n          <div className=\"field is-horizontal\">\n             <div className=\"field-body\">\n                <div className=\"field is-expanded\"  /* style={ !user.stacker?{display:\"none\"}:{}} */ >\n                        <FacilitySearch  getSearchfacility={getSearchfacility} clear={success} /> \n                        <p className=\"control has-icons-left \" style={{display:\"none\"}}>\n                            <input className=\"input is-small\" /* ref={register ({ required: true }) }  *//* add array no */  /* value={facilityId} name=\"facilityId\" type=\"text\" onChange={e=>setFacilityId(e.target.value)} placeholder=\"Product Id\" */ />\n                            <span className=\"icon is-small is-left\">\n                            <i className=\"fas  fa-map-marker-alt\"></i>\n                            </span>\n                        </p>\n                    </div>\n                    <div className=\"field\">    \n                        <div className=\"control\">\n                            <div className=\"select is-small \">\n                                <select name=\"bandType\" value={band} onChange={(e)=>handleChangeMode(e)} className=\"selectadd\" >\n                                <option value=\"\">{(user.currentEmployee.facilityDetail.facilityType===\"HMO\")?\"Choose Provider Band\":\"Choose Company Band\"} </option>\n                                {providerBand.map((option,i)=>(\n                                    <option key={i} value={option.name}> {option.name}</option>\n                                ))}\n                                </select>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"field\">\n                        <p className=\"control\">\n                                <button className=\"button is-success is-small selectadd\">\n                                <span className=\"is-small\" onClick={handleClick}>Add</span>\n                                </button>\n                            </p>\n                        </div>\n                    </div>\n                    </div>\n   \n         </>\n    )\n   \n}\n\nexport function OrganizationList(){\n   // const { register, handleSubmit, watch, errors } = useForm();\n    // eslint-disable-next-line\n    const [error, setError] =useState(false)\n     // eslint-disable-next-line\n    const [success, setSuccess] =useState(false)\n     // eslint-disable-next-line\n   const [message, setMessage] = useState(\"\") \n    const facilityServ=client.service('facility')\n    const orgServ=client.service('organizationclient')\n    //const history = useHistory()\n   // const {user,setUser} = useContext(UserContext)\n    const [facilities,setFacilities]=useState([])\n     // eslint-disable-next-line\n   const [selectedFacility, setSelectedFacility]=useState() //\n    // eslint-disable-next-line\n    const {state,setState}=useContext(ObjectContext)\n    const {user} = useContext(UserContext)\n\n   \n\n    const handleCreateNew = async()=>{\n        const    newfacilityModule={\n            selectedFacility:{},\n            show :'create'\n            }\n       await setState((prevstate)=>({...prevstate, facilityModule:newfacilityModule}))\n       //console.log(state)\n        \n\n    }\n    const handleRow= async(facility)=>{\n        //console.log(\"b4\",state)\n\n        //console.log(\"handlerow\",facility)\n\n        await setSelectedFacility(facility.organizationDetail)\n\n        const    newfacilityModule={\n            selectedFacility:facility,\n            show :'detail'\n        }\n       await setState((prevstate)=>({...prevstate, facilityModule:newfacilityModule}))\n       //console.log(state)\n\n    }\n\n   const handleSearch=(val)=>{\n       const field='facilityName'\n       console.log(val)\n       if (val.length >0){\n       orgServ.find({query: {\n                /* [field]: {\n                    $regex:val,\n                    $options:'i'\n                   \n                }, */\n                facility:user.currentEmployee.facilityDetail._id,\n                $search:val,\n                $limit:10,\n                $sort: {\n                    createdAt: -1\n                  }\n                    }}).then((res)=>{\n                console.log(res)\n               setFacilities(res.data)\n                setMessage(\" Organization  fetched successfully\")\n                setSuccess(true) \n            })\n            .catch((err)=>{\n                console.log(err)\n                setMessage(\"Error creating facility, probable network issues \"+ err )\n                setError(true)\n            })\n        }else{\n            getFacilities() \n        }\n        }\n\n           /*  if (val.length>2){\n                console.log(\"in\")\n               \n            }\n\n        }\n     */\n        const getFacilities=()=>{\n            orgServ.find({query: {\n                facility:user.currentEmployee.facilityDetail._id,\n                $limit:100,\n                $sort: {\n                    createdAt: -1\n                  }\n                    }})\n            .then((res)=>{\n                console.log(res)\n                    setFacilities(res.data)\n                    setMessage(\" Organization  fetched successfully\")\n                    setSuccess(true)\n                })\n                .catch((err)=>{\n                    setMessage(\"Error creating facility, probable network issues \"+ err )\n                    setError(true)\n                })\n\n        }\n\n    useEffect(() => {\n        getFacilities()\n\n        orgServ.on('created', (obj)=>getFacilities())\n        orgServ.on('updated', (obj)=>getFacilities())\n        orgServ.on('patched', (obj)=>getFacilities())\n        orgServ.on('removed', (obj)=>getFacilities())\n        return () => {\n           \n        }\n    },[])\n\n    //todo: pagination and vertical scroll bar\n\n    return(\n            <>   <OrganizationCreate />\n                <div className=\"level\">\n                    <div className=\"level-left\">\n                        <div className=\"level-item\">\n                            <div className=\"field\">\n                                <p className=\"control has-icons-left  \">\n                                    <DebounceInput className=\"input is-small \" \n                                        type=\"text\" placeholder=\"Search Facilities\"\n                                        minLength={3}\n                                        debounceTimeout={400}\n                                        onChange={(e)=>handleSearch(e.target.value)} />\n                                    <span className=\"icon is-small is-left\">\n                                        <i className=\"fas fa-search\"></i>\n                                    </span>\n                                </p>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"level-item\"> <span className=\"is-size-6 has-text-weight-medium\">List of Provider Organizations </span></div>\n                   {/*  <div className=\"level-right\">\n                        <div className=\"level-item\"> \n                            <div className=\"level-item\"><div className=\"button is-success is-small\" onClick={handleCreateNew}>New</div></div>\n                        </div>\n                    </div> */}\n\n                </div>\n               {/* {!!facilities[1] && */} <div className=\"table-container pullup \">\n                                <table className=\"table is-striped is-narrow is-hoverable is-fullwidth is-scrollable \">\n                                    <thead>\n                                        <tr>\n                                        <th><abbr title=\"S/No\">S/No</abbr></th>\n                                        <th>Organization Name</th>\n                                        <th><abbr title=\"Band\"> Band</abbr></th>\n                                        <th><abbr title=\"Address\"> Address</abbr></th>\n                                        <th><abbr title=\"City\">City</abbr></th>\n                                        <th><abbr title=\"Phone\">Phone</abbr></th>\n                                        <th><abbr title=\"Email\">Email</abbr></th>\n                                        <th><abbr title=\"Type\">Type</abbr></th>\n                                        <th><abbr title=\"Category\">Category</abbr></th>\n                                        {/* <th><abbr title=\"Actions\">Actions</abbr></th> */}\n                                        </tr>\n                                    </thead>\n                                    <tfoot>\n                                        \n                                    </tfoot>\n                                    <tbody>\n                                        {facilities.map((facility, i)=>(\n                                            facility.hasOwnProperty('organizationDetail') &&\n                                            <>\n                                            <tr key={i} onClick={()=>handleRow(facility)} className={facility.organizationDetail?._id===(selectedFacility?._id||null)?\"is-selected\":\"\"}>\n                                            <th>{i+1}</th>\n                                            <th>{facility.organizationDetail.facilityName}</th>\n                                            <td>{facility.band}</td>\n                                            <td>{facility.organizationDetail.facilityAddress}</td>\n                                            <td>{facility.organizationDetail.facilityCity}</td>\n                                            <td>{facility.organizationDetail.facilityContactPhone}</td>\n                                            <td>{facility.organizationDetail.facilityEmail}</td>\n                                            <td>{facility.organizationDetail.facilityType}</td>\n                                            <td>{facility.organizationDetail.facilityCategory}</td>\n                                           \n                                           {/*  <td><span   className=\"showAction\"  >...</span></td> */}\n                                           \n                                            </tr>\n                                            </>\n\n                                        ))}\n                                    </tbody>\n                                    </table>\n                                    \n                </div>               \n               {/*  }  */}</>\n              \n    )\n}\n\nexport function OrganizationDetail(){\n    //const { register, handleSubmit, watch, setValue } = useForm(); //errors,\n     // eslint-disable-next-line\n    const [error, setError] =useState(false) //, \n    //const [success, setSuccess] =useState(false)\n     // eslint-disable-next-line\n    const [message, setMessage] = useState(\"\") //,\n    //const facilityServ=client.service('/facility')\n    //const history = useHistory()\n    const {user,setUser} = useContext(UserContext)\n    const {state,setState} = useContext(ObjectContext)\n\n   \n\n   const facility=state.facilityModule.selectedFacility\n\n    const handleEdit= async()=>{\n        const    newfacilityModule={\n            selectedFacility:facility,\n            show :'modify'\n        }\n       await setState((prevstate)=>({...prevstate, facilityModule:newfacilityModule}))\n       //console.log(state)\n       \n    }\n    const closeForm=async()=>{\n       \n        const    newfacilityModule={\n            selectedFacility:facility,\n            show :'create'\n        }\n       await setState((prevstate)=>({...prevstate, facilityModule:newfacilityModule}))\n        console.log(\"close form\")\n    }\n \n    return (\n        <>\n        <div className=\"card \">\n            <div className=\"card-header\">\n                <p className=\"card-header-title\">\n                    Organization Details\n                </p>\n                <button className=\"delete pushleft\" aria-label=\"close\"  onClick={()=>closeForm()}></button>\n            </div>\n            <div className=\"card-content vscrollable\">\n           \n            <fieldset>\n                <div className=\"field \">\n                    <label className=\"label is-small\"> <span className=\"icon is-small is-left\">\n                            <i className=\"fas fa-hospital\"></i>\n                        </span>                    \n                        Name: <span className=\"is-small \"   > {facility.organizationDetail.facilityName} </span>\n                        </label>\n                \n                        \n             \n                    </div>\n                <div className=\"field\">\n                <label className=\"label is-small\"><span className=\"icon is-small is-left\">\n                        <i className=\"fas fa-map-signs\"></i>\n                    </span>Address:\n                   \n                    <span className=\"is-small \"  >{facility.organizationDetail.facilityAddress} </span> \n                    </label>\n                </div>\n            <div className=\"field\">\n            <label className=\"label is-small\"><span className=\"icon is-small is-left\">\n                    <i className=\"fas fa-map-marker-alt\"></i>\n                    </span>City: \n                \n                    <span className=\"is-small \"  >{facility.organizationDetail.facilityCity}</span> \n                    </label>\n                </div>\n            <div className=\"field\">\n            <label className=\"label is-small\"><span className=\"icon is-small is-left\">\n                    <i className=\"fas fa-phone-alt\"></i>\n                    </span>Phone:           \n                    <span className=\"is-small \" >{facility.organizationDetail.facilityContactPhone}</span>\n                        </label>\n \n                \n                \n                 </div>\n            <div className=\"field\">\n            <label className=\"label is-small\"><span className=\"icon is-small is-left\">\n                    <i className=\"fas fa-envelope\"></i>\n                    </span>Email:                     <span className=\"is-small \"   >{facility.organizationDetail.facilityEmail}</span>\n                    \n                         </label>\n\n               \n                </div>\n            <div className=\"field\">\n            <label className=\"label is-small\"> <span className=\"icon is-small is-left\">\n                    <i className=\"fas fa-user-md\"></i></span>CEO:\n                    <span className=\"is-small \"  >{facility.organizationDetail.facilityOwner}</span>\n                    </label>\n                </div>\n            <div className=\"field\">\n            <label className=\"label is-small\"> <span className=\"icon is-small is-left\">\n                    <i className=\"fas fa-hospital-symbol\"></i>\n                    </span>Type:              \n                    <span className=\"is-small \"  >{facility.organizationDetail.facilityType}</span>\n                </label>\n \n                </div>\n            <div className=\"field\">\n             <label className=\"label is-small\"><span className=\"icon is-small is-left\">\n                    <i className=\"fas fa-clinic-medical\"></i>\n                    </span>Category:              \n                    <span className=\"is-small \"  >{facility.organizationDetail.facilityCategory}</span>\n                </label>\n\n\n            </div>\n          {user.stacker &&   <div className=\"field\">\n                <p className=\"control\">\n                    <button className=\"button is-success is-small\" onClick={handleEdit}>\n                        Edit\n                    </button>\n                </p>\n            </div>}\n            { error && <div className=\"message\"> {message}</div>}\n            </fieldset>\n        </div>\n        </div>\n        </>\n    )\n   \n   \n}\n\nexport function OrganizationModify(){\n    const { register, handleSubmit, setValue,reset } = useForm(); //watch, errors,\n    const [error, setError] =useState(false)\n    const [success, setSuccess] =useState(false)\n    const [message,setMessage] = useState(\"\")\n    const facilityServ=client.service('/facility')\n    //const history = useHistory()\n     // eslint-disable-next-line\n    const {user} = useContext(UserContext)\n    const {state,setState} = useContext(ObjectContext)\n\n    const facility=state.facilityModule.selectedFacility\n\n        useEffect(() => {\n            setValue(\"facilityName\", facility.facilityName,  {\n                shouldValidate: true,\n                shouldDirty: true\n            })\n            setValue(\"facilityAddress\", facility.facilityAddress,  {\n                shouldValidate: true,\n                shouldDirty: true\n            })\n            setValue(\"facilityCity\", facility.facilityCity,  {\n                shouldValidate: true,\n                shouldDirty: true\n            })\n            setValue(\"facilityContactPhone\", facility.facilityContactPhone,  {\n                shouldValidate: true,\n                shouldDirty: true\n            })\n            setValue(\"facilityEmail\", facility.facilityEmail,  {\n                shouldValidate: true,\n                shouldDirty: true\n            })\n            setValue(\"facilityOwner\", facility.facilityOwner,  {\n                shouldValidate: true,\n                shouldDirty: true\n            })\n            setValue(\"facilityType\", facility.facilityType,  {\n                shouldValidate: true,\n                shouldDirty: true\n            })\n            setValue(\"facilityCategory\", facility.facilityCategory,  {\n                shouldValidate: true,\n                shouldDirty: true\n            })\n            \n            return () => {\n                \n            }\n        })\n\n   const handleCancel=async()=>{\n    const    newfacilityModule={\n        selectedFacility:{},\n        show :'create'\n      }\n   await setState((prevstate)=>({...prevstate, facilityModule:newfacilityModule}))\n   //console.log(state)\n           }\n\n\n        const changeState =()=>{\n        const    newfacilityModule={\n            selectedFacility:{},\n            show :'create'\n        }\n        setState((prevstate)=>({...prevstate, facilityModule:newfacilityModule}))\n\n        }\n    const handleDelete=async()=>{\n        let conf=window.confirm(\"Are you sure you want to delete this data?\")\n        \n        const dleteId=facility._id\n        if (conf){\n             \n        facilityServ.remove(dleteId)\n        .then((res)=>{\n                //console.log(JSON.stringify(res))\n                reset();\n                setMessage(\"Deleted Organization successfully\")\n                setSuccess(true)\n                changeState()\n               setTimeout(() => {\n                setSuccess(false)\n                }, 200);\n                changeState()\n            })\n            .catch((err)=>{\n                setMessage(\"Error deleting facility, probable network issues \"+ err )\n                setError(true)\n                setTimeout(() => {\n                    setError(false)\n                }, 200);\n            })\n        }\n    }\n        \n\n   /* ()=> setValue(\"firstName\", \"Bill\", , {\n            shouldValidate: true,\n            shouldDirty: true\n          })) */\n    const onSubmit = (data,e) =>{\n        e.preventDefault();\n        setMessage(\"\")\n        setError(false)\n        setSuccess(false)\n        console.log(data)\n          //data.createdby=user._id\n          //console.log(data);\n          \n        facilityServ.update(facility._id,data)\n        .then((res)=>{\n                //console.log(JSON.stringify(res))\n               // e.target.reset();\n                setMessage(\"updated Organization successfully\")\n                setSuccess(true)\n                changeState()\n\n            })\n            .catch((err)=>{\n                setMessage(\"Error creating facility, probable network issues \"+ err )\n                setError(true)\n            })\n\n      } \n     \n      \n    return (\n        \n        <>\n        <div className=\"card \">\n            <div className=\"card-header\">\n                <p className=\"card-header-title\">\n                    Organization Details\n                </p>\n            </div>\n            <div className=\"card-content vscrollable\">\n            { success && <div className=\"message\"> {message}</div>}\n            <form onSubmit={handleSubmit(onSubmit)}>\n                <div className=\"field\">\n                    <label className=\"label is-small\">Name \n                    <p className=\"control has-icons-left has-icons-right\">\n                        <input className=\"input  is-small\" ref={register({ required: true })}  name=\"facilityName\" type=\"text\" placeholder=\"Name of Facility\" />\n                        <span className=\"icon is-small is-left\">\n                            <i className=\"fas fa-hospital\"></i>\n                        </span>                    \n                    </p>\n                    </label>\n                    </div>\n                <div className=\"field\">\n                <label className=\"label is-small\">Address\n                    <p className=\"control has-icons-left has-icons-right\">\n                    <input className=\"input is-small\" ref={register({ required: true })}  name=\"facilityAddress\" type=\"text\" placeholder=\"Address of Facility\" />\n                    <span className=\"icon is-small is-left\">\n                        <i className=\"fas fa-map-signs\"></i>\n                    </span>\n                    \n                </p>\n                </label>\n                </div>\n            <div className=\"field\">\n            <label className=\"label is-small\">City\n                <p className=\"control has-icons-left\">\n                    <input className=\"input is-small\" ref={register({ required: true })} name=\"facilityCity\" type=\"text\" placeholder=\"City/Town\"/>\n                    <span className=\"icon is-small is-left\">\n                    <i className=\"fas fa-map-marker-alt\"></i>\n                    </span>\n                </p>\n                </label>\n                </div>\n            <div className=\"field\">\n            <label className=\"label is-small\">Phone\n                <p className=\"control has-icons-left\">\n                    <input className=\"input is-small\" ref={register({ required: true })} name=\"facilityContactPhone\" type=\"text\" placeholder=\"Contact Phone No\"/>\n                    <span className=\"icon is-small is-left\">\n                    <i className=\"fas fa-phone-alt\"></i>\n                    </span>\n                </p>\n                </label>\n                 </div>\n            <div className=\"field\">\n            <label className=\"label is-small\">Email\n                <p className=\"control has-icons-left\">\n                    <input className=\"input is-small\" ref={register({ required: true })} name=\"facilityEmail\" type=\"email\" placeholder=\"Organization Email\"/>\n                    <span className=\"icon is-small is-left\">\n                    <i className=\"fas fa-envelope\"></i>\n                    </span>\n                </p>\n                </label>\n                </div>\n            <div className=\"field\">\n            <label className=\"label is-small\">CEO\n                <p className=\"control has-icons-left\">\n                    <input className=\"input is-small\" ref={register({ required: true })} name=\"facilityOwner\" type=\"text\" placeholder=\"Organization Owner\"/>\n                    <span className=\"icon is-small is-left\">\n                    <i className=\"fas fa-user-md\"></i>\n                    </span>\n                </p>\n                </label>\n                </div>\n            <div className=\"field\">\n            <label className=\"label is-small\">Type\n                <p className=\"control has-icons-left\">\n                    <input className=\"input is-small\" ref={register({ required: true })} name=\"facilityType\" type=\"text\" placeholder=\"Organization Type\"/>\n                    <span className=\"icon is-small is-left\">\n                    <i className=\"fas fa-hospital-symbol\"></i>\n                    </span>\n                </p>\n                </label>\n                </div>\n            <div className=\"field\">\n            <label className=\"label is-small\">Category\n                <p className=\"control has-icons-left\">\n                    <input className=\"input is-small\" ref={register({ required: true })} name=\"facilityCategory\" type=\"text\" placeholder=\"Organization Category\"/>\n                    <span className=\"icon is-small is-left\">\n                    <i className=\"fas fa-clinic-medical\"></i>\n                    </span>\n                </p>\n                </label>\n            </div>\n            <div className=\"field  is-grouped\">\n                <p className=\"control\">\n                    <button className=\"button is-success is-small\">\n                        Save\n                    </button>\n                </p>\n                <p className=\"control\">\n                    <button className=\"button is-warning is-small\" onClick={handleCancel}>\n                        Cancel\n                    </button>\n                </p>\n                <p className=\"control\">\n                    <button className=\"button is-danger is-small\" onClick={handleDelete}>\n                       Delete\n                    </button>\n                </p>\n            </div>\n            { error && <div className=\"message\"> {message}</div>}\n            </form>\n        </div>\n        </div>\n        </>\n    )\n   \n   \n                \n}   "]},"metadata":{},"sourceType":"module"}