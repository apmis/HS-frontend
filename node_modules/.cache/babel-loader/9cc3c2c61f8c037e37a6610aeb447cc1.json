{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _toConsumableArray from\"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext,useEffect,useRef}from'react';import{useForm}from\"react-hook-form\";import{formatDistanceToNowStrict,format,subDays,addDays}from'date-fns';import client from'../../../feathers';import{toast}from'bulma-toast';import{UserContext,ObjectContext}from'../../../context';var FluidIntakeOutput=function FluidIntakeOutput(){var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,setValue=_useForm.setValue;var fluidTypeOptions=[\"Input\",\"Output\"];var _useContext=useContext(UserContext),user=_useContext.user,setUser=_useContext.setUser;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),facilities=_useState2[0],setFacilities=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),selectedFluid=_useState4[0],setSelectedFluid=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),chosen=_useState6[0],setChosen=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),chosen1=_useState8[0],setChosen1=_useState8[1];var _useState9=useState(true),_useState10=_slicedToArray(_useState9,2),chosen2=_useState10[0],setChosen2=_useState10[1];var _useContext2=useContext(ObjectContext),state=_useContext2.state;var _useState11=useState(\"Draft\"),_useState12=_slicedToArray(_useState11,2),docStatus=_useState12[0],setDocStatus=_useState12[1];var ClientServ=client.service('clinicaldocument');var fac=useRef([]);var struc=useRef([]);var handleRow=function handleRow(){console.log(\"let's pray\");};var draftDoc=state.DocumentClassModule.selectedDocumentClass.document;var checkonadmission=function checkonadmission(){console.log(state.ClientModule.selectedClient.admission_id);if(!!state.ClientModule.selectedClient.admission_id){setChosen2(false);}else{toast({message:'Patient not on admission',type:'is-danger',dismissible:true,pauseOnHover:true});}};useEffect(function(){checkonadmission();findexistingChart();return function(){};},[draftDoc]);var findexistingChart=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var findClinic;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return ClientServ.find({query:{client:state.ClientModule.selectedClient._id,facility:user.currentEmployee.facilityDetail._id,documentname:state.DocumentClassModule.selectedDocumentClass.name,episodeofcare_id:state.ClientModule.selectedClient.admission_id,$limit:20,$sort:{createdAt:-1}}});case 2:findClinic=_context.sent;fac.current=findClinic.data[0];//console.log(fac.current)\nif(findClinic.total>1){setChosen1(false);setFacilities(fac.current.documentdetail.recordings);}case 5:case\"end\":return _context.stop();}}},_callee);}));return function findexistingChart(){return _ref.apply(this,arguments);};}();useEffect(function(){if(!!draftDoc&&draftDoc.status===\"Draft\"){/*  Object.entries(draftDoc.documentdetail).map(([keys,value],i)=>(\n                  setValue(keys, value,  {\n                      shouldValidate: true,\n                      shouldDirty: true\n                  })\n\n              )) */setFacilities(draftDoc.documentdetail.recordings);// setAllergies(draftDoc.documentdetail.Allergy_Skin_Test)\n}return function(){draftDoc={};};},[draftDoc]);var handleSave=function handleSave(){var document={};var data={};data.recordings=facilities;// data.createdby=user._id\nif(user.currentEmployee){document.facility=user.currentEmployee.facilityDetail._id;document.facilityname=user.currentEmployee.facilityDetail.facilityName;// or from facility dropdown\n}document.documentdetail=data;document.documentname=state.DocumentClassModule.selectedDocumentClass.name;document.documentClassId=state.DocumentClassModule.selectedDocumentClass._id;document.location=state.ClinicModule.selectedClinic.name+\" \"+state.ClinicModule.selectedClinic.locationType;document.locationId=state.ClinicModule.selectedClinic._id;document.client=state.ClientModule.selectedClient._id;document.createdBy=user._id;document.createdByname=user.firstname+\" \"+user.lastname;document.status=docStatus===\"Draft\"?\"Draft\":\"completed\";document.episodeofcare_id=state.ClientModule.selectedClient.admission_id;console.log(document);// alert(document.status)\nClientServ.create(document).then(function(res){setChosen(true);toast({message:'Fluid Input/Output entry successful',type:'is-success',dismissible:true,pauseOnHover:true});}).catch(function(err){toast({message:'Error creating Appointment '+err,type:'is-danger',dismissible:true,pauseOnHover:true});});};var onSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(data,e){var document;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:// console.log(state.DocumentClassModule.selectedDocumentClass)\nconsole.log(state.employeeLocation.locationName);e.preventDefault();data.entrytime=new Date();data.location=state.employeeLocation.locationName+\" \"+state.employeeLocation.locationType;data.locationId=state.employeeLocation.locationId;data.episodeofcare_id=state.ClientModule.selectedClient.admission_id;data.createdBy=user._id;data.createdByname=user.firstname+\" \"+user.lastname;// await update(data)\nstruc.current=[data].concat(_toConsumableArray(facilities));// console.log(struc.current)\nsetFacilities(function(prev){return[data].concat(_toConsumableArray(facilities));});// data.recordings=facilities\ne.target.reset();setChosen(false);//handleSave()\ndocument={};data={};data.recordings=struc.current;// data.createdby=user._id\nif(user.currentEmployee){document.facility=user.currentEmployee.facilityDetail._id;document.facilityname=user.currentEmployee.facilityDetail.facilityName;// or from facility dropdown\n}document.documentdetail=data;document.documentname=state.DocumentClassModule.selectedDocumentClass.name;document.documentClassId=state.DocumentClassModule.selectedDocumentClass._id;document.location=state.employeeLocation.locationName+\" \"+state.employeeLocation.locationType;document.locationId=state.employeeLocation.locationId;document.client=state.ClientModule.selectedClient._id;document.createdBy=user._id;document.createdByname=user.firstname+\" \"+user.lastname;document.status=docStatus===\"Draft\"?\"Draft\":\"completed\";document.episodeofcare_id=state.ClientModule.selectedClient.admission_id;console.log(document);// alert(document.status)\nif(chosen1){ClientServ.create(document).then(function(res){setChosen(true);toast({message:'Fluid Input/Output entry successful',type:'is-success',dismissible:true,pauseOnHover:true});}).catch(function(err){toast({message:'Fluid Input/Output entry '+err,type:'is-danger',dismissible:true,pauseOnHover:true});});}else{ClientServ.patch(fac.current._id,{documentdetail:document.documentdetail}).then(function(res){setChosen(true);toast({message:'Fluid Input/Output entry successful',type:'is-success',dismissible:true,pauseOnHover:true});}).catch(function(err){toast({message:'Fluid Input/Output entry '+err,type:'is-danger',dismissible:true,pauseOnHover:true});});}case 28:case\"end\":return _context2.stop();}}},_callee2);}));return function onSubmit(_x,_x2){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"p\",{className:\"card-header-title\",children:\"Fluid Intake and Output Chart\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-content vscrollable  pt-0\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"columns mb-0 mt-0\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"column\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field \",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small\",children:\"Date & Time\"}),/*#__PURE__*/_jsx(\"p\",{className:\"control is-expanded\",children:/*#__PURE__*/_jsx(\"input\",{ref:register({required:true}),name:\"fluid_time\",className:\"input is-small\",type:\"datetime-local\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"column\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small\",children:\"Input/Output?\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"div\",{className:\"select is-small \",children:/*#__PURE__*/_jsxs(\"select\",{name:\"fluidType\",ref:register({required:true})/* onChange={(e)=>handleChangeMode(e.target.value)} */,className:\"selectadd\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Choose Type \"}),fluidTypeOptions.map(function(option,i){return/*#__PURE__*/_jsxs(\"option\",{value:option,children:[\" \",option]},i);})]})})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"column\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"columns\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"column\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small\",children:\"Route\"}),/*#__PURE__*/_jsx(\"p\",{className:\"control is-expanded\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"route\",className:\"input is-small\",type:\"text\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"column\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small\",children:\"Fluid \"}),/*#__PURE__*/_jsx(\"p\",{className:\"control is-expanded\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"fluid\",className:\"input is-small\",type:\"text\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"column\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small\",children:\"Volume (mls)\"}),/*#__PURE__*/_jsx(\"p\",{className:\"control is-expanded\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"volume\",className:\"input is-small\",type:\"number\"})})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small\",children:\"Comments\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"comments\",className:\"input is-small\",type:\"text\"})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"columns\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"column\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field mt-4\",children:/*#__PURE__*/_jsx(\"button\",{className:\"button is-info is-small\",children:\"Enter\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"column\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field mt-4\"})})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"mx-4 \",children:/*#__PURE__*/_jsx(\"div\",{className:\"table-container pullup vscrola\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table is-striped is-narrow is-hoverable is-fullwidth is-scrollable \",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"abbr\",{title:\"Serial No\",children:\"S/No\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"abbr\",{title:\"Time\",children:\"Date/Time\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"abbr\",{title:\"Last Name\",children:\"Route\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"abbr\",{title:\"Class\",children:\"Fluid\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"abbr\",{title:\"Location\",children:\"Input Volume \"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"abbr\",{title:\"Location\",children:\"Output Volume \"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"abbr\",{title:\"Type\",children:\"Comments\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"abbr\",{title:\"Status\",children:\"Entry Time\"})})]})}),/*#__PURE__*/_jsx(\"tfoot\",{}),/*#__PURE__*/_jsx(\"tbody\",{children:facilities.map(function(Client,i){return/*#__PURE__*/_jsxs(\"tr\",{onClick:function onClick(){return handleRow(Client);},className:Client._id===((selectedFluid===null||selectedFluid===void 0?void 0:selectedFluid._id)||null)?\"is-selected\":\"\",children:[/*#__PURE__*/_jsx(\"th\",{children:i+1}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"strong\",{children:format(new Date(Client.fluid_time),\"HH:mm:ss\")})}),/*#__PURE__*/_jsx(\"th\",{children:Client.route}),/*#__PURE__*/_jsx(\"td\",{children:Client.fluid}),/*#__PURE__*/_jsx(\"td\",{children:Client.fluidType===\"Input\"&&Client.volume}),/*#__PURE__*/_jsx(\"td\",{children:Client.fluidType===\"Output\"&&Client.volume}),/*#__PURE__*/_jsx(\"td\",{children:Client.comments}),Client.entrytime&&/*#__PURE__*/_jsx(\"td\",{children:format(new Date(Client.entrytime),\"dd-MM HH:mm:ss\")})]},Client._id);})})]})})})]});};export default FluidIntakeOutput;","map":{"version":3,"sources":["/home/mfybaby/Documents/HealthStack2/HS-frontend/src/components/clientForm/forms/fluidIntake.jsx"],"names":["React","useState","useContext","useEffect","useRef","useForm","formatDistanceToNowStrict","format","subDays","addDays","client","toast","UserContext","ObjectContext","FluidIntakeOutput","register","handleSubmit","setValue","fluidTypeOptions","user","setUser","facilities","setFacilities","selectedFluid","setSelectedFluid","chosen","setChosen","chosen1","setChosen1","chosen2","setChosen2","state","docStatus","setDocStatus","ClientServ","service","fac","struc","handleRow","console","log","draftDoc","DocumentClassModule","selectedDocumentClass","document","checkonadmission","ClientModule","selectedClient","admission_id","message","type","dismissible","pauseOnHover","findexistingChart","find","query","_id","facility","currentEmployee","facilityDetail","documentname","name","episodeofcare_id","$limit","$sort","createdAt","findClinic","current","data","total","documentdetail","recordings","status","handleSave","facilityname","facilityName","documentClassId","location","ClinicModule","selectedClinic","locationType","locationId","createdBy","createdByname","firstname","lastname","create","then","res","catch","err","onSubmit","e","employeeLocation","locationName","preventDefault","entrytime","Date","prev","target","reset","patch","required","map","option","i","Client","fluid_time","route","fluid","fluidType","volume","comments"],"mappings":"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","sourcesContent":["import React, {useState,useContext, useEffect,useRef} from 'react'\n   import { useForm } from \"react-hook-form\";\n   import { formatDistanceToNowStrict, format, subDays,addDays } from 'date-fns'\n   import client from '../../../feathers'\n   import {toast} from 'bulma-toast'\n   import {UserContext,ObjectContext} from '../../../context'\n\nconst FluidIntakeOutput = () => {\n\n  const { register, handleSubmit,setValue} = useForm(); \n  const fluidTypeOptions=[\"Input\",\"Output\"]\n  const {user,setUser} = useContext(UserContext)\n  const [facilities,setFacilities]=useState([])\n  const [selectedFluid,setSelectedFluid]=useState()\n  const [chosen, setChosen]=useState(true)\n    const [chosen1, setChosen1]=useState(true)\n    const [chosen2, setChosen2]=useState(true) \n    const {state}=useContext(ObjectContext)\n    const [docStatus,setDocStatus] = useState(\"Draft\")\n    const ClientServ=client.service('clinicaldocument')\n    const fac = useRef([])\n    const struc = useRef([])\n\n  const handleRow = ()=>{\n    console.log(\"let's pray\")\n  }\n\n  let draftDoc=state.DocumentClassModule.selectedDocumentClass.document\n\n\n      const checkonadmission=()=>{\n        console.log(state.ClientModule.selectedClient.admission_id)\n        if (!!state.ClientModule.selectedClient.admission_id){\n        setChosen2(false)\n        }\n        else{\n          toast({\n            message: 'Patient not on admission',\n            type: 'is-danger',\n            dismissible: true,\n            pauseOnHover: true,\n          })\n        }\n      }\n\n    useEffect(() => {\n      checkonadmission()\n    findexistingChart()\n\n      return () => {\n      \n      }\n    },[draftDoc])\n\n\n        const findexistingChart=async()=>{\n\n          const findClinic= await ClientServ.find(\n            {query: {\n                client:state.ClientModule.selectedClient._id,\n                facility:user.currentEmployee.facilityDetail._id,\n                documentname:state.DocumentClassModule.selectedDocumentClass.name,\n                episodeofcare_id:state.ClientModule.selectedClient.admission_id,\n\n                    $limit:20,\n                    $sort: {\n                        createdAt: -1\n                    }\n                }})\n\n              fac.current=findClinic.data[0]\n              //console.log(fac.current)\n              if (findClinic.total >1) {\n                setChosen1(false)\n                setFacilities(fac.current.documentdetail.recordings)\n              }\n          \n        }\n\n    \n          useEffect(() => {\n            if( !!draftDoc && draftDoc.status===\"Draft\"){\n\n              /*  Object.entries(draftDoc.documentdetail).map(([keys,value],i)=>(\n                  setValue(keys, value,  {\n                      shouldValidate: true,\n                      shouldDirty: true\n                  })\n\n              )) */\n              setFacilities(draftDoc.documentdetail.recordings)\n              // setAllergies(draftDoc.documentdetail.Allergy_Skin_Test)\n              }\n                  return () => {\n                      draftDoc={}\n                  }\n              }, [draftDoc])\n          \n              \n\n\n          const handleSave=()=>{\n            \n            let document={}\n            let data={}\n            data.recordings=facilities\n            // data.createdby=user._id\n            \n\n              if (user.currentEmployee){\n                document.facility=user.currentEmployee.facilityDetail._id \n                document.facilityname=user.currentEmployee.facilityDetail.facilityName // or from facility dropdown\n                }\n              document.documentdetail= data\n                document.documentname=state.DocumentClassModule.selectedDocumentClass.name\n                document.documentClassId=state.DocumentClassModule.selectedDocumentClass._id\n                document.location=state.ClinicModule.selectedClinic.name+\" \"+state.ClinicModule.selectedClinic.locationType\n                document.locationId=state.ClinicModule.selectedClinic._id\n                document.client=state.ClientModule.selectedClient._id\n                document.createdBy=user._id\n                document.createdByname=user.firstname+ \" \"+user.lastname\n                document.status=docStatus===\"Draft\"?\"Draft\":\"completed\"\n                document.episodeofcare_id=state.ClientModule.selectedClient.admission_id\n              console.log(document);\n\n            // alert(document.status)\n              ClientServ.create(document)\n            .then((res)=>{\n                    \n              setChosen(true)\n                \n                    toast({\n                        message: 'Fluid Input/Output entry successful',\n                        type: 'is-success',\n                        dismissible: true,\n                        pauseOnHover: true,\n                      })\n                    \n                })\n                .catch((err)=>{\n                    toast({\n                        message: 'Error creating Appointment ' + err,\n                        type: 'is-danger',\n                        dismissible: true,\n                        pauseOnHover: true,\n                      })\n                }) \n\n          }  \n\n          const onSubmit = async (data,e) =>{\n          // console.log(state.DocumentClassModule.selectedDocumentClass)\n          console.log(state.employeeLocation.locationName)\n            e.preventDefault();\n            data.entrytime=new Date()\n            data.location=state.employeeLocation.locationName+\" \"+state.employeeLocation.locationType\n            data.locationId=state.employeeLocation.locationId\n            data.episodeofcare_id=state.ClientModule.selectedClient.admission_id\n            data.createdBy=user._id\n            data.createdByname=user.firstname+ \" \"+user.lastname\n\n          // await update(data)\n          struc.current=[data,...facilities]\n          // console.log(struc.current)\n            setFacilities((prev)=>[data, ...facilities])\n          // data.recordings=facilities\n          e.target.reset();\n          setChosen(false)\n          //handleSave()\n          let document={}\n            data={}\n            data.recordings=struc.current\n            // data.createdby=user._id\n            \n\n              if (user.currentEmployee){\n                document.facility=user.currentEmployee.facilityDetail._id \n                document.facilityname=user.currentEmployee.facilityDetail.facilityName // or from facility dropdown\n                }\n              document.documentdetail= data\n                document.documentname=state.DocumentClassModule.selectedDocumentClass.name\n                document.documentClassId=state.DocumentClassModule.selectedDocumentClass._id\n                document.location=state.employeeLocation.locationName+\" \"+state.employeeLocation.locationType\n                document.locationId=state.employeeLocation.locationId\n                document.client=state.ClientModule.selectedClient._id\n                document.createdBy=user._id\n                document.createdByname=user.firstname+ \" \"+user.lastname\n                document.status=docStatus===\"Draft\"?\"Draft\":\"completed\"\n                document.episodeofcare_id=state.ClientModule.selectedClient.admission_id\n              console.log(document);\n\n            // alert(document.status)\n            if (chosen1){\n\n              ClientServ.create(document)\n            .then((res)=>{\n                    \n              setChosen(true)\n                \n                    toast({\n                        message: 'Fluid Input/Output entry successful',\n                        type: 'is-success',\n                        dismissible: true,\n                        pauseOnHover: true,\n                      })\n                    \n                })\n                .catch((err)=>{\n                    toast({\n                        message: 'Fluid Input/Output entry ' + err,\n                        type: 'is-danger',\n                        dismissible: true,\n                        pauseOnHover: true,\n                      })\n                }) \n\n        \n          }  else{\n            ClientServ.patch(fac.current._id,{documentdetail:document.documentdetail})\n            .then((res)=>{\n                    \n              setChosen(true)\n                \n                    toast({\n                        message: 'Fluid Input/Output entry successful',\n                        type: 'is-success',\n                        dismissible: true,\n                        pauseOnHover: true,\n                      })\n                    \n                })\n                .catch((err)=>{\n                    toast({\n                        message: 'Fluid Input/Output entry ' + err,\n                        type: 'is-danger',\n                        dismissible: true,\n                        pauseOnHover: true,\n                      })\n                }) \n\n          }\n        }\n       \n  return (\n   \n      \n      <div className=\"card\">\n        <div className=\"card-header\">\n          <p className=\"card-header-title\">Fluid Intake and Output Chart</p>\n        </div>\n        <div className=\"card-content vscrollable  pt-0\">\n        <form onSubmit={handleSubmit(onSubmit)}>\n          <div className=\"columns mb-0 mt-0\"> \n          <div className=\"column\"> \n           <div className=\"field \">\n                <label className=\"label is-small\">Date & Time</label>\n                <p className=\"control is-expanded\">\n                  <input ref={register ({ required: true })} name=\"fluid_time\" className=\"input is-small\" type=\"datetime-local\" />\n                </p>\n          </div>\n        </div>\n        <div className=\"column\"> \n        <div className=\"field\">\n          <label className=\"label is-small\">Input/Output?</label>    \n                 <div className=\"control\">\n                     <div className=\"select is-small \">\n                         <select name=\"fluidType\"  ref={register({ required: true })} /* onChange={(e)=>handleChangeMode(e.target.value)} */ className=\"selectadd\" >\n                         <option value=\"\">Choose Type </option>\n                           {fluidTypeOptions.map((option,i)=>(\n                               <option key={i} value={option}> {option}</option>\n                           ))}\n                         </select>\n                     </div>\n                 </div>\n          </div>\n          </div>\n          <div className=\"column\"> \n         \n              </div>\n              </div> \n          <div className=\"columns\"> \n              <div className=\"column\"> \n          <div className=\"field\">\n                <label className=\"label is-small\">Route</label>\n                <p className=\"control is-expanded\">\n                  <input ref={register} name=\"route\" className=\"input is-small\" type=\"text\" />\n                </p>\n              </div>\n              </div>\n              <div className=\"column\"> \n          <div className=\"field\">\n            <label className=\"label is-small\">Fluid </label>\n            <p className=\"control is-expanded\">\n              <input ref={register} name=\"fluid\" className=\"input is-small\" type=\"text\" />\n            </p>\n          </div>\n          </div>\n          <div className=\"column\"> \n          <div className=\"field\">\n            <label className=\"label is-small\">Volume (mls)</label>\n            <p className=\"control is-expanded\">\n              <input ref={register} name=\"volume\" className=\"input is-small\" type=\"number\" />\n            </p>\n          </div>\n          </div>\n         \n         \n\n          </div>\n          <div className=\"field-body\">\n            <div className=\"field\">\n              <label className=\"label is-small\">Comments</label>\n              <div className=\"control\">\n                <input ref={register} name=\"comments\" className=\"input is-small\" type=\"text\"/>\n              </div>\n            </div>\n          </div>\n          <div className=\"columns\">\n          <div className=\"column\">\n          <div className=\"field mt-4\">\n            <button className=\"button is-info is-small\">Enter</button>\n          </div>\n          </div>\n          <div className=\"column\">\n          <div className=\"field mt-4\">\n           {/*  <button className=\"button is-success is-small is-pulled-right\" disabled={chosen} onClick={handleSave}>save</button> */}\n          </div>\n          </div>\n          </div>\n          </form>\n        \n        </div>\n        < div className=\"mx-4 \" >\n        <div className=\"table-container pullup vscrola\">\n                                <table className=\"table is-striped is-narrow is-hoverable is-fullwidth is-scrollable \">\n                                    <thead>\n                                        <tr>\n                                        <th><abbr title=\"Serial No\">S/No</abbr></th>\n                                        <th><abbr title=\"Time\">Date/Time</abbr></th>\n                                        {/* <th>Type</th> */}\n                                       <th><abbr title=\"Last Name\">Route</abbr></th>\n                                       <th><abbr title=\"Class\">Fluid</abbr></th>\n                                        <th><abbr title=\"Location\">Input Volume </abbr></th> \n                                        <th><abbr title=\"Location\">Output Volume </abbr></th> \n                                        <th><abbr title=\"Type\">Comments</abbr></th>\n                                         <th><abbr title=\"Status\">Entry Time</abbr></th>\n                                       {/* <th><abbr title=\"Reason\">Reason</abbr></th>\n                                        <th><abbr title=\"Practitioner\">Practitioner</abbr></th> */}\n                                        {/* <th><abbr title=\"Actions\">Actions</abbr></th> */}\n                                        </tr>\n                                    </thead>\n                                    <tfoot>                                      \n                                    </tfoot>\n                                    <tbody>\n                                        {facilities.map((Client, i)=>(\n\n                                            <tr key={Client._id} onClick={()=>handleRow(Client)}  className={Client._id===(selectedFluid?._id||null)?\"is-selected\":\"\"}>\n                                            <th>{i+1}</th>\n                                            <td><strong>{format(new Date(Client.fluid_time),\"HH:mm:ss\")}</strong></td>\n                                            <th>{Client.route}</th>\n                                            <td>{Client.fluid}</td>\n                                            <td>{Client.fluidType===\"Input\" && Client.volume}</td>\n                                           <td>{Client.fluidType===\"Output\" && Client.volume}</td>\n                                         \n                                            <td>{Client.comments}</td>\n                                          {Client.entrytime &&  <td>{format(new Date(Client.entrytime),\"dd-MM HH:mm:ss\")}</td>}\n                                       \n                                           \n                                            </tr>\n\n                                        ))}\n                                    </tbody>\n                                    </table>\n                                    \n                </div>  \n\n    </div>\n      </div>\n    \n  );\n};\n\nexport default FluidIntakeOutput;\n"]},"metadata":{},"sourceType":"module"}