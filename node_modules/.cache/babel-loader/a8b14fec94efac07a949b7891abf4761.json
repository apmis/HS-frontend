{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _defineProperty from\"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/* eslint-disable */import React,{useState,useContext,useEffect,useRef}from'react';import client from'../../feathers';import{DebounceInput}from'react-debounce-input';import{useForm}from\"react-hook-form\";//import {useHistory} from 'react-router-dom'\nimport{UserContext,ObjectContext}from'../../context';import{toast}from'bulma-toast';import{FacilityCreate}from'../facility/Facility';import{Accordion,AccordionItem,AccordionItemHeading,AccordionItemState,AccordionItemButton,AccordionItemPanel}from'react-accessible-accordion';// Demo styles, see 'Styles' section below for some notes on use.\nimport'react-accessible-accordion/dist/fancy-example.css';// eslint-disable-next-line\nvar searchfacility={};export function FacilitySearch(_ref){var getSearchfacility=_ref.getSearchfacility,clear=_ref.clear;var productServ=client.service('facility');var _useState=useState([]),_useState2=_slicedToArray(_useState,2),facilities=_useState2[0],setFacilities=_useState2[1];// eslint-disable-next-line\nvar _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),searchError=_useState4[0],setSearchError=_useState4[1];// eslint-disable-next-line\nvar _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showPanel=_useState6[0],setShowPanel=_useState6[1];// eslint-disable-next-line\nvar _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),searchMessage=_useState8[0],setSearchMessage=_useState8[1];// eslint-disable-next-line \nvar _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),simpa=_useState10[0],setSimpa=_useState10[1];// eslint-disable-next-line \nvar _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),chosen=_useState12[0],setChosen=_useState12[1];// eslint-disable-next-line \nvar _useState13=useState(0),_useState14=_slicedToArray(_useState13,2),count=_useState14[0],setCount=_useState14[1];var inputEl=useRef(null);var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),val=_useState16[0],setVal=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),productModal=_useState18[0],setProductModal=_useState18[1];var handleRow=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(obj){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return setChosen(true);case 2://alert(\"something is chaning\")\ngetSearchfacility(obj);_context.next=5;return setSimpa(obj.facilityName);case 5:// setSelectedFacility(obj)\nsetShowPanel(false);_context.next=8;return setCount(2);case 8:case\"end\":return _context.stop();}}},_callee);}));return function handleRow(_x){return _ref2.apply(this,arguments);};}();var handleBlur=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:case\"end\":return _context2.stop();}}},_callee2);}));return function handleBlur(_x2){return _ref3.apply(this,arguments);};}();var handleSearch=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(value){var field,_query;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:setVal(value);if(!(value===\"\")){_context3.next=7;break;}setShowPanel(false);getSearchfacility(false);_context3.next=6;return setFacilities([]);case 6:return _context3.abrupt(\"return\");case 7:field='facilityName';//field variable\nif(!(value.length>=3)){_context3.next=12;break;}productServ.find({query:(_query={},_defineProperty(_query,field,{$regex:value,$options:'i'}),_defineProperty(_query,\"$limit\",10),_defineProperty(_query,\"$sort\",{createdAt:-1}),_query)}).then(function(res){// console.log(\"product  fetched successfully\") \n//console.log(res.data) \nsetFacilities(res.data);setSearchMessage(\" product  fetched successfully\");setShowPanel(true);}).catch(function(err){toast({message:'Error creating Services '+err,type:'is-danger',dismissible:true,pauseOnHover:true});});_context3.next=15;break;case 12:// console.log(\"less than 3 \")\n//console.log(val)\nsetShowPanel(false);_context3.next=15;return setFacilities([]);case 15:case\"end\":return _context3.stop();}}},_callee3);}));return function handleSearch(_x3){return _ref4.apply(this,arguments);};}();var handleAddproduct=function handleAddproduct(){setProductModal(true);};var handlecloseModal=function handlecloseModal(){setProductModal(false);handleSearch(val);};useEffect(function(){if(clear){// console.log(\"success has changed\",clear)\nsetSimpa(\"\");// clear=!clear\n}return function(){};},[clear]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsx(\"div\",{className:\"control has-icons-left  \",children:/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown \".concat(showPanel?\"is-active\":\"\"),style:{width:\"100%\"},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-trigger\",style:{width:\"100%\"},children:[/*#__PURE__*/_jsx(DebounceInput,{className:\"input is-small \",type:\"text\",placeholder:\"Search Organization\",value:simpa,minLength:3,debounceTimeout:400,onBlur:function onBlur(e){return handleBlur(e);},onChange:function onChange(e){return handleSearch(e.target.value);},inputRef:inputEl}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-search\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-menu\",style:{width:\"100%\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-content\",children:[facilities.length>0?\"\":/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-item\",onClick:handleAddproduct,children:[\" \",/*#__PURE__*/_jsxs(\"span\",{children:[\"Add \",val,\" to facility list\"]}),\" \"]}),facilities.map(function(facility,i){return/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-item\",onClick:function onClick(){return handleRow(facility);},children:/*#__PURE__*/_jsx(\"span\",{children:facility.facilityName})},facility._id);})]})})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal \".concat(productModal?\"is-active\":\"\"),children:[/*#__PURE__*/_jsx(\"div\",{className:\"modal-background\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-card\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"modal-card-head\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"modal-card-title\",children:\"Facility\"}),/*#__PURE__*/_jsx(\"button\",{className:\"delete\",\"aria-label\":\"close\",onClick:handlecloseModal})]}),/*#__PURE__*/_jsx(\"section\",{className:\"modal-card-body\",children:/*#__PURE__*/_jsx(FacilityCreate,{})})]})]})]});}export function OrgFacilitySearch(_ref5){var getSearchfacility=_ref5.getSearchfacility,clear=_ref5.clear;var productServ=client.service('facility');var orgServ=client.service('organizationclient');var _useState19=useState([]),_useState20=_slicedToArray(_useState19,2),facilities=_useState20[0],setFacilities=_useState20[1];var _useContext=useContext(UserContext),user=_useContext.user;// eslint-disable-next-line\nvar _useState21=useState(false),_useState22=_slicedToArray(_useState21,2),searchError=_useState22[0],setSearchError=_useState22[1];// eslint-disable-next-line\nvar _useState23=useState(false),_useState24=_slicedToArray(_useState23,2),showPanel=_useState24[0],setShowPanel=_useState24[1];// eslint-disable-next-line\nvar _useState25=useState(\"\"),_useState26=_slicedToArray(_useState25,2),searchMessage=_useState26[0],setSearchMessage=_useState26[1];// eslint-disable-next-line \nvar _useState27=useState(\"\"),_useState28=_slicedToArray(_useState27,2),simpa=_useState28[0],setSimpa=_useState28[1];// eslint-disable-next-line \nvar _useState29=useState(false),_useState30=_slicedToArray(_useState29,2),chosen=_useState30[0],setChosen=_useState30[1];// eslint-disable-next-line \nvar _useState31=useState(0),_useState32=_slicedToArray(_useState31,2),count=_useState32[0],setCount=_useState32[1];var inputEl=useRef(null);var _useState33=useState(\"\"),_useState34=_slicedToArray(_useState33,2),val=_useState34[0],setVal=_useState34[1];var _useState35=useState(false),_useState36=_slicedToArray(_useState35,2),productModal=_useState36[0],setProductModal=_useState36[1];var handleRow=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(obj){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return setChosen(true);case 2://alert(\"something is chaning\")\ngetSearchfacility(obj);_context4.next=5;return setSimpa(obj.facilityName+\",\"+obj.facilityCity);case 5:// setSelectedFacility(obj)\nsetShowPanel(false);_context4.next=8;return setCount(2);case 8:case\"end\":return _context4.stop();}}},_callee4);}));return function handleRow(_x4){return _ref6.apply(this,arguments);};}();var handleBlur=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(e){return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:case\"end\":return _context5.stop();}}},_callee5);}));return function handleBlur(_x5){return _ref7.apply(this,arguments);};}();var handleSearch=/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(value){var field;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:setVal(value);if(!(value===\"\")){_context6.next=7;break;}setShowPanel(false);getSearchfacility(false);_context6.next=6;return setFacilities([]);case 6:return _context6.abrupt(\"return\");case 7:field='facilityName';//field variable\nif(!(value.length>=3)){_context6.next=12;break;}//productServ.  orgServ facility:user.currentEmployee.facilityDetail._id,\norgServ.find({query:{//service\n/*   [field]: {\n                     $regex:value,\n                     $options:'i'\n                    \n                 }, */$search:value,relationshiptype:\"managedcare\",facility:user.currentEmployee.facilityDetail._id,$limit:100,$sort:{createdAt:-1}}}).then(function(res){console.log(\"product  fetched successfully\");console.log(res.data);setFacilities(res.data);setSearchMessage(\" product  fetched successfully\");setShowPanel(true);}).catch(function(err){toast({message:'Error creating Services '+err,type:'is-danger',dismissible:true,pauseOnHover:true});});_context6.next=15;break;case 12:// console.log(\"less than 3 \")\n//console.log(val)\nsetShowPanel(false);_context6.next=15;return setFacilities([]);case 15:case\"end\":return _context6.stop();}}},_callee6);}));return function handleSearch(_x6){return _ref8.apply(this,arguments);};}();var handleAddproduct=function handleAddproduct(){setProductModal(true);};var handlecloseModal=function handlecloseModal(){setProductModal(false);handleSearch(val);};useEffect(function(){if(clear){// console.log(\"success has changed\",clear)\nsetSimpa(\"\");// clear=!clear\n}return function(){};},[clear]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsx(\"div\",{className:\"control has-icons-left  \",children:/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown \".concat(showPanel?\"is-active\":\"\"),style:{width:\"100%\"},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-trigger\",style:{width:\"100%\"},children:[/*#__PURE__*/_jsx(DebounceInput,{className:\"input is-small \",type:\"text\",placeholder:\"Search Organization\",value:simpa,minLength:3,debounceTimeout:400,onBlur:function onBlur(e){return handleBlur(e);},onChange:function onChange(e){return handleSearch(e.target.value);},inputRef:inputEl}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-search\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-menu\",style:{width:\"100%\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-content\",children:[facilities.length>0?\"\":/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-item\"/* onClick={handleAddproduct} */,children:[\" \",/*#__PURE__*/_jsxs(\"span\",{children:[val,\" is not on your provider facility list\"]}),\" \"]}),facilities.map(function(facility,i){return/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-item\",onClick:function onClick(){return handleRow(facility.organizationDetail);},children:/*#__PURE__*/_jsxs(\"span\",{children:[facility.organizationDetail.facilityName,\",\",facility.organizationDetail.facilityCity,\" \"]})},facility.organizationDetail._id);})]})})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal \".concat(productModal?\"is-active\":\"\"),children:[/*#__PURE__*/_jsx(\"div\",{className:\"modal-background\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-card\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"modal-card-head\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"modal-card-title\",children:\"Facility\"}),/*#__PURE__*/_jsx(\"button\",{className:\"delete\",\"aria-label\":\"close\",onClick:handlecloseModal})]}),/*#__PURE__*/_jsx(\"section\",{className:\"modal-card-body\",children:/*#__PURE__*/_jsx(FacilityCreate,{})})]})]})]});}export function SponsorSearch(_ref9){var getSearchfacility=_ref9.getSearchfacility,clear=_ref9.clear;var productServ=client.service('facility');var orgServ=client.service('organizationclient');var _useState37=useState([]),_useState38=_slicedToArray(_useState37,2),facilities=_useState38[0],setFacilities=_useState38[1];var _useContext2=useContext(UserContext),user=_useContext2.user;// eslint-disable-next-line\nvar _useState39=useState(false),_useState40=_slicedToArray(_useState39,2),searchError=_useState40[0],setSearchError=_useState40[1];// eslint-disable-next-line\nvar _useState41=useState(false),_useState42=_slicedToArray(_useState41,2),showPanel=_useState42[0],setShowPanel=_useState42[1];// eslint-disable-next-line\nvar _useState43=useState(\"\"),_useState44=_slicedToArray(_useState43,2),searchMessage=_useState44[0],setSearchMessage=_useState44[1];// eslint-disable-next-line \nvar _useState45=useState(\"\"),_useState46=_slicedToArray(_useState45,2),simpa=_useState46[0],setSimpa=_useState46[1];// eslint-disable-next-line \nvar _useState47=useState(false),_useState48=_slicedToArray(_useState47,2),chosen=_useState48[0],setChosen=_useState48[1];// eslint-disable-next-line \nvar _useState49=useState(0),_useState50=_slicedToArray(_useState49,2),count=_useState50[0],setCount=_useState50[1];var inputEl=useRef(null);var _useState51=useState(\"\"),_useState52=_slicedToArray(_useState51,2),val=_useState52[0],setVal=_useState52[1];var _useState53=useState(false),_useState54=_slicedToArray(_useState53,2),productModal=_useState54[0],setProductModal=_useState54[1];var handleRow=/*#__PURE__*/function(){var _ref10=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(obj){return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return setChosen(true);case 2://alert(\"something is chaning\")\ngetSearchfacility(obj);_context7.next=5;return setSimpa(obj.facilityName+\",\"+obj.facilityCity);case 5:// setSelectedFacility(obj)\nsetShowPanel(false);_context7.next=8;return setCount(2);case 8:case\"end\":return _context7.stop();}}},_callee7);}));return function handleRow(_x7){return _ref10.apply(this,arguments);};}();var handleBlur=/*#__PURE__*/function(){var _ref11=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(e){return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:case\"end\":return _context8.stop();}}},_callee8);}));return function handleBlur(_x8){return _ref11.apply(this,arguments);};}();var handleSearch=/*#__PURE__*/function(){var _ref12=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(value){var field;return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:setVal(value);if(!(value===\"\")){_context9.next=7;break;}setShowPanel(false);getSearchfacility(false);_context9.next=6;return setFacilities([]);case 6:return _context9.abrupt(\"return\");case 7:field='facilityName';//field variable\nif(!(value.length>=3)){_context9.next=12;break;}//productServ.  orgServ facility:user.currentEmployee.facilityDetail._id,\norgServ.find({query:{//service\n/*   [field]: {\n                     $regex:value,\n                     $options:'i'       \n                 }, */$search:value,relationshiptype:\"sponsor\",facility:user.currentEmployee.facilityDetail._id,$limit:100,$sort:{createdAt:-1}}}).then(function(res){console.log(\"product  fetched successfully\");console.log(res.data);setFacilities(res.data);setSearchMessage(\" product  fetched successfully\");setShowPanel(true);}).catch(function(err){toast({message:'Error creating Services '+err,type:'is-danger',dismissible:true,pauseOnHover:true});});_context9.next=15;break;case 12:// console.log(\"less than 3 \")\n//console.log(val)\nsetShowPanel(false);_context9.next=15;return setFacilities([]);case 15:case\"end\":return _context9.stop();}}},_callee9);}));return function handleSearch(_x9){return _ref12.apply(this,arguments);};}();var handleAddproduct=function handleAddproduct(){setProductModal(true);};var handlecloseModal=function handlecloseModal(){setProductModal(false);handleSearch(val);};useEffect(function(){if(clear){// console.log(\"success has changed\",clear)\nsetSimpa(\"\");// clear=!clear\n}return function(){};},[clear]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsx(\"div\",{className:\"control has-icons-left  \",children:/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown \".concat(showPanel?\"is-active\":\"\"),style:{width:\"100%\"},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-trigger\",style:{width:\"100%\"},children:[/*#__PURE__*/_jsx(DebounceInput,{className:\"input is-small \",type:\"text\",placeholder:\"Search Organization\",value:simpa,minLength:3,debounceTimeout:400,onBlur:function onBlur(e){return handleBlur(e);},onChange:function onChange(e){return handleSearch(e.target.value);},inputRef:inputEl}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-search\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-menu\",style:{width:\"100%\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-content\",children:[facilities.length>0?\"\":/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-item\"/* onClick={handleAddproduct} */,children:[\" \",/*#__PURE__*/_jsxs(\"span\",{children:[val,\" is not on your Sponsor list\"]}),\" \"]}),facilities.map(function(facility,i){return/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-item\",onClick:function onClick(){return handleRow(facility.organizationDetail);},children:/*#__PURE__*/_jsxs(\"span\",{children:[facility.organizationDetail.facilityName,\",\",facility.organizationDetail.facilityCity,\" \"]})},facility.organizationDetail._id);})]})})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal \".concat(productModal?\"is-active\":\"\"),children:[/*#__PURE__*/_jsx(\"div\",{className:\"modal-background\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-card\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"modal-card-head\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"modal-card-title\",children:\"Facility\"}),/*#__PURE__*/_jsx(\"button\",{className:\"delete\",\"aria-label\":\"close\",onClick:handlecloseModal})]}),/*#__PURE__*/_jsx(\"section\",{className:\"modal-card-body\",children:/*#__PURE__*/_jsx(FacilityCreate,{})})]})]})]});}","map":{"version":3,"sources":["/home/mfybaby/Documents/HealthStack2/HS-frontend/src/components/helpers/FacilitySearch.js"],"names":["React","useState","useContext","useEffect","useRef","client","DebounceInput","useForm","UserContext","ObjectContext","toast","FacilityCreate","Accordion","AccordionItem","AccordionItemHeading","AccordionItemState","AccordionItemButton","AccordionItemPanel","searchfacility","FacilitySearch","getSearchfacility","clear","productServ","service","facilities","setFacilities","searchError","setSearchError","showPanel","setShowPanel","searchMessage","setSearchMessage","simpa","setSimpa","chosen","setChosen","count","setCount","inputEl","val","setVal","productModal","setProductModal","handleRow","obj","facilityName","handleBlur","e","handleSearch","value","field","length","find","query","$regex","$options","createdAt","then","res","data","catch","err","message","type","dismissible","pauseOnHover","handleAddproduct","handlecloseModal","width","target","map","facility","i","_id","OrgFacilitySearch","orgServ","user","facilityCity","$search","relationshiptype","currentEmployee","facilityDetail","$limit","$sort","console","log","organizationDetail","SponsorSearch"],"mappings":"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","sourcesContent":["/* eslint-disable */\nimport React, {useState,useContext, useEffect,useRef} from 'react'\nimport client from '../../feathers'\nimport {DebounceInput} from 'react-debounce-input';\nimport { useForm } from \"react-hook-form\";\n//import {useHistory} from 'react-router-dom'\nimport {UserContext,ObjectContext} from '../../context'\nimport {toast} from 'bulma-toast'\nimport {FacilityCreate} from '../facility/Facility'\nimport {\n    Accordion,\n    AccordionItem,\n    AccordionItemHeading,\n    AccordionItemState,\n    AccordionItemButton,\n    AccordionItemPanel,\n} from 'react-accessible-accordion';\n\n// Demo styles, see 'Styles' section below for some notes on use.\nimport 'react-accessible-accordion/dist/fancy-example.css';\n// eslint-disable-next-line\nconst searchfacility={};\n\nexport  function FacilitySearch({getSearchfacility,clear}) {\n    \n    const productServ=client.service('facility')\n    const [facilities,setFacilities]=useState([])\n     // eslint-disable-next-line\n     const [searchError, setSearchError] =useState(false)\n     // eslint-disable-next-line\n    const [showPanel, setShowPanel] =useState(false)\n     // eslint-disable-next-line\n   const [searchMessage, setSearchMessage] = useState(\"\") \n   // eslint-disable-next-line \n   const [simpa,setSimpa]=useState(\"\")\n   // eslint-disable-next-line \n   const [chosen,setChosen]=useState(false)\n   // eslint-disable-next-line \n   const [count,setCount]=useState(0)\n   const inputEl=useRef(null)\n   const [val,setVal]=useState(\"\")\n    const [productModal,setProductModal]=useState(false)\n\n   const handleRow= async(obj)=>{\n        await setChosen(true)\n        //alert(\"something is chaning\")\n       getSearchfacility(obj)\n       \n       await setSimpa(obj.facilityName)\n       \n        // setSelectedFacility(obj)\n        setShowPanel(false)\n        await setCount(2)\n        /* const    newfacilityModule={\n            selectedFacility:facility,\n            show :'detail'\n        }\n   await setState((prevstate)=>({...prevstate, facilityModule:newfacilityModule})) */\n   //console.log(state)\n}\n    const handleBlur=async(e)=>{\n        /*  if (count===2){\n             console.log(\"stuff was chosen\")\n         }\n        */\n       /*  console.log(\"blur\")\n         setShowPanel(false)\n        console.log(JSON.stringify(simpa))\n        if (simpa===\"\"){\n            console.log(facilities.length)\n            setSimpa(\"abc\")\n            setSimpa(\"\")\n            setFacilities([])\n            inputEl.current.setValue=\"\"\n        }\n        console.log(facilities.length)\n        console.log(inputEl.current) */\n    }\n\n    const handleSearch=async(value)=>{\n        setVal(value)\n        if (value===\"\"){\n            setShowPanel(false)\n            getSearchfacility(false)\n            await setFacilities([])\n            return\n        }\n        const field='facilityName' //field variable\n\n       \n        if (value.length>=3 ){\n            productServ.find({query: {     //service\n                 [field]: {\n                     $regex:value,\n                     $options:'i'\n                    \n                 },\n                 $limit:10,\n                 $sort: {\n                     createdAt: -1\n                   }\n                     }}).then((res)=>{\n             // console.log(\"product  fetched successfully\") \n              //console.log(res.data) \n                setFacilities(res.data)\n                 setSearchMessage(\" product  fetched successfully\")\n                 setShowPanel(true)\n             })\n             .catch((err)=>{\n                toast({\n                    message: 'Error creating Services ' + err,\n                    type: 'is-danger',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n             })\n         }\n        else{\n           // console.log(\"less than 3 \")\n            //console.log(val)\n            setShowPanel(false)\n            await setFacilities([])\n            //console.log(facilities)\n        }\n    }\n\n    const handleAddproduct =()=>{\n        setProductModal(true) \n    }\n    const handlecloseModal =()=>{\n        setProductModal(false)\n        handleSearch(val)\n    }\n    useEffect(() => {\n       if (clear){\n          // console.log(\"success has changed\",clear)\n           setSimpa(\"\")\n          // clear=!clear\n       }\n        return () => {\n            \n        }\n    }, [clear] )\n    return (\n        <div>\n            <div className=\"field\">\n                <div className=\"control has-icons-left  \">\n                    <div className={`dropdown ${showPanel?\"is-active\":\"\"}`} style={{width:\"100%\"}}>\n                        <div className=\"dropdown-trigger\" style={{width:\"100%\"}}>\n                            <DebounceInput className=\"input is-small \" \n                                type=\"text\" placeholder=\"Search Organization\"\n                                value={simpa}\n                                minLength={3}\n                                debounceTimeout={400}\n                                onBlur={(e)=>handleBlur(e)}\n                                onChange={(e)=>handleSearch(e.target.value)}\n                                inputRef={inputEl}\n                                  />\n                            <span className=\"icon is-small is-left\">\n                                <i className=\"fas fa-search\"></i>\n                            </span>\n                        </div>\n                        {/* {searchError&&<div>{searchMessage}</div>} */}\n                        <div className=\"dropdown-menu\" style={{width:\"100%\"}} >\n                            <div className=\"dropdown-content\">\n                          { facilities.length>0?\"\":<div className=\"dropdown-item\" onClick={handleAddproduct}> <span>Add {val} to facility list</span> </div>}\n\n                              {facilities.map((facility, i)=>(\n                                    \n                                    <div className=\"dropdown-item\" key={facility._id} onClick={()=>handleRow(facility)}>\n                                        \n                                        <span>{facility.facilityName}</span>\n                                        \n                                    </div>\n                                    \n                                    ))}\n                                    \n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div className={`modal ${productModal?\"is-active\":\"\"}` }>\n                                    <div className=\"modal-background\"></div>\n                                    <div className=\"modal-card\">\n                                        <header className=\"modal-card-head\">\n                                        <p className=\"modal-card-title\">Facility</p>\n                                        <button className=\"delete\" aria-label=\"close\"  onClick={handlecloseModal}></button>\n                                        </header>\n                                        <section className=\"modal-card-body\">\n                                        {/* <StoreList standalone=\"true\" /> */}\n                                        <FacilityCreate />\n                                        </section>\n                                        {/* <footer className=\"modal-card-foot\">\n                                        <button className=\"button is-success\">Save changes</button>\n                                        <button className=\"button\">Cancel</button>\n                                        </footer> */}\n                                    </div>\n                                </div>       \n        </div>\n    )\n}\n\nexport  function OrgFacilitySearch({getSearchfacility,clear}) {\n    \n    const productServ=client.service('facility')\n    const orgServ=client.service('organizationclient')\n    const [facilities,setFacilities]=useState([])\n    const {user} = useContext(UserContext) \n     // eslint-disable-next-line\n     const [searchError, setSearchError] =useState(false)\n     // eslint-disable-next-line\n    const [showPanel, setShowPanel] =useState(false)\n     // eslint-disable-next-line\n   const [searchMessage, setSearchMessage] = useState(\"\") \n   // eslint-disable-next-line \n   const [simpa,setSimpa]=useState(\"\")\n   // eslint-disable-next-line \n   const [chosen,setChosen]=useState(false)\n   // eslint-disable-next-line \n   const [count,setCount]=useState(0)\n   const inputEl=useRef(null)\n   const [val,setVal]=useState(\"\")\n    const [productModal,setProductModal]=useState(false)\n\n   const handleRow= async(obj)=>{\n        await setChosen(true)\n        //alert(\"something is chaning\")\n       getSearchfacility(obj)\n       \n       await setSimpa(obj.facilityName +\",\"+ obj.facilityCity)\n       \n        // setSelectedFacility(obj)\n        setShowPanel(false)\n        await setCount(2)\n        /* const    newfacilityModule={\n            selectedFacility:facility,\n            show :'detail'\n        }\n   await setState((prevstate)=>({...prevstate, facilityModule:newfacilityModule})) */\n   //console.log(state)\n}\n    const handleBlur=async(e)=>{\n        /*  if (count===2){\n             console.log(\"stuff was chosen\")\n         }\n        */\n       /*  console.log(\"blur\")\n         setShowPanel(false)\n        console.log(JSON.stringify(simpa))\n        if (simpa===\"\"){\n            console.log(facilities.length)\n            setSimpa(\"abc\")\n            setSimpa(\"\")\n            setFacilities([])\n            inputEl.current.setValue=\"\"\n        }\n        console.log(facilities.length)\n        console.log(inputEl.current) */\n    }\n\n    const handleSearch=async(value)=>{\n        setVal(value)\n        if (value===\"\"){\n            setShowPanel(false)\n            getSearchfacility(false)\n            await setFacilities([])\n            return\n        }\n        const field='facilityName' //field variable\n\n       \n        if (value.length>=3 ){\n            //productServ.  orgServ facility:user.currentEmployee.facilityDetail._id,\n            orgServ.find({query: {     //service\n               /*   [field]: {\n                     $regex:value,\n                     $options:'i'\n                    \n                 }, */\n                 $search:value,\n                 relationshiptype:\"managedcare\",\n                 facility:user.currentEmployee.facilityDetail._id,\n                 $limit:100,\n                 $sort: {\n                     createdAt: -1\n                   }\n                     }}).then((res)=>{\n             console.log(\"product  fetched successfully\") \n              console.log(res.data) \n                setFacilities(res.data)\n                 setSearchMessage(\" product  fetched successfully\")\n                 setShowPanel(true)\n             })\n             .catch((err)=>{\n                toast({\n                    message: 'Error creating Services ' + err,\n                    type: 'is-danger',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n             })\n         }\n        else{\n           // console.log(\"less than 3 \")\n            //console.log(val)\n            setShowPanel(false)\n            await setFacilities([])\n            //console.log(facilities)\n        }\n    }\n\n    const handleAddproduct =()=>{\n        setProductModal(true) \n    }\n    const handlecloseModal =()=>{\n        setProductModal(false)\n        handleSearch(val)\n    }\n    useEffect(() => {\n       if (clear){\n          // console.log(\"success has changed\",clear)\n           setSimpa(\"\")\n          // clear=!clear\n       }\n        return () => {\n            \n        }\n    }, [clear] )\n    return (\n        <div>\n            <div className=\"field\">\n                <div className=\"control has-icons-left  \">\n                    <div className={`dropdown ${showPanel?\"is-active\":\"\"}`} style={{width:\"100%\"}}>\n                        <div className=\"dropdown-trigger\" style={{width:\"100%\"}}>\n                            <DebounceInput className=\"input is-small \" \n                                type=\"text\" placeholder=\"Search Organization\"\n                                value={simpa}\n                                minLength={3}\n                                debounceTimeout={400}\n                                onBlur={(e)=>handleBlur(e)}\n                                onChange={(e)=>handleSearch(e.target.value)}\n                                inputRef={inputEl}\n                                  />\n                            <span className=\"icon is-small is-left\">\n                                <i className=\"fas fa-search\"></i>\n                            </span>\n                        </div>\n                        {/* {searchError&&<div>{searchMessage}</div>} */}\n                        <div className=\"dropdown-menu\" style={{width:\"100%\"}} >\n                            <div className=\"dropdown-content\">\n                          { facilities.length>0?\"\":<div className=\"dropdown-item\" /* onClick={handleAddproduct} */> <span>{val} is not on your provider facility list</span> </div>}\n\n                              {facilities.map((facility, i)=>(\n                                    \n                                    <div className=\"dropdown-item\" key={facility.organizationDetail._id} onClick={()=>handleRow(facility.organizationDetail)}>\n                                        \n                                        <span>{facility.organizationDetail.facilityName},{facility.organizationDetail.facilityCity} </span>\n                                        \n                                    </div>\n                                    \n                                    ))}\n                                    \n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div className={`modal ${productModal?\"is-active\":\"\"}` }>\n                                    <div className=\"modal-background\"></div>\n                                    <div className=\"modal-card\">\n                                        <header className=\"modal-card-head\">\n                                        <p className=\"modal-card-title\">Facility</p>\n                                        <button className=\"delete\" aria-label=\"close\"  onClick={handlecloseModal}></button>\n                                        </header>\n                                        <section className=\"modal-card-body\">\n                                        {/* <StoreList standalone=\"true\" /> */}\n                                        <FacilityCreate />\n                                        </section>\n                                        {/* <footer className=\"modal-card-foot\">\n                                        <button className=\"button is-success\">Save changes</button>\n                                        <button className=\"button\">Cancel</button>\n                                        </footer> */}\n                                    </div>\n                                </div>       \n        </div>\n    )\n}\n\nexport  function SponsorSearch({getSearchfacility,clear}) {\n    \n    const productServ=client.service('facility')\n    const orgServ=client.service('organizationclient')\n    const [facilities,setFacilities]=useState([])\n    const {user} = useContext(UserContext) \n     // eslint-disable-next-line\n     const [searchError, setSearchError] =useState(false)\n     // eslint-disable-next-line\n    const [showPanel, setShowPanel] =useState(false)\n     // eslint-disable-next-line\n   const [searchMessage, setSearchMessage] = useState(\"\") \n   // eslint-disable-next-line \n   const [simpa,setSimpa]=useState(\"\")\n   // eslint-disable-next-line \n   const [chosen,setChosen]=useState(false)\n   // eslint-disable-next-line \n   const [count,setCount]=useState(0)\n   const inputEl=useRef(null)\n   const [val,setVal]=useState(\"\")\n    const [productModal,setProductModal]=useState(false)\n\n   const handleRow= async(obj)=>{\n        await setChosen(true)\n        //alert(\"something is chaning\")\n       getSearchfacility(obj)\n       \n       await setSimpa(obj.facilityName +\",\"+ obj.facilityCity)\n       \n        // setSelectedFacility(obj)\n        setShowPanel(false)\n        await setCount(2)\n        /* const    newfacilityModule={\n            selectedFacility:facility,\n            show :'detail'\n        }\n   await setState((prevstate)=>({...prevstate, facilityModule:newfacilityModule})) */\n   //console.log(state)\n}\n    const handleBlur=async(e)=>{\n        /*  if (count===2){\n             console.log(\"stuff was chosen\")\n         }\n        */\n       /*  console.log(\"blur\")\n         setShowPanel(false)\n        console.log(JSON.stringify(simpa))\n        if (simpa===\"\"){\n            console.log(facilities.length)\n            setSimpa(\"abc\")\n            setSimpa(\"\")\n            setFacilities([])\n            inputEl.current.setValue=\"\"\n        }\n        console.log(facilities.length)\n        console.log(inputEl.current) */\n    }\n\n    const handleSearch=async(value)=>{\n        setVal(value)\n        if (value===\"\"){\n            setShowPanel(false)\n            getSearchfacility(false)\n            await setFacilities([])\n            return\n        }\n        const field='facilityName' //field variable\n\n       \n        if (value.length>=3 ){\n            //productServ.  orgServ facility:user.currentEmployee.facilityDetail._id,\n            orgServ.find({query: {     //service\n               /*   [field]: {\n                     $regex:value,\n                     $options:'i'       \n                 }, */\n                 $search:value,\n                 relationshiptype:\"sponsor\",\n                 facility:user.currentEmployee.facilityDetail._id,\n                 $limit:100,\n                 $sort: {\n                     createdAt: -1\n                   }\n                     }}).then((res)=>{\n             console.log(\"product  fetched successfully\") \n              console.log(res.data) \n                setFacilities(res.data)\n                 setSearchMessage(\" product  fetched successfully\")\n                 setShowPanel(true)\n             })\n             .catch((err)=>{\n                toast({\n                    message: 'Error creating Services ' + err,\n                    type: 'is-danger',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n             })\n         }\n        else{\n           // console.log(\"less than 3 \")\n            //console.log(val)\n            setShowPanel(false)\n            await setFacilities([])\n            //console.log(facilities)\n        }\n    }\n\n    const handleAddproduct =()=>{\n        setProductModal(true) \n    }\n    const handlecloseModal =()=>{\n        setProductModal(false)\n        handleSearch(val)\n    }\n    useEffect(() => {\n       if (clear){\n          // console.log(\"success has changed\",clear)\n           setSimpa(\"\")\n          // clear=!clear\n       }\n        return () => {\n            \n        }\n    }, [clear] )\n    return (\n        <div>\n            <div className=\"field\">\n                <div className=\"control has-icons-left  \">\n                    <div className={`dropdown ${showPanel?\"is-active\":\"\"}`} style={{width:\"100%\"}}>\n                        <div className=\"dropdown-trigger\" style={{width:\"100%\"}}>\n                            <DebounceInput className=\"input is-small \" \n                                type=\"text\" placeholder=\"Search Organization\"\n                                value={simpa}\n                                minLength={3}\n                                debounceTimeout={400}\n                                onBlur={(e)=>handleBlur(e)}\n                                onChange={(e)=>handleSearch(e.target.value)}\n                                inputRef={inputEl}\n                                  />\n                            <span className=\"icon is-small is-left\">\n                                <i className=\"fas fa-search\"></i>\n                            </span>\n                        </div>\n                        {/* {searchError&&<div>{searchMessage}</div>} */}\n                        <div className=\"dropdown-menu\" style={{width:\"100%\"}} >\n                            <div className=\"dropdown-content\">\n                          { facilities.length>0?\"\":<div className=\"dropdown-item\" /* onClick={handleAddproduct} */> <span>{val} is not on your Sponsor list</span> </div>}\n\n                              {facilities.map((facility, i)=>(\n                                    \n                                    <div className=\"dropdown-item\" key={facility.organizationDetail._id} onClick={()=>handleRow(facility.organizationDetail)}>\n                                        \n                                        <span>{facility.organizationDetail.facilityName},{facility.organizationDetail.facilityCity} </span>\n                                        \n                                    </div>\n                                    \n                                    ))}\n                                    \n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div className={`modal ${productModal?\"is-active\":\"\"}` }>\n                                    <div className=\"modal-background\"></div>\n                                    <div className=\"modal-card\">\n                                        <header className=\"modal-card-head\">\n                                        <p className=\"modal-card-title\">Facility</p>\n                                        <button className=\"delete\" aria-label=\"close\"  onClick={handlecloseModal}></button>\n                                        </header>\n                                        <section className=\"modal-card-body\">\n                                        {/* <StoreList standalone=\"true\" /> */}\n                                        <FacilityCreate />\n                                        </section>\n                                        {/* <footer className=\"modal-card-foot\">\n                                        <button className=\"button is-success\">Save changes</button>\n                                        <button className=\"button\">Cancel</button>\n                                        </footer> */}\n                                    </div>\n                                </div>       \n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}