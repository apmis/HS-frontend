{"ast":null,"code":"import _objectSpread from\"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import _defineProperty from\"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/* eslint-disable */import React,{useState,useContext,useEffect,useRef}from'react';import{useRouteMatch,useHistory}from'react-router-dom';//Route, Switch,Link, NavLink,\nimport client from'../../feathers';import{DebounceInput}from'react-debounce-input';import{useForm}from\"react-hook-form\";//import {useHistory} from 'react-router-dom'\nimport{UserContext,ObjectContext}from'../../context';import{toast}from'bulma-toast';import{formatDistanceToNowStrict}from'date-fns';import ClientFinInfo from'./ClientFinInfo';import BillServiceCreate from'../Finance/BillServiceCreate';import{AppointmentCreate}from'../Clinic/Appointments';import InfiniteScroll from\"react-infinite-scroll-component\";import ClientBilledPrescription from'../Finance/ClientBill';import ClientGroup from'./ClientGroup';import DatePicker from\"react-datepicker\";import\"react-datepicker/dist/react-datepicker.css\";// eslint-disable-next-line\nvar searchfacility={};export default function Client(){var _useContext=useContext(ObjectContext),state=_useContext.state;//,setState\n// eslint-disable-next-line\nvar _useState=useState(),_useState2=_slicedToArray(_useState,2),selectedClient=_useState2[0],setSelectedClient=_useState2[1];//const [showState,setShowState]=useState() //create|modify|detail\nreturn/*#__PURE__*/_jsx(\"section\",{className:\"section remPadTop\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"columns \",children:[/*#__PURE__*/_jsx(\"div\",{className:\"column is-6 \",children:/*#__PURE__*/_jsx(ClientList,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"column is-6 \",children:[state.ClientModule.show==='List'&&/*#__PURE__*/_jsx(ClientList,{}),state.ClientModule.show==='create'&&/*#__PURE__*/_jsx(ClientCreate,{}),state.ClientModule.show==='detail'&&/*#__PURE__*/_jsx(ClientDetail,{}),state.ClientModule.show==='modify'&&/*#__PURE__*/_jsx(ClientModify,{Client:selectedClient})]})]})});}export function ClientCreate(){var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,setValue=_useForm.setValue,getValues=_useForm.getValues,reset=_useForm.reset;//, watch, errors, reset \n// eslint-disable-next-line\nvar _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];// eslint-disable-next-line\nvar _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),success=_useState6[0],setSuccess=_useState6[1];// eslint-disable-next-line\nvar _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),message=_useState8[0],setMessage=_useState8[1];// eslint-disable-next-line\nvar _useState9=useState(),_useState10=_slicedToArray(_useState9,2),facility=_useState10[0],setFacility=_useState10[1];var ClientServ=client.service('client');var mpiServ=client.service('mpi');//const history = useHistory()\nvar _useContext2=useContext(UserContext),user=_useContext2.user;//,setUser\nvar _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),billModal=_useState12[0],setBillModal=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),patList=_useState14[0],setPatList=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),dependant=_useState16[0],setDependant=_useState16[1];// eslint-disable-next-line\nvar _useState17=useState(),_useState18=_slicedToArray(_useState17,2),currentUser=_useState18[0],setCurrentUser=_useState18[1];var _useState19=useState(),_useState20=_slicedToArray(_useState19,2),date=_useState20[0],setDate=_useState20[1];// eslint-disable-next-line\nvar getSearchfacility=function getSearchfacility(obj){setValue(\"facility\",obj._id,{shouldValidate:true,shouldDirty:true});};var handleDate=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(date){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setDate(date);case 1:case\"end\":return _context.stop();}}},_callee);}));return function handleDate(_x){return _ref.apply(this,arguments);};}();useEffect(function(){setCurrentUser(user);//console.log(currentUser)\nreturn function(){};},[user]);//check user for facility or get list of facility  \nuseEffect(function(){//setFacility(user.activeClient.FacilityId)//\nif(!user.stacker){/*    console.log(currentUser)\n        setValue(\"facility\", user.currentEmployee.facilityDetail._id,  {\n            shouldValidate: true,\n            shouldDirty: true\n        })  */}});var checkClient=function checkClient(){var data=getValues();data.dob=date;var obj={firstname:data.firstname,middlename:data.middlename,lastname:data.lastname,gender:data.gender,email:data.email,phone:data.phone,dob:data.dob};/* find if there is a match with the paramters entered\n          run search if \n            1.phone no alone or  \n            2.email alone or \n            3.both is entered\n            4. all other 5 parameters\n\n        */var query={};if(!!data.phone){query.phone=data.phone;checkQuery(query);}if(!!data.email){query.email=data.email;checkQuery(query);}if(!!data.firstname&&!!data.lastname&&!!data.gender&&!!data.dob){// console.log(\"simpa\")\ndata.middlename=data.middlename||\"\";query.gender=data.gender,query.dob=data.dob,query.$or=[{firstname:data.firstname,lastname:data.lastname,middlename:data.middlename},{firstname:data.firstname,lastname:data.middlename,middlename:data.lastname},{firstname:data.middlename,lastname:data.lastname,middlename:data.firstname},{firstname:data.middlename,lastname:data.firstname,middlename:data.lastname},{firstname:data.lastname,lastname:data.firstname,middlename:data.middlename},{firstname:data.lastname,lastname:data.middlename,middlename:data.firstname}];checkQuery(query);}};var checkQuery=function checkQuery(query){setPatList([]);if(!(query&&Object.keys(query).length===0&&query.constructor===Object)){ClientServ.find({query:query}).then(function(res){console.log(res);if(res.total>0){// alert(res.total)\nsetPatList(res.data);setBillModal(true);return;}}).catch(function(err){console.log(err);});}};var handleBill=function handleBill(){setBillModal(true);};var handlecloseModal3=function handlecloseModal3(){setBillModal(false);};var choosen=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(client){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:case\"end\":return _context2.stop();}}},_callee2);}));return function choosen(_x2){return _ref2.apply(this,arguments);};}();var dupl=function dupl(client){toast({message:'Client previously registered in this facility',type:'is-danger',dismissible:true,pauseOnHover:true});reset();setPatList([]);};var reg=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(client){var newPat;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!(client.relatedfacilities.findIndex(function(el){return el.facility===user.currentEmployee.facilityDetail._id;})===-1)){_context3.next=4;break;}//create mpi record\nnewPat={client:client._id,facility:user.currentEmployee.facilityDetail._id,mrn:client.mrn,clientTags:client.clientTags,relfacilities:client.relatedfacilities};//console.log(newPat)\n_context3.next=4;return mpiServ.create(newPat).then(function(resp){toast({message:'Client created succesfully',type:'is-success',dismissible:true,pauseOnHover:true});}).catch(function(err){toast({message:'Error creating Client '+err,type:'is-danger',dismissible:true,pauseOnHover:true});});case 4://reset form\nreset();setPatList([]);//cash payment\ncase 6:case\"end\":return _context3.stop();}}},_callee3);}));return function reg(_x3){return _ref3.apply(this,arguments);};}();var depen=function depen(client){setDependant(true);};var onSubmit=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(data,e){var confirm;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:if(date){_context4.next=3;break;}toast({message:'Please enter Date of Birth! ',type:'is-danger',dismissible:true,pauseOnHover:true});return _context4.abrupt(\"return\");case 3:e.preventDefault();setMessage(\"\");setError(false);setSuccess(false);checkClient();if(!(patList.length>0)){_context4.next=12;break;}if(dependant){_context4.next=11;break;}return _context4.abrupt(\"return\");case 11://alert(\"something\"+\",\"+ patList.length)\n//let confirm = window.confirm(\"Is this person a dependant with parent phone number?\")\n// setOption(confirm)\nsetPatList([]);case 12:// data.createdby=user._id\n//  console.log(data);\nif(user.currentEmployee){data.facility=user.currentEmployee.facilityDetail._id;// or from facility dropdown\n}confirm=window.confirm(\"You are about to register a new patient \".concat(data.firstname,\"  \").concat(data.middlename,\" \").concat(data.lastname,\" ?\"));if(!confirm){_context4.next=18;break;}data.dob=date;_context4.next=18;return ClientServ.create(data).then(function(res){//console.log(JSON.stringify(res))\ne.target.reset();/*  setMessage(\"Created Client successfully\") */setSuccess(true);toast({message:'Client created succesfully',type:'is-success',dismissible:true,pauseOnHover:true});setSuccess(false);setPatList([]);setDependant(false);setDate();}).catch(function(err){toast({message:'Error creating Client '+err,type:'is-danger',dismissible:true,pauseOnHover:true});setPatList([]);setDependant(false);});case 18:case\"end\":return _context4.stop();}}},_callee4);}));return function onSubmit(_x4,_x5){return _ref4.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card \",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"p\",{className:\"card-header-title\",children:\"Create Client\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-content vscrollable remPad1\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsx(\"p\",{className:\" is-small\",children:\"Names\"}),/*#__PURE__*/_jsx(\"div\",{className:\"field is-horizontal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field-body\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left has-icons-right\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input is-small is-danger\",ref:register({required:true}),name:\"firstname\",type:\"text\",placeholder:\"First Name\",onBlur:checkClient}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-hospital\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left has-icons-right\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register(),name:\"middlename\",type:\"text\",placeholder:\"Middle Name\",onBlur:checkClient}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-map-signs\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input is-small is-danger\",ref:register({required:true}),name:\"lastname\",type:\"text\",placeholder:\"Last Name\",onBlur:checkClient}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\" fas fa-user-md \"})})]})})]})}),/*#__PURE__*/_jsx(\"p\",{className:\" is-small\",children:\"Biodata\"}),/*#__PURE__*/_jsx(\"div\",{className:\"field is-horizontal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field-body\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsx(\"p\",{className:\"control has-icons-left is-danger\",children:/*#__PURE__*/_jsx(DatePicker,_defineProperty({className:\"is-danger\",selected:date,onChange:function onChange(date){return handleDate(date);},dateFormat:\"dd/MM/yyyy\",placeholderText:\"Enter date with dd/MM/yyyy format \"//isClearable\n},\"className\",\"red-border is-small\"))})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register(),name:\"gender\",type:\"text\",placeholder:\"Gender\",onBlur:checkClient}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-envelope\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register(),name:\"maritalstatus\",type:\"text\",placeholder:\"Marital Status\"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-envelope\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register(),name:\"mrn\",type:\"text\",placeholder:\"Medical Records Number\"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-envelope\"})})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field is-horizontal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field-body\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register(),name:\"religion\",type:\"text\",placeholder:\"Religion\"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-envelope\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register(),name:\"profession\",type:\"text\",placeholder:\"Profession\"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-envelope\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input is-small is-danger\",ref:register({required:true}),name:\"phone\",type:\"text\",placeholder:\" Phone No\",onBlur:checkClient}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-phone-alt\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input is-small \",ref:register(),name:\"email\",type:\"email\",placeholder:\"Email\",onBlur:checkClient}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-envelope\"})})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register(),name:\"clientTags\",type:\"text\",placeholder:\"Tags\"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-envelope\"})})]})}),/*#__PURE__*/_jsx(\"p\",{className:\" is-small\",children:\"Address\"}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register(),name:\"address\",type:\"text\",placeholder:\"Residential Address\"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-envelope\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field is-horizontal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field-body\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register(),name:\"city\",type:\"text\",placeholder:\"Town/City\"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-envelope\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register(),name:\"lga\",type:\"text\",placeholder:\"Local Govt Area\"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-envelope\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register(),name:\"state\",type:\"text\",placeholder:\"State\"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-envelope\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register(),name:\"country\",type:\"text\",placeholder:\"Country\"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-envelope\"})})]})})]})}),/*#__PURE__*/_jsx(\"p\",{className:\" is-small\",children:\"Medical Data\"}),/*#__PURE__*/_jsx(\"div\",{className:\"field is-horizontal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field-body\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register(),name:\"bloodgroup\",type:\"text\",placeholder:\"Blood Group\"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-envelope\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register(),name:\"genotype\",type:\"text\",placeholder:\"Genotype\"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-envelope\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register(),name:\"disabilities\",type:\"text\",placeholder:\"Disabilities\"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-envelope\"})})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field is-horizontal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field-body\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register(),name:\"allergies\",type:\"text\",placeholder:\"Allergies\"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-envelope\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register(),name:\"comorbidities\",type:\"text\",placeholder:\"Co-mobidities\"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-envelope\"})})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register(),name:\"specificDetails\",type:\"text\",placeholder:\"Specific Details about patient\"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-envelope\"})})]})}),/*#__PURE__*/_jsx(\"p\",{className:\" is-small\",children:\"Next of Kin Information\"}),/*#__PURE__*/_jsx(\"div\",{className:\"field is-horizontal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field-body\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register(),name:\"nok_name\",type:\"text\",placeholder:\"Next of Kin Full Name\"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-clinic-medical\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register(),name:\"nok_phoneno\",type:\"text\",placeholder:\"Next of Kin Phone Number\"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-clinic-medical\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register(),name:\"nok_email\",type:\"email\",placeholder:\"Next of Kin Email\"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-envelope\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register(),name:\"nok_relationship\",type:\"text\",placeholder:\"Next of Kin Relationship\"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-envelope\"})})]})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"field  is-grouped mt-2\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"control\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"button is-success is-small\",children:\"Save\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"control\",children:/*#__PURE__*/_jsx(\"button\",{type:\"reset\",className:\"button is-warning is-small\"/* onClick={(e)=>e.target.reset()} */,children:\"Reset\"})})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal \".concat(billModal?\"is-active\":\"\"),children:[/*#__PURE__*/_jsx(\"div\",{className:\"modal-background\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-card modalbkgrnd z10\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"modal-card-head selectadd\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"modal-card-title redu\",children:\"Similar Client Already Exist?\"}),/*#__PURE__*/_jsx(\"button\",{className:\"delete\",\"aria-label\":\"close\",onClick:handlecloseModal3})]}),/*#__PURE__*/_jsx(\"section\",{className:\"modal-card-body\",children:/*#__PURE__*/_jsx(ClientGroup,{list:patList,closeModal:handlecloseModal3,choosen:choosen,dupl:dupl,reg:reg,depen:depen})})]})]})]});}export function ClientList(){// const { register, handleSubmit, watch, errors } = useForm();\n// eslint-disable-next-line\nvar _useState21=useState(false),_useState22=_slicedToArray(_useState21,2),error=_useState22[0],setError=_useState22[1];// eslint-disable-next-line\nvar _useState23=useState(false),_useState24=_slicedToArray(_useState23,2),success=_useState24[0],setSuccess=_useState24[1];// eslint-disable-next-line\nvar _useState25=useState(\"\"),_useState26=_slicedToArray(_useState25,2),message=_useState26[0],setMessage=_useState26[1];var ClientServ=client.service('client');//const history = useHistory()\n// const {user,setUser} = useContext(UserContext)\nvar _useState27=useState([]),_useState28=_slicedToArray(_useState27,2),facilities=_useState28[0],setFacilities=_useState28[1];// eslint-disable-next-line\nvar _useState29=useState(),_useState30=_slicedToArray(_useState29,2),selectedClient=_useState30[0],setSelectedClient=_useState30[1];//\n// eslint-disable-next-line\nvar _useContext3=useContext(ObjectContext),state=_useContext3.state,setState=_useContext3.setState;// eslint-disable-next-line\nvar _useContext4=useContext(UserContext),user=_useContext4.user,setUser=_useContext4.setUser;var _useState31=useState(0),_useState32=_slicedToArray(_useState31,2),page=_useState32[0],setPage=_useState32[1];var _useState33=useState(50),_useState34=_slicedToArray(_useState33,2),limit=_useState34[0],setLimit=_useState34[1];var _useState35=useState(0),_useState36=_slicedToArray(_useState35,2),total=_useState36[0],setTotal=_useState36[1];var handleCreateNew=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){var newClientModule;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:newClientModule={selectedClient:{},show:'create'};_context5.next=3;return setState(function(prevstate){return _objectSpread(_objectSpread({},prevstate),{},{ClientModule:newClientModule});});case 3:case\"end\":return _context5.stop();}}},_callee5);}));return function handleCreateNew(){return _ref5.apply(this,arguments);};}();var handleRow=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(Client){var newClientModule;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return setSelectedClient(Client);case 2:newClientModule={selectedClient:Client,show:'detail'};_context6.next=5;return setState(function(prevstate){return _objectSpread(_objectSpread({},prevstate),{},{ClientModule:newClientModule});});case 5:case\"end\":return _context6.stop();}}},_callee6);}));return function handleRow(_x6){return _ref6.apply(this,arguments);};}();var handleSearch=function handleSearch(val){// eslint-disable-next-line\nvar field='firstname';console.log(val);ClientServ.find({query:{$or:[{firstname:{$regex:val,$options:'i'}},{lastname:{$regex:val,$options:'i'}},{middlename:{$regex:val,$options:'i'}},{phone:{$regex:val,$options:'i'}},{clientTags:{$regex:val,$options:'i'}},{mrn:{$regex:val,$options:'i'}},{email:{$regex:val,$options:'i'}},{specificDetails:{$regex:val,$options:'i'}},{gender:val}],\"relatedfacilities.facility\":user.currentEmployee.facilityDetail._id,// || \"\",\n$limit:limit,$sort:{createdAt:-1}}}).then(function(res){console.log(res);setFacilities(res.data);setMessage(\" Client  fetched successfully\");setSuccess(true);}).catch(function(err){console.log(err);setMessage(\"Error fetching Client, probable network issues \"+err);setError(true);});};var getFacilities=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(){var findClient,_findClient;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:if(!user.currentEmployee){_context7.next=16;break;}_context7.next=3;return ClientServ.find({query:{\"relatedfacilities.facility\":user.currentEmployee.facilityDetail._id,$limit:limit,$skip:page*limit,$sort:{createdAt:-1}}});case 3:findClient=_context7.sent;if(!(page===0)){_context7.next=9;break;}_context7.next=7;return setFacilities(findClient.data);case 7:_context7.next=11;break;case 9:_context7.next=11;return setFacilities(function(prevstate){return prevstate.concat(findClient.data);});case 11:_context7.next=13;return setTotal(findClient.total);case 13://console.log(user.currentEmployee.facilityDetail._id, state)\n//console.log(facilities)\nsetPage(function(page){return page+1;});_context7.next=22;break;case 16:if(!user.stacker){_context7.next=22;break;}_context7.next=19;return ClientServ.find({query:{$limit:20,$sort:{createdAt:-1}}});case 19:_findClient=_context7.sent;_context7.next=22;return setFacilities(_findClient.data);case 22:case\"end\":return _context7.stop();}}},_callee7);}));return function getFacilities(){return _ref7.apply(this,arguments);};}();useEffect(function(){if(user){//getFacilities()\nrest();}else{/* const localUser= localStorage.getItem(\"user\")\n                    const user1=JSON.parse(localUser)\n                    console.log(localUser)\n                    console.log(user1)\n                    fetchUser(user1)\n                    console.log(user)\n                    getFacilities(user) */}ClientServ.on('created',function(obj){return rest();});ClientServ.on('updated',function(obj){return rest();});ClientServ.on('patched',function(obj){return rest();});ClientServ.on('removed',function(obj){return rest();});return function(){};// eslint-disable-next-line\n},[]);var rest=/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(){return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return setPage(0);case 2:_context8.next=4;return setTotal(0);case 4:_context8.next=6;return setFacilities([]);case 6:_context8.next=8;return getFacilities();case 8:case\"end\":return _context8.stop();}}},_callee8);}));return function rest(){return _ref8.apply(this,arguments);};}();useEffect(function(){//console.log(facilities)\nreturn function(){};},[facilities]);//todo: pagination and vertical scroll bar\nreturn/*#__PURE__*/_jsx(_Fragment,{children:user?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"level\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"level-left\",children:/*#__PURE__*/_jsx(\"div\",{className:\"level-item\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left  \",children:[/*#__PURE__*/_jsx(DebounceInput,{className:\"input is-small \",type:\"text\",placeholder:\"Search Clients\",minLength:3,debounceTimeout:400,onChange:function onChange(e){return handleSearch(e.target.value);}}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-search\"})})]})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"level-item\",children:[\" \",/*#__PURE__*/_jsx(\"span\",{className:\"is-size-6 has-text-weight-medium\",children:\"List of Clients \"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"level-right\",children:/*#__PURE__*/_jsx(\"div\",{className:\"level-item\",children:/*#__PURE__*/_jsx(\"div\",{className:\"level-item\",children:/*#__PURE__*/_jsx(\"div\",{className:\"button is-success is-small\",onClick:handleCreateNew,children:\"New\"})})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"table-container pullup  vscrola\",id:\"scrollableDiv\",children:/*#__PURE__*/_jsx(InfiniteScroll,{dataLength:facilities.length,next:getFacilities,hasMore:total>facilities.length,loader:/*#__PURE__*/_jsx(\"h4\",{children:\"Loading...\"}),scrollableTarget:\"scrollableDiv\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table is-striped is-narrow is-hoverable is-fullwidth  \",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"abbr\",{title:\"Serial No\",children:\"S/No\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"abbr\",{title:\"Last Name\",children:\"Last Name\"})}),/*#__PURE__*/_jsx(\"th\",{children:\"First Name\"}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"abbr\",{title:\"Middle Name\",children:\"Middle Name\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"abbr\",{title:\"Age\",children:\"Payment Mode\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"abbr\",{title:\"Age\",children:\"Age\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"abbr\",{title:\"Gender\",children:\"Gender\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"abbr\",{title:\"Phone\",children:\"Phone\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"abbr\",{title:\"Email\",children:\"Email\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"abbr\",{title:\"Tags\",children:\"Tags\"})})]})}),/*#__PURE__*/_jsx(\"tfoot\",{}),/*#__PURE__*/_jsx(\"tbody\",{children:facilities.map(function(Client,i){return/*#__PURE__*/_jsxs(\"tr\",{onClick:function onClick(){return handleRow(Client);},className:Client._id===((selectedClient===null||selectedClient===void 0?void 0:selectedClient._id)||null)?\"is-selected\":\"\",children:[/*#__PURE__*/_jsx(\"td\",{children:i+1}),/*#__PURE__*/_jsx(\"th\",{children:Client.lastname}),/*#__PURE__*/_jsx(\"td\",{children:Client.firstname}),/*#__PURE__*/_jsx(\"td\",{children:Client.middlename}),/*#__PURE__*/_jsx(\"td\",{children:Client.paymentinfo.map(function(pay,i){return/*#__PURE__*/_jsxs(_Fragment,{children:[pay.paymentmode,\" \",pay.paymentmode===\"Cash\"?\"\":\":\",\" \",pay.organizationName,/*#__PURE__*/_jsx(\"br\",{})]});})}),/*#__PURE__*/_jsx(\"td\",{children:Client.dob&&/*#__PURE__*/_jsx(_Fragment,{children:formatDistanceToNowStrict(new Date(Client.dob))})}),/*#__PURE__*/_jsx(\"td\",{children:Client.gender}),/*#__PURE__*/_jsx(\"td\",{children:Client.phone}),/*#__PURE__*/_jsx(\"td\",{children:Client.email}),/*#__PURE__*/_jsx(\"td\",{children:Client.clientTags})]},Client._id);})})]})})})]}):/*#__PURE__*/_jsx(\"div\",{children:\"loading\"})});}export function ClientDetail(){var _user$currentEmployee,_user$currentEmployee2;//const { register, handleSubmit, watch, setValue } = useForm(); //errors,\n// eslint-disable-next-line\nvar history=useHistory();// eslint-disable-next-line\nvar _useRouteMatch=useRouteMatch(),path=_useRouteMatch.path,url=_useRouteMatch.url;// eslint-disable-next-line\nvar _useState37=useState(false),_useState38=_slicedToArray(_useState37,2),error=_useState38[0],setError=_useState38[1];//, \nvar _useState39=useState(false),_useState40=_slicedToArray(_useState39,2),finacialInfoModal=_useState40[0],setFinacialInfoModal=_useState40[1];var _useState41=useState(false),_useState42=_slicedToArray(_useState41,2),billingModal=_useState42[0],setBillingModal=_useState42[1];var _useState43=useState(false),_useState44=_slicedToArray(_useState43,2),billModal=_useState44[0],setBillModal=_useState44[1];var _useState45=useState(false),_useState46=_slicedToArray(_useState45,2),appointmentModal=_useState46[0],setAppointmentModal=_useState46[1];// eslint-disable-next-line\nvar _useState47=useState(\"\"),_useState48=_slicedToArray(_useState47,2),message=_useState48[0],setMessage=_useState48[1];//,\n//const ClientServ=client.service('/Client')\n//const history = useHistory()\nvar _useContext5=useContext(UserContext),user=_useContext5.user,setUser=_useContext5.setUser;var _useContext6=useContext(ObjectContext),state=_useContext6.state,setState=_useContext6.setState;var Client=state.ClientModule.selectedClient;// eslint-disable-next-line\nvar client=Client;var handleEdit=/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(){var newClientModule;return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:newClientModule={selectedClient:Client,show:'modify'};_context9.next=3;return setState(function(prevstate){return _objectSpread(_objectSpread({},prevstate),{},{ClientModule:newClientModule});});case 3:case\"end\":return _context9.stop();}}},_callee9);}));return function handleEdit(){return _ref9.apply(this,arguments);};}();var handleFinancialInfo=function handleFinancialInfo(){setFinacialInfoModal(true);};var handlecloseModal=function handlecloseModal(){setFinacialInfoModal(false);};var handlecloseModal1=function handlecloseModal1(){setBillingModal(false);};var handlecloseModal2=function handlecloseModal2(){setAppointmentModal(false);};var showBilling=function showBilling(){setBillingModal(true);//history.push('/app/finance/billservice')\n};var handleSchedule=function handleSchedule(){setAppointmentModal(true);};var handleBill=function handleBill(){setBillModal(true);};var handlecloseModal3=function handlecloseModal3(){setBillModal(false);};/*  useEffect(() => {\n        Client =state.ClientModule.selectedClient\n        return () => {\n           \n        }\n    }, [billingModal]) */return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card \",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"card-header-title\",children:\"Client Details\"}),(((_user$currentEmployee=user.currentEmployee)===null||_user$currentEmployee===void 0?void 0:_user$currentEmployee.roles.includes('Bill Client'))||((_user$currentEmployee2=user.currentEmployee)===null||_user$currentEmployee2===void 0?void 0:_user$currentEmployee2.roles.length)===0||user.stacker)&&/*#__PURE__*/_jsx(\"button\",{className:\"button is-success is-small btnheight mt-2\",onClick:showBilling,children:\"Bill Client\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-content vscrollable\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"field is-horizontal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field-body\",children:[Client.firstname&&/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left has-icons-right\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-size-7 my-0 \",name:\"firstname\",type:\"text\",children:\"First Name \"}),/*#__PURE__*/_jsx(\"label\",{className:\"is-size-7 my-0 \",children:Client.firstname}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"nop-hospital\"})})]})}),Client.middlename&&/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left has-icons-right\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-size-7 my-0\",name:\"middlename\",type:\"text\",children:\" Middle Name \"}),/*#__PURE__*/_jsx(\"label\",{className:\"is-size-7 my-0\",children:Client.middlename}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"nop-map-signs\"})})]})}),Client.lastname&&/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-size-7 my-0\",name:\"lastname\",type:\"text\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"label\",{className:\"is-size-7 my-0\",children:Client.lastname}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\" nop-user-md \"})})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field is-horizontal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field-body\",children:[Client.dob&&/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-size-7 my-0\",name:\"dob\",type:\"text\",children:\"Date of Birth \"}),/*#__PURE__*/_jsx(\"label\",{className:\"is-size-7 my-0\",children:new Date(Client.dob).toLocaleDateString('en-GB')}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"nop-envelope\"})})]})}),Client.gender&&/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-size-7 my-0\",name:\"gender\",type:\"text\",children:\"Gender \"}),/*#__PURE__*/_jsx(\"label\",{className:\"is-size-7 my-0\",children:Client.gender}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"nop-envelope\"})})]})}),Client.maritalstatus&&/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-size-7 my-0\",name:\"maritalstatus\",type:\"text\",children:\"Marital Status \"}),/*#__PURE__*/_jsx(\"label\",{className:\"is-size-7 my-0\",children:Client.maritalstatus}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"nop-envelope\"})})]})}),Client.mrn&&/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-size-7 my-0\",name:\"mrn\",type:\"text\",children:\"Medical Records Number  \"}),/*#__PURE__*/_jsx(\"label\",{className:\"is-size-7 my-0\",children:Client.mrn}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"nop-envelope\"})})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field is-horizontal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field-body\",children:[Client.religion&&/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-size-7 my-0\",name:\"religion\",type:\"text\",children:\"Religion  \"}),/*#__PURE__*/_jsx(\"label\",{className:\"is-size-7 my-0\",children:Client.religion}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"nop-envelope\"})})]})}),Client.profession&&/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-size-7 my-0\",name:\"profession\",type:\"text\",children:\"Profession  \"}),/*#__PURE__*/_jsx(\"label\",{className:\"is-size-7 my-0\",children:Client.profession}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"nop-envelope\"})})]})}),Client.phone&&/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-size-7 my-0\",name:\"phone\",type:\"text\",children:\" Phone No\"}),/*#__PURE__*/_jsx(\"label\",{className:\"is-size-7 my-0\",children:Client.phone}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"nop-phone-alt\"})})]})}),Client.email&&/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-size-7 my-0\",name:\"email\",type:\"email\",children:\"Email  \"}),/*#__PURE__*/_jsx(\"label\",{className:\"is-size-7 my-0\",children:Client.email}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"nop-envelope\"})})]})})]})}),Client.address&&/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-size-7 my-0\",name:\"address\",type:\"text\",children:\"Residential Address  \"}),/*#__PURE__*/_jsx(\"label\",{className:\"is-size-7 my-0\",children:Client.address}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"nop-envelope\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field is-horizontal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field-body\",children:[Client.city&&/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-size-7 my-0\",name:\"city\",type:\"text\",children:\"Town/City  \"}),/*#__PURE__*/_jsx(\"label\",{className:\"is-size-7 my-0\",children:Client.city}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"nop-envelope\"})})]})}),Client.lga&&/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-size-7 my-0\",name:\"lga\",type:\"text\",children:\"Local Govt Area  \"}),/*#__PURE__*/_jsx(\"label\",{className:\"is-size-7 my-0\",children:Client.lga}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"nop-envelope\"})})]})}),Client.state&&/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-size-7 my-0\",name:\"state\",type:\"text\",children:\"State  \"}),/*#__PURE__*/_jsx(\"label\",{className:\"is-size-7 my-0\",children:Client.state}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"nop-envelope\"})})]})}),Client.country&&/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-size-7 my-0\",name:\"country\",type:\"text\",children:\"Country  \"}),/*#__PURE__*/_jsx(\"label\",{className:\"is-size-7 my-0\",children:Client.country}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"nop-envelope\"})})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field is-horizontal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field-body\",children:[Client.bloodgroup&&/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-size-7 my-0\",name:\"bloodgroup\",type:\"text\",children:\"Blood Group \"}),/*#__PURE__*/_jsx(\"label\",{className:\"is-size-7 my-0\",children:Client.bloodgroup}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"nop-envelope\"})})]})}),Client.genotype&&/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-size-7 my-0\",name:\"genotype\",type:\"text\",children:\"Genotype  \"}),/*#__PURE__*/_jsx(\"label\",{className:\"is-size-7 my-0\",children:Client.genotype}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"nop-envelope\"})})]})}),Client.disabilities&&/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-size-7 my-0\",name:\"disabilities\",type:\"text\",children:\"Disabilities  \"}),/*#__PURE__*/_jsx(\"label\",{className:\"is-size-7 my-0\",children:Client.disabilities}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"nop-envelope\"})})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field is-horizontal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field-body\",children:[Client.allergies&&/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-size-7 my-0\",name:\"allergies\",type:\"text\",children:\"Allergies  \"}),/*#__PURE__*/_jsx(\"label\",{className:\"is-size-7 my-0\",children:Client.allergies}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"nop-envelope\"})})]})}),Client.comorbidities&&/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-size-7 my-0\",name:\"comorbidities\",type:\"text\",children:\"Co-mobidities  \"}),/*#__PURE__*/_jsx(\"label\",{className:\"is-size-7 my-0\",children:Client.comorbidities}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"nop-envelope\"})})]})})]})}),Client.clientTags&&/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-size-7 my-0\",name:\"clientTags\",type:\"text\",children:\"Tags \"}),/*#__PURE__*/_jsx(\"label\",{className:\"is-size-7 my-0\",children:Client.clientTags}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"nop-envelope\"})})]})}),Client.specificDetails&&/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-size-7 my-0\",name:\"specificDetails\",type:\"text\",children:\"Specific Details about Client \"}),/*#__PURE__*/_jsx(\"label\",{className:\"is-size-7 my-0\",children:Client.specificDetails}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"nop-envelope\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field is-horizontal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field-body\",children:[Client.nok_name&&/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-size-7 my-0\",name:\"nok_name\",type:\"text\",children:\"Next of Kin Full Name\"}),/*#__PURE__*/_jsx(\"label\",{className:\"is-size-7 my-0\",children:Client.nok_name}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"nop-clinic-medical\"})})]})}),Client.nok_phoneno&&/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-size-7 my-0\",name:\"nok_phoneno\",type:\"text\",children:\"Next of Kin Phone Number\"}),/*#__PURE__*/_jsx(\"label\",{className:\"is-size-7 my-0\",children:Client.nok_phoneno}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"nop-clinic-medical\"})})]})}),Client.nok_email&&/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-size-7 my-0\",name:\"nok_email\",type:\"email\",children:\"Next of Kin Email \"}),/*#__PURE__*/_jsx(\"label\",{className:\"is-size-7 my-0\",children:Client.nok_email}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"nop-envelope\"})})]})}),Client.nok_relationship&&/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-size-7 my-0\",name:\"nok_relationship\",type:\"text\",children:\"Next of Kin Relationship\\\"  \"}),/*#__PURE__*/_jsx(\"label\",{className:\"is-size-7 my-0\",children:Client.nok_relationship}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"nop-envelope\"})})]})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"field is-grouped  mt-2\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"control\",children:/*#__PURE__*/_jsx(\"button\",{className:\"button is-success is-small\",onClick:handleEdit,children:\"Edit Details\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"control\",children:/*#__PURE__*/_jsx(\"button\",{className:\"button is-info is-small\",onClick:handleFinancialInfo,children:\"Payment Info\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"control\",children:/*#__PURE__*/_jsx(\"button\",{className:\"button is-warning is-small\",onClick:handleSchedule,children:\"Schedule appointment\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"control\",children:/*#__PURE__*/_jsx(\"button\",{className:\"button is-link is-small\",onClick:function onClick(){history.push('/app/clinic/encounter');},children:\"Attend to Client\"})})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal \".concat(finacialInfoModal?\"is-active\":\"\"),children:[/*#__PURE__*/_jsx(\"div\",{className:\"modal-background\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-card\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"modal-card-head\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"modal-card-title\",children:\"Financial Information\"}),/*#__PURE__*/_jsx(\"button\",{className:\"delete\",\"aria-label\":\"close\",onClick:handlecloseModal})]}),/*#__PURE__*/_jsx(\"section\",{className:\"modal-card-body\",children:/*#__PURE__*/_jsx(ClientFinInfo,{closeModal:handlecloseModal})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal \".concat(billingModal?\"is-active\":\"\"),children:[/*#__PURE__*/_jsx(\"div\",{className:\"modal-background\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-card\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"modal-card-head\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"modal-card-title\",children:\"Bill Client\"}),/*#__PURE__*/_jsx(\"button\",{className:\"delete\",\"aria-label\":\"close\",onClick:handlecloseModal1})]}),/*#__PURE__*/_jsx(\"section\",{className:\"modal-card-body\",children:/*#__PURE__*/_jsx(BillServiceCreate,{closeModal:handlecloseModal1})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal \".concat(appointmentModal?\"is-active\":\"\"),children:[/*#__PURE__*/_jsx(\"div\",{className:\"modal-background\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-card\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"modal-card-head\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"modal-card-title\",children:\"Set Appointment\"}),/*#__PURE__*/_jsx(\"button\",{className:\"delete\",\"aria-label\":\"close\",onClick:handlecloseModal2})]}),/*#__PURE__*/_jsx(\"section\",{className:\"modal-card-body\",children:/*#__PURE__*/_jsx(AppointmentCreate,{closeModal:handlecloseModal2})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal \".concat(billModal?\"is-active\":\"\"),children:[/*#__PURE__*/_jsx(\"div\",{className:\"modal-background\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-card\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"modal-card-head\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"modal-card-title\",children:\"Set Appointment\"}),/*#__PURE__*/_jsx(\"button\",{className:\"delete\",\"aria-label\":\"close\",onClick:handlecloseModal3})]}),/*#__PURE__*/_jsx(\"section\",{className:\"modal-card-body\",children:/*#__PURE__*/_jsx(ClientBilledPrescription,{selectedClient:Client._id,closeModal:handlecloseModal3})})]})]})]});}export function ClientModify(){var _useForm2=useForm(),register=_useForm2.register,handleSubmit=_useForm2.handleSubmit,setValue=_useForm2.setValue,reset=_useForm2.reset;//watch, errors,, errors \n// eslint-disable-next-line \nvar _useState49=useState(false),_useState50=_slicedToArray(_useState49,2),error=_useState50[0],setError=_useState50[1];// eslint-disable-next-line \nvar _useState51=useState(false),_useState52=_slicedToArray(_useState51,2),success=_useState52[0],setSuccess=_useState52[1];// eslint-disable-next-line \nvar _useState53=useState(\"\"),_useState54=_slicedToArray(_useState53,2),message=_useState54[0],setMessage=_useState54[1];// eslint-disable-next-line \nvar ClientServ=client.service('client');//const history = useHistory()\n// eslint-disable-next-line\nvar _useContext7=useContext(UserContext),user=_useContext7.user;var _useContext8=useContext(ObjectContext),state=_useContext8.state,setState=_useContext8.setState;var Client=state.ClientModule.selectedClient;useEffect(function(){setValue(\"firstname\",Client.firstname,{shouldValidate:true,shouldDirty:true});setValue(\"middlename\",Client.middlename,{shouldValidate:true,shouldDirty:true});setValue(\"lastname\",Client.lastname,{shouldValidate:true,shouldDirty:true});setValue(\"phone\",Client.phone,{shouldValidate:true,shouldDirty:true});setValue(\"email\",Client.email,{shouldValidate:true,shouldDirty:true});setValue(\"dob\",Client.dob,{shouldValidate:true,shouldDirty:true});setValue(\"gender\",Client.gender,{shouldValidate:true,shouldDirty:true});setValue(\"profession\",Client.profession,{shouldValidate:true,shouldDirty:true});setValue(\"address\",Client.address,{shouldValidate:true,shouldDirty:true});setValue(\"city\",Client.city,{shouldValidate:true,shouldDirty:true});setValue(\"state\",Client.state,{shouldValidate:true,shouldDirty:true});setValue(\"country\",Client.country,{shouldValidate:true,shouldDirty:true});setValue(\"nok_name\",Client.nok_name,{shouldValidate:true,shouldDirty:true});setValue(\"nok_email\",Client.nok_email,{shouldValidate:true,shouldDirty:true});setValue(\"nok_phoneno\",Client.nokphoneno,{shouldValidate:true,shouldDirty:true});setValue(\"lga\",Client.lga,{shouldValidate:true,shouldDirty:true});setValue(\"bloodgroup\",Client.bloodgroup,{shouldValidate:true,shouldDirty:true});setValue(\"genotype\",Client.genotype,{shouldValidate:true,shouldDirty:true});setValue(\"disabilities\",Client.disabilities,{shouldValidate:true,shouldDirty:true});setValue(\"specificDetails\",Client.specificDetails,{shouldValidate:true,shouldDirty:true});setValue(\"clientTags\",Client.clientTags,{shouldValidate:true,shouldDirty:true});setValue(\"mrn\",Client.mrn,{shouldValidate:true,shouldDirty:true});setValue(\"comorbidities\",Client.comorbidities,{shouldValidate:true,shouldDirty:true});setValue(\"allergies\",Client.allergies,{shouldValidate:true,shouldDirty:true});return function(){};});var handleCancel=/*#__PURE__*/function(){var _ref10=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee10(){var newClientModule;return _regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:newClientModule={selectedClient:Client,show:'detail'};_context10.next=3;return setState(function(prevstate){return _objectSpread(_objectSpread({},prevstate),{},{ClientModule:newClientModule});});case 3:case\"end\":return _context10.stop();}}},_callee10);}));return function handleCancel(){return _ref10.apply(this,arguments);};}();var changeState=function changeState(){var newClientModule={selectedClient:{},show:'create'};setState(function(prevstate){return _objectSpread(_objectSpread({},prevstate),{},{ClientModule:newClientModule});});};// eslint-disable-next-line\nvar handleDelete=/*#__PURE__*/function(){var _ref11=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee11(){var conf,dleteId;return _regeneratorRuntime.wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:conf=window.confirm(\"Are you sure you want to delete this data?\");dleteId=Client._id;if(conf){ClientServ.remove(dleteId).then(function(res){//console.log(JSON.stringify(res))\nreset();/*  setMessage(\"Deleted Client successfully\")\n                setSuccess(true)\n                changeState()\n               setTimeout(() => {\n                setSuccess(false)\n                }, 200); */toast({message:'Client deleted succesfully',type:'is-success',dismissible:true,pauseOnHover:true});changeState();}).catch(function(err){// setMessage(\"Error deleting Client, probable network issues \"+ err )\n// setError(true)\ntoast({message:\"Error deleting Client, probable network issues or \"+err,type:'is-danger',dismissible:true,pauseOnHover:true});});}case 3:case\"end\":return _context11.stop();}}},_callee11);}));return function handleDelete(){return _ref11.apply(this,arguments);};}();/* ()=> setValue(\"firstName\", \"Bill\", , {\n            shouldValidate: true,\n            shouldDirty: true\n          })) */var onSubmit=function onSubmit(data,e){e.preventDefault();setSuccess(false);// console.log(data)\n//  data.facility=Client.facility\n//console.log(data);\nClientServ.patch(Client._id,data).then(function(res){//console.log(JSON.stringify(res))\n// e.target.reset();\n// setMessage(\"updated Client successfully\")\ntoast({message:'Client updated succesfully',type:'is-success',dismissible:true,pauseOnHover:true});changeState();}).catch(function(err){//setMessage(\"Error creating Client, probable network issues \"+ err )\n// setError(true)\ntoast({message:\"Error updating Client, probable network issues or \"+err,type:'is-danger',dismissible:true,pauseOnHover:true});});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"card \",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"p\",{className:\"card-header-title\",children:\"Client Details-Modify\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-content vscrollable\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsx(\"div\",{className:\"field is-horizontal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field-body\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left has-icons-right\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-size-7\",children:\"First Name \"}),\" \",/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register(),name:\"firstname\",type:\"text\",placeholder:\"First Name \"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"nop-hospital\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left has-icons-right\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-size-7\",children:\" Middle Name \"}),/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register(),name:\"middlename\",type:\"text\",placeholder:\"Middle Name \"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"nop-map-signs\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-size-7\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register(),name:\"lastname\",type:\"text\",placeholder:\"Last Name \"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\" nop-user-md \"})})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field is-horizontal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field-body\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-size-7\",children:\"Date of Birth  \"}),/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register(),name:\"dob\",type:\"text\",placeholder:\"Date of Birth \"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"nop-envelope\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-size-7\",children:\"Gender  \"}),/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register(),name:\"gender\",type:\"text\",placeholder:\"Gender  \"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"nop-envelope\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-size-7\",children:\"Marital Status  \"}),/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register(),name:\"maritalstatus\",type:\"text\",placeholder:\"Marital Status  \"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"nop-envelope\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-size-7\",children:\" Records Number \"}),/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register(),name:\"mrn\",type:\"text\",placeholder:\"Records Number  \"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"nop-envelope\"})})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field is-horizontal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field-body\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-size-7\",children:\"Religion\"}),/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register(),name:\"religion\",type:\"text\",placeholder:\"Religion \"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"nop-envelope\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-size-7\",children:\"Profession  \"}),/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register(),name:\"profession\",type:\"text\",placeholder:\"Profession\"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"nop-envelope\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-size-7\",children:\" Phone No\"}),/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register(),name:\"phone\",type:\"text\",placeholder:\" Phone No \"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"nop-phone-alt\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-size-7\",children:\"Email  \"}),/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register(),name:\"email\",type:\"email\",placeholder:\"Email  \"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"nop-envelope\"})})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-size-7\",children:\"Residential Address  \"}),/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register(),name:\"address\",type:\"text\",placeholder:\"Residential Address  \"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"nop-envelope\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field is-horizontal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field-body\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-size-7\",children:\"Town/City  \"}),/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register(),name:\"city\",type:\"text\",placeholder:\"Town/City  \"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"nop-envelope\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-size-7\",children:\"Local Govt Area  \"}),/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register(),name:\"lga\",type:\"text\",placeholder:\"Local Govt Area  \"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"nop-envelope\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-size-7\",children:\"State  \"}),/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register(),name:\"state\",type:\"text\",placeholder:\"State\"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"nop-envelope\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-size-7\",children:\"Country  \"}),/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register(),name:\"country\",type:\"text\",placeholder:\"Country  \"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"nop-envelope\"})})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field is-horizontal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field-body\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-size-7\",children:\"Blood Group \"}),/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register(),name:\"bloodgroup\",type:\"text\",placeholder:\"Blood Group \"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"nop-envelope\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-size-7\",children:\"Genotype  \"}),/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register(),name:\"genotype\",type:\"text\",placeholder:\"Genotype \"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"nop-envelope\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-size-7\",children:\"Disabilities  \"}),/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register(),name:\"disabilities\",type:\"text\",placeholder:\"Disabilities  \"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"nop-envelope\"})})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field is-horizontal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field-body\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-size-7\",children:\"Allergies  \"}),/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register(),name:\"allergies\",type:\"text\",placeholder:\"Allergies  \"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"nop-envelope\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-size-7\",children:\"Co-mobidities \"}),/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register(),name:\"comorbidities\",type:\"text\",placeholder:\"Co-mobidities \"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"nop-envelope\"})})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-size-7\",children:\"Tags  \"}),/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register(),name:\"clientTags\",type:\"text\",placeholder:\"Tags \"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"nop-envelope\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-size-7\",children:\"Specific Details about client  \"}),/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register(),name:\"specificDetails\",type:\"text\",placeholder:\"Specific Details about client \"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"nop-envelope\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field is-horizontal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field-body\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-size-7\",children:\"Next of Kin Full Name\"}),/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register(),name:\"nok_name\",type:\"text\",placeholder:\"Next of Kin Full Name \"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"nop-clinic-medical\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-size-7\",children:\"Phone Number\"}),/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register(),name:\"nok_phoneno\",type:\"text\",placeholder:\" \"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"nop-clinic-medical\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-size-7\",children:\"Next of Kin Email  \"}),/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register(),name:\"nok_email\",type:\"email\",placeholder:\"Next of Kin Email  \"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"nop-envelope\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-size-7\",children:\" Relationship  \"}),/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register(),name:\"nok_relationship\",type:\"text\",placeholder:\"Next of Kin Relationship\"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"nop-envelope\"})})]})})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field  is-grouped mt-2\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"control\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"button is-success is-small\",onClick:handleSubmit(onSubmit),children:\"Save\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"control\",children:/*#__PURE__*/_jsx(\"button\",{className:\"button is-warning is-small\",onClick:handleCancel,children:\"Cancel\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"control\",children:/*#__PURE__*/_jsx(\"button\",{className:\"button is-danger is-small\",onClick:function onClick(){return handleDelete();},type:\"delete\",children:\"Delete\"})})]})]})]})});}export function InputSearch(_ref12){var getSearchfacility=_ref12.getSearchfacility,clear=_ref12.clear;var ClientServ=client.service('client');// const facilityServ=client.service('facility')\nvar _useState55=useState([]),_useState56=_slicedToArray(_useState55,2),facilities=_useState56[0],setFacilities=_useState56[1];// eslint-disable-next-line\nvar _useState57=useState(false),_useState58=_slicedToArray(_useState57,2),searchError=_useState58[0],setSearchError=_useState58[1];// eslint-disable-next-line\nvar _useState59=useState(false),_useState60=_slicedToArray(_useState59,2),showPanel=_useState60[0],setShowPanel=_useState60[1];// eslint-disable-next-line\nvar _useState61=useState(\"\"),_useState62=_slicedToArray(_useState61,2),searchMessage=_useState62[0],setSearchMessage=_useState62[1];// eslint-disable-next-line \nvar _useState63=useState(\"\"),_useState64=_slicedToArray(_useState63,2),simpa=_useState64[0],setSimpa=_useState64[1];// eslint-disable-next-line \nvar _useState65=useState(false),_useState66=_slicedToArray(_useState65,2),chosen=_useState66[0],setChosen=_useState66[1];// eslint-disable-next-line \nvar _useState67=useState(0),_useState68=_slicedToArray(_useState67,2),count=_useState68[0],setCount=_useState68[1];var inputEl=useRef(null);var handleRow=/*#__PURE__*/function(){var _ref13=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee12(obj){return _regeneratorRuntime.wrap(function _callee12$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:_context12.next=2;return setChosen(true);case 2://alert(\"something is chaning\")\ngetSearchfacility(obj);_context12.next=5;return setSimpa(obj.facilityName);case 5:// setSelectedFacility(obj)\nsetShowPanel(false);_context12.next=8;return setCount(2);case 8:case\"end\":return _context12.stop();}}},_callee12);}));return function handleRow(_x7){return _ref13.apply(this,arguments);};}();var handleBlur=/*#__PURE__*/function(){var _ref14=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee13(e){return _regeneratorRuntime.wrap(function _callee13$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:if(count===2){console.log(\"stuff was chosen\");}/*  console.log(\"blur\")\n         setShowPanel(false)\n        console.log(JSON.stringify(simpa))\n        if (simpa===\"\"){\n            console.log(facilities.length)\n            setSimpa(\"abc\")\n            setSimpa(\"\")\n            setFacilities([])\n            inputEl.current.setValue=\"\"\n        }\n        console.log(facilities.length)\n        console.log(inputEl.current) */case 1:case\"end\":return _context13.stop();}}},_callee13);}));return function handleBlur(_x8){return _ref14.apply(this,arguments);};}();var handleSearch=/*#__PURE__*/function(){var _ref15=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee14(val){var field,_query;return _regeneratorRuntime.wrap(function _callee14$(_context14){while(1){switch(_context14.prev=_context14.next){case 0:field='facilityName';//field variable\nif(!(val.length>=3)){_context14.next=5;break;}ClientServ.find({query:(_query={},_defineProperty(_query,field,{$regex:val,$options:'i'}),_defineProperty(_query,\"$limit\",10),_defineProperty(_query,\"$sort\",{createdAt:-1}),_query)}).then(function(res){console.log(\"facility  fetched successfully\");setFacilities(res.data);setSearchMessage(\" facility  fetched successfully\");setShowPanel(true);}).catch(function(err){console.log(err);setSearchMessage(\"Error searching facility, probable network issues \"+err);setSearchError(true);});_context14.next=11;break;case 5:console.log(\"less than 3 \");console.log(val);setShowPanel(false);_context14.next=10;return setFacilities([]);case 10:console.log(facilities);case 11:case\"end\":return _context14.stop();}}},_callee14);}));return function handleSearch(_x9){return _ref15.apply(this,arguments);};}();useEffect(function(){if(clear){setSimpa(\"\");}return function(){};},[clear]);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsx(\"div\",{className:\"control has-icons-left  \",children:/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown \".concat(showPanel?\"is-active\":\"\"),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-trigger\",children:[/*#__PURE__*/_jsx(DebounceInput,{className:\"input is-small \",type:\"text\",placeholder:\"Search Facilities\",value:simpa,minLength:1,debounceTimeout:400,onBlur:function onBlur(e){return handleBlur(e);},onChange:function onChange(e){return handleSearch(e.target.value);},inputRef:inputEl}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-search\"})})]}),searchError&&/*#__PURE__*/_jsx(\"div\",{children:searchMessage}),/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-menu\",children:/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-content\",children:facilities.map(function(facility,i){return/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-item\",onClick:function onClick(){return handleRow(facility);},children:/*#__PURE__*/_jsx(\"span\",{children:facility.facilityName})},facility._id);})})})]})})})});}","map":{"version":3,"sources":["/home/mfybaby/Documents/HealthStack2/HS-frontend/src/components/ClientMgt/Patient.js"],"names":["React","useState","useContext","useEffect","useRef","useRouteMatch","useHistory","client","DebounceInput","useForm","UserContext","ObjectContext","toast","formatDistanceToNowStrict","ClientFinInfo","BillServiceCreate","AppointmentCreate","InfiniteScroll","ClientBilledPrescription","ClientGroup","DatePicker","searchfacility","Client","state","selectedClient","setSelectedClient","ClientModule","show","ClientCreate","register","handleSubmit","setValue","getValues","reset","error","setError","success","setSuccess","message","setMessage","facility","setFacility","ClientServ","service","mpiServ","user","billModal","setBillModal","patList","setPatList","dependant","setDependant","currentUser","setCurrentUser","date","setDate","getSearchfacility","obj","_id","shouldValidate","shouldDirty","handleDate","stacker","checkClient","data","dob","firstname","middlename","lastname","gender","email","phone","query","checkQuery","$or","Object","keys","length","constructor","find","then","res","console","log","total","catch","err","handleBill","handlecloseModal3","choosen","dupl","type","dismissible","pauseOnHover","reg","relatedfacilities","findIndex","el","currentEmployee","facilityDetail","newPat","mrn","clientTags","relfacilities","create","resp","depen","onSubmit","e","preventDefault","confirm","window","target","required","ClientList","facilities","setFacilities","setState","setUser","page","setPage","limit","setLimit","setTotal","handleCreateNew","newClientModule","prevstate","handleRow","handleSearch","val","field","$regex","$options","specificDetails","$limit","$sort","createdAt","getFacilities","$skip","findClient","concat","rest","on","value","map","i","paymentinfo","pay","paymentmode","organizationName","Date","ClientDetail","history","path","url","finacialInfoModal","setFinacialInfoModal","billingModal","setBillingModal","appointmentModal","setAppointmentModal","handleEdit","handleFinancialInfo","handlecloseModal","handlecloseModal1","handlecloseModal2","showBilling","handleSchedule","roles","includes","toLocaleDateString","maritalstatus","religion","profession","address","city","lga","country","bloodgroup","genotype","disabilities","allergies","comorbidities","nok_name","nok_phoneno","nok_email","nok_relationship","push","ClientModify","nokphoneno","handleCancel","changeState","handleDelete","conf","dleteId","remove","patch","InputSearch","clear","searchError","setSearchError","showPanel","setShowPanel","searchMessage","setSearchMessage","simpa","setSimpa","chosen","setChosen","count","setCount","inputEl","facilityName","handleBlur"],"mappings":"88BAAA,oBACA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAwBC,UAAxB,CAAoCC,SAApC,CAA8CC,MAA9C,KAA2D,OAA3D,CACA,OAAUC,aAAV,CAA0BC,UAA1B,KAA2C,kBAA3C,CAA8D;AAC9D,MAAOC,CAAAA,MAAP,KAAmB,gBAAnB,CACA,OAAQC,aAAR,KAA4B,sBAA5B,CACA,OAASC,OAAT,KAAwB,iBAAxB,CACA;AACA,OAAQC,WAAR,CAAoBC,aAApB,KAAwC,eAAxC,CACA,OAAQC,KAAR,KAAoB,aAApB,CACA,OAASC,yBAAT,KAA0C,UAA1C,CACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,CACA,MAAOC,CAAAA,iBAAP,KAA8B,8BAA9B,CACA,OAAQC,iBAAR,KAAgC,wBAAhC,CACA,MAAOC,CAAAA,cAAP,KAA2B,iCAA3B,CACA,MAAOC,CAAAA,wBAAP,KAAqC,uBAArC,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,MAAOC,CAAAA,UAAP,KAAuB,kBAAvB,CACA,MAAO,4CAAP,CACA;AACA,GAAMC,CAAAA,cAAc,CAAC,EAArB,CAGA,cAAe,SAASC,CAAAA,MAAT,EAAkB,iBACfpB,UAAU,CAACS,aAAD,CADK,CACtBY,KADsB,aACtBA,KADsB,CACW;AACxC;AAF6B,cAGYtB,QAAQ,EAHpB,wCAGtBuB,cAHsB,eAGPC,iBAHO,eAI7B;AAEA,mBACI,gBAAS,SAAS,CAAE,mBAApB,uBACI,aAAK,SAAS,CAAC,UAAf,wBACA,YAAK,SAAS,CAAC,cAAf,uBACI,KAAC,UAAD,IADJ,EADA,cAIA,aAAK,SAAS,CAAC,cAAf,WACIF,KAAK,CAACG,YAAN,CAAmBC,IAAnB,GAA2B,MAA5B,eAAqC,KAAC,UAAD,IADxC,CAEMJ,KAAK,CAACG,YAAN,CAAmBC,IAAnB,GAA2B,QAA5B,eAAuC,KAAC,YAAD,IAF5C,CAGMJ,KAAK,CAACG,YAAN,CAAmBC,IAAnB,GAA2B,QAA5B,eAAuC,KAAC,YAAD,IAH5C,CAIMJ,KAAK,CAACG,YAAN,CAAmBC,IAAnB,GAA2B,QAA5B,eAAuC,KAAC,YAAD,EAAc,MAAM,CAAEH,cAAtB,EAJ5C,GAJA,GADJ,EADJ,CAiBH,CAED,MAAO,SAASI,CAAAA,YAAT,EAAuB,cACoCnB,OAAO,EAD3C,CAClBoB,QADkB,UAClBA,QADkB,CACRC,YADQ,UACRA,YADQ,CACKC,QADL,UACKA,QADL,CACgBC,SADhB,UACgBA,SADhB,CAC2BC,KAD3B,UAC2BA,KAD3B,CAC+C;AACvE;AAFwB,eAGDhC,QAAQ,CAAC,KAAD,CAHP,yCAGnBiC,KAHmB,eAGZC,QAHY,eAIxB;AAJwB,eAKGlC,QAAQ,CAAC,KAAD,CALX,yCAKnBmC,OALmB,eAKVC,UALU,eAMxB;AANwB,eAOGpC,QAAQ,CAAC,EAAD,CAPX,yCAOnBqC,OAPmB,eAOXC,UAPW,eAQ1B;AAR0B,eASKtC,QAAQ,EATb,0CASnBuC,QATmB,gBASVC,WATU,gBAU1B,GAAMC,CAAAA,UAAU,CAACnC,MAAM,CAACoC,OAAP,CAAe,QAAf,CAAjB,CACA,GAAMC,CAAAA,OAAO,CAACrC,MAAM,CAACoC,OAAP,CAAe,KAAf,CAAd,CACA;AAZ0B,iBAaXzC,UAAU,CAACQ,WAAD,CAbC,CAanBmC,IAbmB,cAanBA,IAbmB,CAaa;AAbb,gBAcO5C,QAAQ,CAAC,KAAD,CAdf,2CAcnB6C,SAdmB,gBAcRC,YAdQ,gCAeG9C,QAAQ,CAAC,EAAD,CAfX,2CAenB+C,OAfmB,gBAeVC,UAfU,gCAgBOhD,QAAQ,CAAC,KAAD,CAhBf,2CAgBnBiD,SAhBmB,gBAgBRC,YAhBQ,gBAiB1B;AAjB0B,gBAkBWlD,QAAQ,EAlBnB,2CAkBnBmD,WAlBmB,gBAkBPC,cAlBO,gCAmBHpD,QAAQ,EAnBL,2CAmBnBqD,IAnBmB,gBAmBdC,OAnBc,gBAsB5B;AACE,GAAMC,CAAAA,iBAAiB,CAAC,QAAlBA,CAAAA,iBAAkB,CAACC,GAAD,CAAO,CAC3B1B,QAAQ,CAAC,UAAD,CAAa0B,GAAG,CAACC,GAAjB,CAAuB,CAC3BC,cAAc,CAAE,IADW,CAE3BC,WAAW,CAAE,IAFc,CAAvB,CAAR,CAIH,CALD,CAOA,GAAMC,CAAAA,UAAU,0FAAC,iBAAOP,IAAP,kHACbC,OAAO,CAACD,IAAD,CAAP,CADa,sDAAD,kBAAVO,CAAAA,UAAU,4CAAhB,CAIA1D,SAAS,CAAC,UAAM,CACZkD,cAAc,CAACR,IAAD,CAAd,CACA;AACA,MAAO,WAAM,CAEZ,CAFD,CAGH,CANQ,CAMN,CAACA,IAAD,CANM,CAAT,CAQF;AACE1C,SAAS,CAAC,UAAI,CACV;AACF,GAAI,CAAC0C,IAAI,CAACiB,OAAV,CAAkB,CACjB;AACP;AACA;AACA;AACA,cACO,CACF,CATQ,CAAT,CAWA,GAAMC,CAAAA,WAAW,CAAC,QAAZA,CAAAA,WAAY,EAAI,CAClB,GAAMC,CAAAA,IAAI,CAAEhC,SAAS,EAArB,CACAgC,IAAI,CAACC,GAAL,CAAUX,IAAV,CACD,GAAMG,CAAAA,GAAG,CAAE,CACVS,SAAS,CAACF,IAAI,CAACE,SADL,CAEVC,UAAU,CAACH,IAAI,CAACG,UAFN,CAGVC,QAAQ,CAACJ,IAAI,CAACI,QAHJ,CAIVC,MAAM,CAACL,IAAI,CAACK,MAJF,CAKVC,KAAK,CAACN,IAAI,CAACM,KALD,CAMVC,KAAK,CAACP,IAAI,CAACO,KAND,CAOVN,GAAG,CAACD,IAAI,CAACC,GAPC,CAAX,CASA;AACP;AACA;AACA;AACA;AACA;AACA;AACA,UACO,GAAIO,CAAAA,KAAK,CAAC,EAAV,CAEA,GAAI,CAAC,CAACR,IAAI,CAACO,KAAX,CAAiB,CACZC,KAAK,CAACD,KAAN,CAAYP,IAAI,CAACO,KAAjB,CACAE,UAAU,CAACD,KAAD,CAAV,CACJ,CAED,GAAI,CAAC,CAACR,IAAI,CAACM,KAAX,CAAiB,CAChBE,KAAK,CAACF,KAAN,CAAYN,IAAI,CAACM,KAAjB,CACAG,UAAU,CAACD,KAAD,CAAV,CACA,CAED,GAAI,CAAC,CAACR,IAAI,CAACE,SAAP,EAAoB,CAAC,CAACF,IAAI,CAACI,QAA3B,EAAuC,CAAC,CAACJ,IAAI,CAACK,MAA9C,EAAwD,CAAC,CAACL,IAAI,CAACC,GAAnE,CAAwE,CACrE;AACCD,IAAI,CAACG,UAAL,CAAgBH,IAAI,CAACG,UAAL,EAAiB,EAAjC,CACAK,KAAK,CAACH,MAAN,CAAaL,IAAI,CAACK,MAAlB,CACAG,KAAK,CAACP,GAAN,CAAUD,IAAI,CAACC,GADf,CAGAO,KAAK,CAACE,GAAN,CAAU,CACL,CACIR,SAAS,CAAEF,IAAI,CAACE,SADpB,CAEIE,QAAQ,CAACJ,IAAI,CAACI,QAFlB,CAGID,UAAU,CAAEH,IAAI,CAACG,UAHrB,CADK,CAML,CACID,SAAS,CAAEF,IAAI,CAACE,SADpB,CAEIE,QAAQ,CAACJ,IAAI,CAACG,UAFlB,CAGIA,UAAU,CAAEH,IAAI,CAACI,QAHrB,CANK,CAWL,CACIF,SAAS,CAAEF,IAAI,CAACG,UADpB,CAEIC,QAAQ,CAACJ,IAAI,CAACI,QAFlB,CAGID,UAAU,CAAEH,IAAI,CAACE,SAHrB,CAXK,CAgBL,CACIA,SAAS,CAAEF,IAAI,CAACG,UADpB,CAEIC,QAAQ,CAACJ,IAAI,CAACE,SAFlB,CAGIC,UAAU,CAAEH,IAAI,CAACI,QAHrB,CAhBK,CAqBL,CACIF,SAAS,CAAEF,IAAI,CAACI,QADpB,CAEIA,QAAQ,CAACJ,IAAI,CAACE,SAFlB,CAGIC,UAAU,CAAEH,IAAI,CAACG,UAHrB,CArBK,CA0BL,CACID,SAAS,CAAEF,IAAI,CAACI,QADpB,CAEIA,QAAQ,CAACJ,IAAI,CAACG,UAFlB,CAGIA,UAAU,CAAEH,IAAI,CAACE,SAHrB,CA1BK,CAHV,CAmCHO,UAAU,CAACD,KAAD,CAAV,CACA,CAGH,CA1ED,CA4EA,GAAMC,CAAAA,UAAU,CAAC,QAAXA,CAAAA,UAAW,CAACD,KAAD,CAAS,CACtBvB,UAAU,CAAC,EAAD,CAAV,CACA,GAAI,EAAEuB,KAAK,EAAIG,MAAM,CAACC,IAAP,CAAYJ,KAAZ,EAAmBK,MAAnB,GAA8B,CAAvC,EAA4CL,KAAK,CAACM,WAAN,GAAsBH,MAApE,CAAJ,CAAgF,CAC5EjC,UAAU,CAACqC,IAAX,CAAgB,CAACP,KAAK,CAACA,KAAP,CAAhB,EAA+BQ,IAA/B,CAAoC,SAACC,GAAD,CAAO,CACvCC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACA,GAAIA,GAAG,CAACG,KAAJ,CAAU,CAAd,CAAgB,CACb;AACEnC,UAAU,CAACgC,GAAG,CAACjB,IAAL,CAAV,CACFjB,YAAY,CAAC,IAAD,CAAZ,CACA,OACF,CAEJ,CATD,EAUCsC,KAVD,CAUO,SAACC,GAAD,CAAO,CAACJ,OAAO,CAACC,GAAR,CAAYG,GAAZ,EAAiB,CAVhC,EAWF,CAEL,CAhBD,CAmBA,GAAMC,CAAAA,UAAU,CAAE,QAAZA,CAAAA,UAAY,EAAI,CAClBxC,YAAY,CAAC,IAAD,CAAZ,CACH,CAFD,CAGA,GAAOyC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,EAAK,CAC5BzC,YAAY,CAAC,KAAD,CAAZ,CACC,CAFL,CAIA,GAAM0C,CAAAA,OAAO,2FAAC,kBAAOlF,MAAP,uKAAD,kBAAPkF,CAAAA,OAAO,8CAAb,CAoBA,GAAMC,CAAAA,IAAI,CAAC,QAALA,CAAAA,IAAK,CAACnF,MAAD,CAAU,CACjBK,KAAK,CAAC,CACF0B,OAAO,CAAE,+CADP,CAEFqD,IAAI,CAAE,WAFJ,CAGFC,WAAW,CAAE,IAHX,CAIFC,YAAY,CAAE,IAJZ,CAAD,CAAL,CAME5D,KAAK,GACLgB,UAAU,CAAC,EAAD,CAAV,CAEL,CAVD,CAWA,GAAM6C,CAAAA,GAAG,2FAAC,kBAAOvF,MAAP,sIACDA,MAAM,CAACwF,iBAAP,CAAyBC,SAAzB,CAAmC,SAAAC,EAAE,QAAEA,CAAAA,EAAE,CAACzD,QAAH,GAAcK,IAAI,CAACqD,eAAL,CAAqBC,cAArB,CAAoCzC,GAApD,EAArC,CAAD,GAAkG,CAAC,CADjG,2BAEF;AACM0C,MAHJ,CAGa,CACX7F,MAAM,CAAEA,MAAM,CAACmD,GADJ,CAEXlB,QAAQ,CAACK,IAAI,CAACqD,eAAL,CAAqBC,cAArB,CAAoCzC,GAFlC,CAGX2C,GAAG,CAAC9F,MAAM,CAAC8F,GAHA,CAIXC,UAAU,CAAC/F,MAAM,CAAC+F,UAJP,CAKXC,aAAa,CAAChG,MAAM,CAACwF,iBALV,CAHb,CAUC;AAVD,uBAWOnD,CAAAA,OAAO,CAAC4D,MAAR,CAAeJ,MAAf,EAAuBpB,IAAvB,CAA4B,SAACyB,IAAD,CAAQ,CACzC7F,KAAK,CAAC,CACF0B,OAAO,CAAE,4BADP,CAEFqD,IAAI,CAAE,YAFJ,CAGFC,WAAW,CAAE,IAHX,CAIFC,YAAY,CAAE,IAJZ,CAAD,CAAL,CAMA,CAPK,EAOHR,KAPG,CAOG,SAACC,GAAD,CAAO,CACf1E,KAAK,CAAC,CACF0B,OAAO,CAAE,yBAAyBgD,GADhC,CAEFK,IAAI,CAAE,WAFJ,CAGFC,WAAW,CAAE,IAHX,CAIFC,YAAY,CAAE,IAJZ,CAAD,CAAL,CAOA,CAfK,CAXP,QA4BF;AACA5D,KAAK,GACLgB,UAAU,CAAC,EAAD,CAAV,CACA;AA/BE,wDAAD,kBAAH6C,CAAAA,GAAG,8CAAT,CAkCA,GAAMY,CAAAA,KAAK,CAAC,QAANA,CAAAA,KAAM,CAACnG,MAAD,CAAU,CAClB4C,YAAY,CAAC,IAAD,CAAZ,CAEH,CAHD,CAIA,GAAMwD,CAAAA,QAAQ,2FAAG,kBAAO3C,IAAP,CAAY4C,CAAZ,qIACTtD,IADS,0BAET1C,KAAK,CAAC,CACF0B,OAAO,CAAE,8BADP,CAEFqD,IAAI,CAAE,WAFJ,CAGFC,WAAW,CAAE,IAHX,CAIFC,YAAY,CAAE,IAJZ,CAAD,CAAL,CAFS,yCAWbe,CAAC,CAACC,cAAF,GACAtE,UAAU,CAAC,EAAD,CAAV,CACAJ,QAAQ,CAAC,KAAD,CAAR,CACAE,UAAU,CAAC,KAAD,CAAV,CACA0B,WAAW,GAfE,KAgBTf,OAAO,CAAC6B,MAAR,CAAe,CAhBN,+BAiBJ3B,SAjBI,qEAoBT;AACA;AACD;AACCD,UAAU,CAAC,EAAD,CAAV,CAvBS,QA0BZ;AACD;AACE,GAAIJ,IAAI,CAACqD,eAAT,CAAyB,CACzBlC,IAAI,CAACxB,QAAL,CAAcK,IAAI,CAACqD,eAAL,CAAqBC,cAArB,CAAoCzC,GAAlD,CAAuD;AACtD,CAGCoD,OAjCS,CAiCAC,MAAM,CAACD,OAAP,mDAA2D9C,IAAI,CAACE,SAAhE,cAA+EF,IAAI,CAACG,UAApF,aAAmGH,IAAI,CAACI,QAAxG,OAjCA,KAkCT0C,OAlCS,2BAmCT9C,IAAI,CAACC,GAAL,CAASX,IAAT,CAnCS,wBAoCPZ,CAAAA,UAAU,CAAC8D,MAAX,CAAkBxC,IAAlB,EACLgB,IADK,CACA,SAACC,GAAD,CAAO,CACL;AACA2B,CAAC,CAACI,MAAF,CAAS/E,KAAT,GACD,gDACCI,UAAU,CAAC,IAAD,CAAV,CACAzB,KAAK,CAAC,CACF0B,OAAO,CAAE,4BADP,CAEFqD,IAAI,CAAE,YAFJ,CAGFC,WAAW,CAAE,IAHX,CAIFC,YAAY,CAAE,IAJZ,CAAD,CAAL,CAMExD,UAAU,CAAC,KAAD,CAAV,CACAY,UAAU,CAAC,EAAD,CAAV,CACAE,YAAY,CAAC,KAAD,CAAZ,CACAI,OAAO,GACZ,CAhBC,EAiBD8B,KAjBC,CAiBK,SAACC,GAAD,CAAO,CACV1E,KAAK,CAAC,CACF0B,OAAO,CAAE,yBAA2BgD,GADlC,CAEFK,IAAI,CAAE,WAFJ,CAGFC,WAAW,CAAE,IAHX,CAIFC,YAAY,CAAE,IAJZ,CAAD,CAAL,CAME5C,UAAU,CAAC,EAAD,CAAV,CACAE,YAAY,CAAC,KAAD,CAAZ,CACL,CA1BC,CApCO,0DAAH,kBAARwD,CAAAA,QAAQ,kDAAd,CAmEA,mBACI,wCACI,aAAK,SAAS,CAAC,OAAf,wBACA,YAAK,SAAS,CAAC,aAAf,uBACI,UAAG,SAAS,CAAC,mBAAb,2BADJ,EADA,cAMA,YAAK,SAAS,CAAC,kCAAf,uBAIA,cAAM,QAAQ,CAAE7E,YAAY,CAAC6E,QAAD,CAA5B,wBACI,UAAG,SAAS,CAAC,WAAb,mBADJ,cAEA,YAAK,SAAS,CAAC,qBAAf,uBACI,aAAK,SAAS,CAAC,YAAf,wBACI,YAAK,SAAS,CAAC,OAAf,uBACI,WAAG,SAAS,CAAC,wCAAb,wBACI,cAAO,SAAS,CAAC,0BAAjB,CAA4C,GAAG,CAAE9E,QAAQ,CAAC,CAAEoF,QAAQ,CAAE,IAAZ,CAAD,CAAzD,CAAgF,IAAI,CAAC,WAArF,CAAiG,IAAI,CAAC,MAAtG,CAA6G,WAAW,CAAC,YAAzH,CAAsI,MAAM,CAAElD,WAA9I,EADJ,cAEI,aAAM,SAAS,CAAC,uBAAhB,uBACI,UAAG,SAAS,CAAC,iBAAb,EADJ,EAFJ,GADJ,EADJ,cAWI,YAAK,SAAS,CAAC,OAAf,uBACI,WAAG,SAAS,CAAC,wCAAb,wBACA,cAAO,SAAS,CAAC,gBAAjB,CAAkC,GAAG,CAAElC,QAAQ,EAA/C,CAAoD,IAAI,CAAC,YAAzD,CAAsE,IAAI,CAAC,MAA3E,CAAkF,WAAW,CAAC,aAA9F,CAA4G,MAAM,CAAEkC,WAApH,EADA,cAEA,aAAM,SAAS,CAAC,uBAAhB,uBACI,UAAG,SAAS,CAAC,kBAAb,EADJ,EAFA,GADJ,EAXJ,cAqBA,YAAK,SAAS,CAAC,OAAf,uBACI,WAAG,SAAS,CAAC,wBAAb,wBACI,cAAO,SAAS,CAAC,0BAAjB,CAA4C,GAAG,CAAElC,QAAQ,CAAC,CAAEoF,QAAQ,CAAE,IAAZ,CAAD,CAAzD,CAA+E,IAAI,CAAC,UAApF,CAA+F,IAAI,CAAC,MAApG,CAA2G,WAAW,CAAC,WAAvH,CAAmI,MAAM,CAAElD,WAA3I,EADJ,cAEI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,kBAAb,EADA,EAFJ,GADJ,EArBA,GADJ,EAFA,cAkCJ,UAAG,SAAS,CAAC,WAAb,qBAlCI,cAmCJ,YAAK,SAAS,CAAC,qBAAf,uBACI,aAAK,SAAS,CAAC,YAAf,wBACI,YAAK,SAAS,CAAC,OAAf,uBACI,UAAG,SAAS,CAAC,kCAAb,uBAMI,KAAC,UAAD,kBAAY,SAAS,CAAC,WAAtB,CACI,QAAQ,CAAET,IADd,CAEI,QAAQ,CAAE,kBAAAA,IAAI,QAAIO,CAAAA,UAAU,CAACP,IAAD,CAAd,EAFlB,CAGI,UAAU,CAAC,YAHf,CAII,eAAe,CAAC,oCAChB;AALJ,cAMc,qBANd,EANJ,EADJ,EADJ,cAkBI,YAAK,SAAS,CAAC,OAAf,uBACI,WAAG,SAAS,CAAC,wBAAb,wBAEI,cAAO,SAAS,CAAC,gBAAjB,CAAkC,GAAG,CAAEzB,QAAQ,EAA/C,CAAmD,IAAI,CAAC,QAAxD,CAAiE,IAAI,CAAC,MAAtE,CAA6E,WAAW,CAAC,QAAzF,CAAkG,MAAM,CAAEkC,WAA1G,EAFJ,cAGI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,iBAAb,EADA,EAHJ,GADJ,EAlBJ,cA2BI,YAAK,SAAS,CAAC,OAAf,uBACI,WAAG,SAAS,CAAC,wBAAb,wBAEI,cAAO,SAAS,CAAC,gBAAjB,CAAkC,GAAG,CAAElC,QAAQ,EAA/C,CAAmD,IAAI,CAAC,eAAxD,CAAwE,IAAI,CAAC,MAA7E,CAAoF,WAAW,CAAC,gBAAhG,EAFJ,cAGI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,iBAAb,EADA,EAHJ,GADJ,EA3BJ,cAoCI,YAAK,SAAS,CAAC,OAAf,uBACI,WAAG,SAAS,CAAC,wBAAb,wBAEI,cAAO,SAAS,CAAC,gBAAjB,CAAkC,GAAG,CAAEA,QAAQ,EAA/C,CAAmD,IAAI,CAAC,KAAxD,CAA8D,IAAI,CAAC,MAAnE,CAA0E,WAAW,CAAC,wBAAtF,EAFJ,cAGI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,iBAAb,EADA,EAHJ,GADJ,EApCJ,GADJ,EAnCI,cAmFJ,YAAK,SAAS,CAAC,qBAAf,uBACI,aAAK,SAAS,CAAC,YAAf,wBACI,YAAK,SAAS,CAAC,OAAf,uBACI,WAAG,SAAS,CAAC,wBAAb,wBAEI,cAAO,SAAS,CAAC,gBAAjB,CAAkC,GAAG,CAAEA,QAAQ,EAA/C,CAAmD,IAAI,CAAC,UAAxD,CAAmE,IAAI,CAAC,MAAxE,CAA+E,WAAW,CAAC,UAA3F,EAFJ,cAGI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,iBAAb,EADA,EAHJ,GADJ,EADJ,cAUI,YAAK,SAAS,CAAC,OAAf,uBACI,WAAG,SAAS,CAAC,wBAAb,wBAEI,cAAO,SAAS,CAAC,gBAAjB,CAAkC,GAAG,CAAEA,QAAQ,EAA/C,CAAmD,IAAI,CAAC,YAAxD,CAAqE,IAAI,CAAC,MAA1E,CAAiF,WAAW,CAAC,YAA7F,EAFJ,cAGI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,iBAAb,EADA,EAHJ,GADJ,EAVJ,cAmBI,YAAK,SAAS,CAAC,OAAf,uBACI,WAAG,SAAS,CAAC,wBAAb,wBACI,cAAO,SAAS,CAAC,0BAAjB,CAA4C,GAAG,CAAEA,QAAQ,CAAC,CAAEoF,QAAQ,CAAE,IAAZ,CAAD,CAAzD,CAA+E,IAAI,CAAC,OAApF,CAA4F,IAAI,CAAC,MAAjG,CAAwG,WAAW,CAAC,WAApH,CAAgI,MAAM,CAAElD,WAAxI,EADJ,cAEI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,kBAAb,EADA,EAFJ,GADJ,EAnBJ,cA4BI,YAAK,SAAS,CAAC,OAAf,uBACI,WAAG,SAAS,CAAC,wBAAb,wBAEI,cAAO,SAAS,CAAC,iBAAjB,CAAmC,GAAG,CAAElC,QAAQ,EAAhD,CAAoD,IAAI,CAAC,OAAzD,CAAiE,IAAI,CAAC,OAAtE,CAA8E,WAAW,CAAC,OAA1F,CAAmG,MAAM,CAAEkC,WAA3G,EAFJ,cAGI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,iBAAb,EADA,EAHJ,GADJ,EA5BJ,GADJ,EAnFI,cA2HJ,YAAK,SAAS,CAAC,OAAf,uBACQ,WAAG,SAAS,CAAC,wBAAb,wBAEI,cAAO,SAAS,CAAC,gBAAjB,CAAkC,GAAG,CAAElC,QAAQ,EAA/C,CAAmD,IAAI,CAAC,YAAxD,CAAqE,IAAI,CAAC,MAA1E,CAAiF,WAAW,CAAC,MAA7F,EAFJ,cAGI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,iBAAb,EADA,EAHJ,GADR,EA3HI,cAoIJ,UAAG,SAAS,CAAC,WAAb,qBApII,cAqIA,YAAK,SAAS,CAAC,OAAf,uBACI,WAAG,SAAS,CAAC,wBAAb,wBAEI,cAAO,SAAS,CAAC,gBAAjB,CAAkC,GAAG,CAAEA,QAAQ,EAA/C,CAAmD,IAAI,CAAC,SAAxD,CAAkE,IAAI,CAAC,MAAvE,CAA8E,WAAW,CAAC,qBAA1F,EAFJ,cAGI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,iBAAb,EADA,EAHJ,GADJ,EArIA,cA8IJ,YAAK,SAAS,CAAC,qBAAf,uBACI,aAAK,SAAS,CAAC,YAAf,wBACI,YAAK,SAAS,CAAC,OAAf,uBACI,WAAG,SAAS,CAAC,wBAAb,wBAEI,cAAO,SAAS,CAAC,gBAAjB,CAAkC,GAAG,CAAEA,QAAQ,EAA/C,CAAmD,IAAI,CAAC,MAAxD,CAA+D,IAAI,CAAC,MAApE,CAA2E,WAAW,CAAC,WAAvF,EAFJ,cAGI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,iBAAb,EADA,EAHJ,GADJ,EADJ,cAUI,YAAK,SAAS,CAAC,OAAf,uBACI,WAAG,SAAS,CAAC,wBAAb,wBAEI,cAAO,SAAS,CAAC,gBAAjB,CAAkC,GAAG,CAAEA,QAAQ,EAA/C,CAAmD,IAAI,CAAC,KAAxD,CAA8D,IAAI,CAAC,MAAnE,CAA0E,WAAW,CAAC,iBAAtF,EAFJ,cAGI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,iBAAb,EADA,EAHJ,GADJ,EAVJ,cAmBI,YAAK,SAAS,CAAC,OAAf,uBACI,WAAG,SAAS,CAAC,wBAAb,wBAEI,cAAO,SAAS,CAAC,gBAAjB,CAAkC,GAAG,CAAEA,QAAQ,EAA/C,CAAmD,IAAI,CAAC,OAAxD,CAAgE,IAAI,CAAC,MAArE,CAA4E,WAAW,CAAC,OAAxF,EAFJ,cAGI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,iBAAb,EADA,EAHJ,GADJ,EAnBJ,cA4BI,YAAK,SAAS,CAAC,OAAf,uBACI,WAAG,SAAS,CAAC,wBAAb,wBAEI,cAAO,SAAS,CAAC,gBAAjB,CAAkC,GAAG,CAAEA,QAAQ,EAA/C,CAAmD,IAAI,CAAC,SAAxD,CAAkE,IAAI,CAAC,MAAvE,CAA8E,WAAW,CAAC,SAA1F,EAFJ,cAGI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,iBAAb,EADA,EAHJ,GADJ,EA5BJ,GADJ,EA9II,cAsLJ,UAAG,SAAS,CAAC,WAAb,0BAtLI,cAuLJ,YAAK,SAAS,CAAC,qBAAf,uBACI,aAAK,SAAS,CAAC,YAAf,wBACQ,YAAK,SAAS,CAAC,OAAf,uBACI,WAAG,SAAS,CAAC,wBAAb,wBAEI,cAAO,SAAS,CAAC,gBAAjB,CAAkC,GAAG,CAAEA,QAAQ,EAA/C,CAAmD,IAAI,CAAC,YAAxD,CAAqE,IAAI,CAAC,MAA1E,CAAiF,WAAW,CAAC,aAA7F,EAFJ,cAGI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,iBAAb,EADA,EAHJ,GADJ,EADR,cAUQ,YAAK,SAAS,CAAC,OAAf,uBACI,WAAG,SAAS,CAAC,wBAAb,wBAEI,cAAO,SAAS,CAAC,gBAAjB,CAAkC,GAAG,CAAEA,QAAQ,EAA/C,CAAmD,IAAI,CAAC,UAAxD,CAAmE,IAAI,CAAC,MAAxE,CAA+E,WAAW,CAAC,UAA3F,EAFJ,cAGI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,iBAAb,EADA,EAHJ,GADJ,EAVR,cAmBQ,YAAK,SAAS,CAAC,OAAf,uBACI,WAAG,SAAS,CAAC,wBAAb,wBAEI,cAAO,SAAS,CAAC,gBAAjB,CAAkC,GAAG,CAAEA,QAAQ,EAA/C,CAAmD,IAAI,CAAC,cAAxD,CAAuE,IAAI,CAAC,MAA5E,CAAmF,WAAW,CAAC,cAA/F,EAFJ,cAGI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,iBAAb,EADA,EAHJ,GADJ,EAnBR,GADJ,EAvLI,cAuNJ,YAAK,SAAS,CAAC,qBAAf,uBACI,aAAK,SAAS,CAAC,YAAf,wBAEI,YAAK,SAAS,CAAC,OAAf,uBACI,WAAG,SAAS,CAAC,wBAAb,wBAEI,cAAO,SAAS,CAAC,gBAAjB,CAAkC,GAAG,CAAEA,QAAQ,EAA/C,CAAmD,IAAI,CAAC,WAAxD,CAAoE,IAAI,CAAC,MAAzE,CAAgF,WAAW,CAAC,WAA5F,EAFJ,cAGI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,iBAAb,EADA,EAHJ,GADJ,EAFJ,cAWI,YAAK,SAAS,CAAC,OAAf,uBACI,WAAG,SAAS,CAAC,wBAAb,wBAEI,cAAO,SAAS,CAAC,gBAAjB,CAAkC,GAAG,CAAEA,QAAQ,EAA/C,CAAmD,IAAI,CAAC,eAAxD,CAAwE,IAAI,CAAC,MAA7E,CAAoF,WAAW,CAAC,eAAhG,EAFJ,cAGI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,iBAAb,EADA,EAHJ,GADJ,EAXJ,GADJ,EAvNI,cA+OA,YAAK,SAAS,CAAC,OAAf,uBACI,WAAG,SAAS,CAAC,wBAAb,wBACI,cAAO,SAAS,CAAC,gBAAjB,CAAkC,GAAG,CAAEA,QAAQ,EAA/C,CAAmD,IAAI,CAAC,iBAAxD,CAA0E,IAAI,CAAC,MAA/E,CAAsF,WAAW,CAAC,gCAAlG,EADJ,cAEI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,iBAAb,EADA,EAFJ,GADJ,EA/OA,cAuPA,UAAG,SAAS,CAAC,WAAb,qCAvPA,cAwPJ,YAAK,SAAS,CAAC,qBAAf,uBACI,aAAK,SAAS,CAAC,YAAf,wBACI,YAAK,SAAS,CAAC,OAAf,uBACI,WAAG,SAAS,CAAC,wBAAb,wBACI,cAAO,SAAS,CAAC,gBAAjB,CAAkC,GAAG,CAAEA,QAAQ,EAA/C,CAAmD,IAAI,CAAC,UAAxD,CAAmE,IAAI,CAAC,MAAxE,CAA+E,WAAW,CAAC,uBAA3F,EADJ,cAEI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,uBAAb,EADA,EAFJ,GADJ,EADJ,cASI,YAAK,SAAS,CAAC,OAAf,uBACI,WAAG,SAAS,CAAC,wBAAb,wBACI,cAAO,SAAS,CAAC,gBAAjB,CAAkC,GAAG,CAAEA,QAAQ,EAA/C,CAAmD,IAAI,CAAC,aAAxD,CAAsE,IAAI,CAAC,MAA3E,CAAkF,WAAW,CAAC,0BAA9F,EADJ,cAEI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,uBAAb,EADA,EAFJ,GADJ,EATJ,cAiBI,YAAK,SAAS,CAAC,OAAf,uBACI,WAAG,SAAS,CAAC,wBAAb,wBAEI,cAAO,SAAS,CAAC,gBAAjB,CAAkC,GAAG,CAAEA,QAAQ,EAA/C,CAAmD,IAAI,CAAC,WAAxD,CAAoE,IAAI,CAAC,OAAzE,CAAiF,WAAW,CAAC,mBAA7F,EAFJ,cAGI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,iBAAb,EADA,EAHJ,GADJ,EAjBJ,cA0BI,YAAK,SAAS,CAAC,OAAf,uBACI,WAAG,SAAS,CAAC,wBAAb,wBAEI,cAAO,SAAS,CAAC,gBAAjB,CAAkC,GAAG,CAAEA,QAAQ,EAA/C,CAAmD,IAAI,CAAC,kBAAxD,CAA2E,IAAI,CAAC,MAAhF,CAAuF,WAAW,CAAC,0BAAnG,EAFJ,cAGI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,iBAAb,EADA,EAHJ,GADJ,EA1BJ,GADJ,EAxPI,cA8RJ,aAAK,SAAS,CAAC,wBAAf,wBACQ,UAAG,SAAS,CAAC,SAAb,uBACI,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,4BAAhC,kBADJ,EADR,cAMQ,UAAG,SAAS,CAAC,SAAb,uBACI,eAAQ,IAAI,CAAC,OAAb,CAAqB,SAAS,CAAC,4BAA6B,qCAA5D,mBADJ,EANR,GA9RI,GAJA,EANA,GADJ,cA8TI,aAAK,SAAS,iBAAWiB,SAAS,CAAC,WAAD,CAAa,EAAjC,CAAd,wBACI,YAAK,SAAS,CAAC,kBAAf,EADJ,cAEI,aAAK,SAAS,CAAC,4BAAf,wBACI,gBAAQ,SAAS,CAAC,2BAAlB,wBACA,UAAG,SAAS,CAAC,uBAAb,2CADA,cAEA,eAAQ,SAAS,CAAC,QAAlB,CAA2B,aAAW,OAAtC,CAA+C,OAAO,CAAE0C,iBAAxD,EAFA,GADJ,cAKI,gBAAS,SAAS,CAAC,iBAAnB,uBAEC,KAAC,WAAD,EAAc,IAAI,CAAExC,OAApB,CAA8B,UAAU,CAAEwC,iBAA1C,CAA6D,OAAO,CAAEC,OAAtE,CAA+E,IAAI,CAAGC,IAAtF,CAA4F,GAAG,CAAEI,GAAjG,CAAsG,KAAK,CAAEY,KAA7G,EAFD,EALJ,GAFJ,GA9TJ,GADJ,CAmVH,CAED,MAAO,SAASQ,CAAAA,UAAT,EAAqB,CACzB;AACC;AAFwB,gBAGCjH,QAAQ,CAAC,KAAD,CAHT,2CAGjBiC,KAHiB,gBAGVC,QAHU,gBAIvB;AAJuB,gBAKKlC,QAAQ,CAAC,KAAD,CALb,2CAKjBmC,OALiB,gBAKRC,UALQ,gBAMvB;AANuB,gBAOKpC,QAAQ,CAAC,EAAD,CAPb,2CAOlBqC,OAPkB,gBAOTC,UAPS,gBAQxB,GAAMG,CAAAA,UAAU,CAACnC,MAAM,CAACoC,OAAP,CAAe,QAAf,CAAjB,CACA;AACD;AAVyB,gBAWS1C,QAAQ,CAAC,EAAD,CAXjB,2CAWjBkH,UAXiB,gBAWNC,aAXM,gBAYvB;AAZuB,gBAaiBnH,QAAQ,EAbzB,2CAalBuB,cAbkB,gBAaFC,iBAbE,gBAa4B;AACpD;AAdwB,iBAeDvB,UAAU,CAACS,aAAD,CAfT,CAejBY,KAfiB,cAejBA,KAfiB,CAeX8F,QAfW,cAeXA,QAfW,CAgBxB;AAhBwB,iBAiBHnH,UAAU,CAACQ,WAAD,CAjBP,CAiBjBmC,IAjBiB,cAiBjBA,IAjBiB,CAiBZyE,OAjBY,cAiBZA,OAjBY,iBAkBArH,QAAQ,CAAC,CAAD,CAlBR,2CAkBjBsH,IAlBiB,gBAkBXC,OAlBW,gCAmBEvH,QAAQ,CAAC,EAAD,CAnBV,2CAmBjBwH,KAnBiB,gBAmBVC,QAnBU,gCAoBEzH,QAAQ,CAAC,CAAD,CApBV,2CAoBjBmF,KApBiB,gBAoBVuC,QApBU,gBAwBxB,GAAMC,CAAAA,eAAe,2FAAG,4JACdC,eADc,CACE,CAClBrG,cAAc,CAAC,EADG,CAElBG,IAAI,CAAE,QAFY,CADF,wBAKd0F,CAAAA,QAAQ,CAAC,SAACS,SAAD,wCAAkBA,SAAlB,MAA6BpG,YAAY,CAACmG,eAA1C,IAAD,CALM,yDAAH,kBAAfD,CAAAA,eAAe,2CAArB,CAUA,GAAMG,CAAAA,SAAS,2FAAE,kBAAMzG,MAAN,iKACPG,CAAAA,iBAAiB,CAACH,MAAD,CADV,QAEJuG,eAFI,CAEY,CACrBrG,cAAc,CAACF,MADM,CAErBK,IAAI,CAAE,QAFe,CAFZ,wBAMR0F,CAAAA,QAAQ,CAAC,SAACS,SAAD,wCAAkBA,SAAlB,MAA6BpG,YAAY,CAACmG,eAA1C,IAAD,CANA,yDAAF,kBAATE,CAAAA,SAAS,8CAAf,CASD,GAAMC,CAAAA,YAAY,CAAC,QAAbA,CAAAA,YAAa,CAACC,GAAD,CAAO,CACpB;AACF,GAAMC,CAAAA,KAAK,CAAC,WAAZ,CACAhD,OAAO,CAACC,GAAR,CAAY8C,GAAZ,EACAvF,UAAU,CAACqC,IAAX,CAAgB,CAACP,KAAK,CAAE,CACfE,GAAG,CAAC,CACA,CAAER,SAAS,CAAE,CACTiE,MAAM,CAACF,GADE,CAETG,QAAQ,CAAC,GAFA,CAAb,CADA,CAKA,CAAEhE,QAAQ,CAAE,CACR+D,MAAM,CAACF,GADC,CAERG,QAAQ,CAAC,GAFD,CAAZ,CALA,CASA,CAAEjE,UAAU,CAAE,CACVgE,MAAM,CAACF,GADG,CAEVG,QAAQ,CAAC,GAFC,CAAd,CATA,CAaA,CAAE7D,KAAK,CAAE,CACL4D,MAAM,CAACF,GADF,CAELG,QAAQ,CAAC,GAFJ,CAAT,CAbA,CAiBA,CAAE9B,UAAU,CAAE,CACV6B,MAAM,CAACF,GADG,CAEVG,QAAQ,CAAC,GAFC,CAAd,CAjBA,CAqBA,CAAE/B,GAAG,CAAE,CACH8B,MAAM,CAACF,GADJ,CAEHG,QAAQ,CAAC,GAFN,CAAP,CArBA,CAyBA,CAAE9D,KAAK,CAAE,CACL6D,MAAM,CAACF,GADF,CAELG,QAAQ,CAAC,GAFJ,CAAT,CAzBA,CA6BA,CAAEC,eAAe,CAAE,CACfF,MAAM,CAACF,GADQ,CAEfG,QAAQ,CAAC,GAFM,CAAnB,CA7BA,CAiCA,CAAE/D,MAAM,CAAE4D,GAAV,CAjCA,CADW,CAqCf,6BAA6BpF,IAAI,CAACqD,eAAL,CAAqBC,cAArB,CAAoCzC,GArClD,CAqCuD;AACtE4E,MAAM,CAACb,KAtCQ,CAuCfc,KAAK,CAAE,CACHC,SAAS,CAAE,CAAC,CADT,CAvCQ,CAAR,CAAhB,EA0CiBxD,IA1CjB,CA0CsB,SAACC,GAAD,CAAO,CACpBC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACDmC,aAAa,CAACnC,GAAG,CAACjB,IAAL,CAAb,CACCzB,UAAU,CAAC,+BAAD,CAAV,CACAF,UAAU,CAAC,IAAD,CAAV,CACH,CA/CN,EAgDMgD,KAhDN,CAgDY,SAACC,GAAD,CAAO,CACVJ,OAAO,CAACC,GAAR,CAAYG,GAAZ,EACA/C,UAAU,CAAC,kDAAmD+C,GAApD,CAAV,CACAnD,QAAQ,CAAC,IAAD,CAAR,CACH,CApDN,EAqDE,CAzDN,CA2DC,GAAMsG,CAAAA,aAAa,2FAAE,uKACT5F,IAAI,CAACqD,eADI,kDAEWxD,CAAAA,UAAU,CAACqC,IAAX,CACpB,CAACP,KAAK,CAAE,CACJ,6BAA6B3B,IAAI,CAACqD,eAAL,CAAqBC,cAArB,CAAoCzC,GAD7D,CAEJ4E,MAAM,CAACb,KAFH,CAGJiB,KAAK,CAACnB,IAAI,CAAGE,KAHT,CAIJc,KAAK,CAAE,CACHC,SAAS,CAAE,CAAC,CADT,CAJH,CAAR,CADoB,CAFX,QAEPG,UAFO,qBAWbpB,IAAI,GAAG,CAXM,kDAYPH,CAAAA,aAAa,CAACuB,UAAU,CAAC3E,IAAZ,CAZN,+DAcPoD,CAAAA,aAAa,CAAC,SAAAU,SAAS,QAAEA,CAAAA,SAAS,CAACc,MAAV,CAAiBD,UAAU,CAAC3E,IAA5B,CAAF,EAAV,CAdN,iCAkBV2D,CAAAA,QAAQ,CAACgB,UAAU,CAACvD,KAAZ,CAlBE,SAmBhB;AACA;AACAoC,OAAO,CAAC,SAAAD,IAAI,QAAEA,CAAAA,IAAI,CAAC,CAAP,EAAL,CAAP,CArBgB,oCAwBD1E,IAAI,CAACiB,OAxBJ,mDAyBuBpB,CAAAA,UAAU,CAACqC,IAAX,CACpB,CAACP,KAAK,CAAE,CAEJ8D,MAAM,CAAC,EAFH,CAGJC,KAAK,CAAE,CACHC,SAAS,CAAE,CAAC,CADT,CAHH,CAAR,CADoB,CAzBvB,SAyBKG,WAzBL,wCAkCCvB,CAAAA,aAAa,CAACuB,WAAU,CAAC3E,IAAZ,CAlCd,0DAAF,kBAAbyE,CAAAA,aAAa,2CAAnB,CAyCAtI,SAAS,CAAC,UAAM,CAEJ,GAAI0C,IAAJ,CAAS,CACL;AACAgG,IAAI,GACP,CAHD,IAGK,CACD;AACpB;AACA;AACA;AACA;AACA;AACA,0CACiB,CACDnG,UAAU,CAACoG,EAAX,CAAc,SAAd,CAAyB,SAACrF,GAAD,QAAOoF,CAAAA,IAAI,EAAX,EAAzB,EACAnG,UAAU,CAACoG,EAAX,CAAc,SAAd,CAAyB,SAACrF,GAAD,QAAOoF,CAAAA,IAAI,EAAX,EAAzB,EACAnG,UAAU,CAACoG,EAAX,CAAc,SAAd,CAAyB,SAACrF,GAAD,QAAOoF,CAAAA,IAAI,EAAX,EAAzB,EACAnG,UAAU,CAACoG,EAAX,CAAc,SAAd,CAAyB,SAACrF,GAAD,QAAOoF,CAAAA,IAAI,EAAX,EAAzB,EACA,MAAO,WAAM,CAEZ,CAFD,CAGR;AACK,CAtBA,CAsBC,EAtBD,CAAT,CAuBQ,GAAMA,CAAAA,IAAI,2FAAG,+JAGCrB,CAAAA,OAAO,CAAC,CAAD,CAHR,+BAKGG,CAAAA,QAAQ,CAAC,CAAD,CALX,+BAMCP,CAAAA,aAAa,CAAC,EAAD,CANd,+BAODqB,CAAAA,aAAa,EAPZ,yDAAH,kBAAJI,CAAAA,IAAI,2CAAV,CAYC1I,SAAS,CAAC,UAAM,CACb;AACC,MAAO,WAAM,CAEZ,CAFD,CAGH,CALQ,CAKN,CAACgH,UAAD,CALM,CAAT,CAMT;AAEA,mBACI,yBACItE,IAAI,cAAG,wCACH,aAAK,SAAS,CAAC,OAAf,wBACI,YAAK,SAAS,CAAC,YAAf,uBACI,YAAK,SAAS,CAAC,YAAf,uBACI,YAAK,SAAS,CAAC,OAAf,uBACI,WAAG,SAAS,CAAC,0BAAb,wBACI,KAAC,aAAD,EAAe,SAAS,CAAC,iBAAzB,CACI,IAAI,CAAC,MADT,CACgB,WAAW,CAAC,gBAD5B,CAEI,SAAS,CAAE,CAFf,CAGI,eAAe,CAAE,GAHrB,CAII,QAAQ,CAAE,kBAAC+D,CAAD,QAAKoB,CAAAA,YAAY,CAACpB,CAAC,CAACI,MAAF,CAAS+B,KAAV,CAAjB,EAJd,EADJ,cAMI,aAAM,SAAS,CAAC,uBAAhB,uBACI,UAAG,SAAS,CAAC,eAAb,EADJ,EANJ,GADJ,EADJ,EADJ,EADJ,cAiBI,aAAK,SAAS,CAAC,YAAf,4BAA6B,aAAM,SAAS,CAAC,kCAAhB,8BAA7B,GAjBJ,cAkBI,YAAK,SAAS,CAAC,aAAf,uBACI,YAAK,SAAS,CAAC,YAAf,uBACI,YAAK,SAAS,CAAC,YAAf,uBAA4B,YAAK,SAAS,CAAC,4BAAf,CAA4C,OAAO,CAAEnB,eAArD,iBAA5B,EADJ,EADJ,EAlBJ,GADG,cA0BH,YAAK,SAAS,CAAC,iCAAf,CAAkD,EAAE,CAAC,eAArD,uBACA,KAAC,cAAD,EACQ,UAAU,CAAET,UAAU,CAACtC,MAD/B,CAEQ,IAAI,CAAE4D,aAFd,CAGQ,OAAO,CAAErD,KAAK,CAAC+B,UAAU,CAACtC,MAHlC,CAIQ,MAAM,cAAE,kCAJhB,CAKQ,gBAAgB,CAAC,eALzB,uBAOgB,eAAO,SAAS,CAAC,wDAAjB,wBACI,oCACI,mCACA,iCAAI,aAAM,KAAK,CAAC,WAAZ,kBAAJ,EADA,cAEA,iCAAI,aAAM,KAAK,CAAC,WAAZ,uBAAJ,EAFA,cAGA,kCAHA,cAIA,iCAAI,aAAM,KAAK,CAAC,aAAZ,yBAAJ,EAJA,cAKA,iCAAI,aAAM,KAAK,CAAC,KAAZ,0BAAJ,EALA,cAMD,iCAAI,aAAM,KAAK,CAAC,KAAZ,iBAAJ,EANC,cAOA,iCAAI,aAAM,KAAK,CAAC,QAAZ,oBAAJ,EAPA,cAQA,iCAAI,aAAM,KAAK,CAAC,OAAZ,mBAAJ,EARA,cASA,iCAAI,aAAM,KAAK,CAAC,OAAZ,mBAAJ,EATA,cAUA,iCAAI,aAAM,KAAK,CAAC,MAAZ,kBAAJ,EAVA,GADJ,EADJ,cAgBI,gBAhBJ,cAmBI,uBACKsC,UAAU,CAAC6B,GAAX,CAAe,SAAC1H,MAAD,CAAS2H,CAAT,qBAEZ,YAAqB,OAAO,CAAE,yBAAIlB,CAAAA,SAAS,CAACzG,MAAD,CAAb,EAA9B,CAAsD,SAAS,CAAEA,MAAM,CAACoC,GAAP,IAAc,CAAAlC,cAAc,OAAd,EAAAA,cAAc,SAAd,QAAAA,cAAc,CAAEkC,GAAhB,GAAqB,IAAnC,EAAyC,aAAzC,CAAuD,EAAxH,wBACA,oBAAKuF,CAAC,CAAC,CAAP,EADA,cAEA,oBAAK3H,MAAM,CAAC8C,QAAZ,EAFA,cAGA,oBAAK9C,MAAM,CAAC4C,SAAZ,EAHA,cAIA,oBAAK5C,MAAM,CAAC6C,UAAZ,EAJA,cAKA,oBAAK7C,MAAM,CAAC4H,WAAP,CAAmBF,GAAnB,CAAuB,SAACG,GAAD,CAAKF,CAAL,qBACxB,2BACCE,GAAG,CAACC,WADL,KACmBD,GAAG,CAACC,WAAJ,GAAkB,MAAlB,CAAyB,EAAzB,CAA4B,GAD/C,KACsDD,GAAG,CAACE,gBAD1D,cAC2E,aAD3E,GADwB,EAAvB,CAAL,EALA,cAUD,oBAAK/H,MAAM,CAAC2C,GAAP,eAAc,yBAAGpD,yBAAyB,CAAC,GAAIyI,CAAAA,IAAJ,CAAShI,MAAM,CAAC2C,GAAhB,CAAD,CAA5B,EAAnB,EAVC,cAWA,oBAAK3C,MAAM,CAAC+C,MAAZ,EAXA,cAYC,oBAAK/C,MAAM,CAACiD,KAAZ,EAZD,cAaA,oBAAKjD,MAAM,CAACgD,KAAZ,EAbA,cAcA,oBAAKhD,MAAM,CAACgF,UAAZ,EAdA,GAAShF,MAAM,CAACoC,GAAhB,CAFY,EAAf,CADL,EAnBJ,GAPhB,EADA,EA1BG,GAAH,cAgFC,gCAjFT,EADJ,CAsFC,CAEL,MAAO,SAAS6F,CAAAA,YAAT,EAAuB,kDAC1B;AACC;AACD,GAAMC,CAAAA,OAAO,CAAElJ,UAAU,EAAzB,CACE;AAJwB,mBAKND,aAAa,EALP,CAKpBoJ,IALoB,gBAKpBA,IALoB,CAKdC,GALc,gBAKdA,GALc,CAM5B;AAN4B,gBAODzJ,QAAQ,CAAC,KAAD,CAPP,2CAOnBiC,KAPmB,gBAOZC,QAPY,gBAOe;AAPf,gBAQuBlC,QAAQ,CAAC,KAAD,CAR/B,2CAQnB0J,iBARmB,gBAQAC,oBARA,gCASa3J,QAAQ,CAAC,KAAD,CATrB,2CASnB4J,YATmB,gBASLC,eATK,gCAUO7J,QAAQ,CAAC,KAAD,CAVf,2CAUnB6C,SAVmB,gBAURC,YAVQ,gCAWqB9C,QAAQ,CAAC,KAAD,CAX7B,2CAWnB8J,gBAXmB,gBAWDC,mBAXC,gBAYzB;AAZyB,gBAaI/J,QAAQ,CAAC,EAAD,CAbZ,2CAanBqC,OAbmB,gBAaVC,UAbU,gBAaiB;AAC3C;AACA;AAf0B,iBAgBHrC,UAAU,CAACQ,WAAD,CAhBP,CAgBnBmC,IAhBmB,cAgBnBA,IAhBmB,CAgBdyE,OAhBc,cAgBdA,OAhBc,kBAiBDpH,UAAU,CAACS,aAAD,CAjBT,CAiBnBY,KAjBmB,cAiBnBA,KAjBmB,CAiBb8F,QAjBa,cAiBbA,QAjBa,CAqB5B,GAAI/F,CAAAA,MAAM,CAAEC,KAAK,CAACG,YAAN,CAAmBF,cAA/B,CACG;AACD,GAAMjB,CAAAA,MAAM,CAACe,MAAb,CACA,GAAM2I,CAAAA,UAAU,2FAAE,4JACLpC,eADK,CACW,CACrBrG,cAAc,CAACF,MADM,CAErBK,IAAI,CAAE,QAFe,CADX,wBAKT0F,CAAAA,QAAQ,CAAC,SAACS,SAAD,wCAAkBA,SAAlB,MAA6BpG,YAAY,CAACmG,eAA1C,IAAD,CALC,yDAAF,kBAAVoC,CAAAA,UAAU,2CAAhB,CAUA,GAAOC,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,EAAI,CACjCN,oBAAoB,CAAC,IAAD,CAApB,CAEC,CAHD,CAIA,GAAOO,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,EAAK,CAC/BP,oBAAoB,CAAC,KAAD,CAApB,CACC,CAFD,CAIA,GAAOQ,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,EAAK,CAC5BN,eAAe,CAAC,KAAD,CAAf,CACC,CAFL,CAIA,GAAOO,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,EAAK,CACxBL,mBAAmB,CAAC,KAAD,CAAnB,CACC,CAFT,CAIA,GAAMM,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAK,CACrBR,eAAe,CAAC,IAAD,CAAf,CACD;AACE,CAHL,CAKA,GAAMS,CAAAA,cAAc,CAAE,QAAhBA,CAAAA,cAAgB,EAAI,CACtBP,mBAAmB,CAAC,IAAD,CAAnB,CACH,CAFD,CAGA,GAAMzE,CAAAA,UAAU,CAAE,QAAZA,CAAAA,UAAY,EAAI,CAClBxC,YAAY,CAAC,IAAD,CAAZ,CACH,CAFD,CAGA,GAAOyC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,EAAK,CAC5BzC,YAAY,CAAC,KAAD,CAAZ,CACC,CAFL,CAID;AACH;AACA;AACA;AACA;AACA,yBACI,mBACI,wCACA,aAAK,SAAS,CAAC,OAAf,wBACI,aAAK,SAAS,CAAC,aAAf,wBACI,UAAG,SAAS,CAAC,mBAAb,4BADJ,CAIK,CAAC,wBAAAF,IAAI,CAACqD,eAAL,sEAAsBsE,KAAtB,CAA4BC,QAA5B,CAAqC,aAArC,IAAqD,yBAAA5H,IAAI,CAACqD,eAAL,wEAAsBsE,KAAtB,CAA4B3F,MAA5B,IAAqC,CAA1F,EAA6FhC,IAAI,CAACiB,OAAnG,gBAAiH,eAAQ,SAAS,CAAC,2CAAlB,CAA8D,OAAO,CAAEwG,WAAvE,yBAJtH,GADJ,cAOI,aAAK,SAAS,CAAC,0BAAf,wBAEA,YAAK,SAAS,CAAC,qBAAf,uBACI,aAAK,SAAS,CAAC,YAAf,WACChJ,MAAM,CAAC4C,SAAP,eAAqB,YAAK,SAAS,CAAC,OAAf,uBACd,WAAG,SAAS,CAAC,wCAAb,wBACI,cAAO,SAAS,CAAC,uBAAjB,CAA2C,IAAI,CAAC,WAAhD,CAA4D,IAAI,CAAC,MAAjE,yBADJ,cAC+F,cAAO,SAAS,CAAC,iBAAjB,UAAoC5C,MAAM,CAAC4C,SAA3C,EAD/F,cAEI,aAAM,SAAS,CAAC,uBAAhB,uBACI,UAAG,SAAS,CAAC,cAAb,EADJ,EAFJ,GADc,EADtB,CAWK5C,MAAM,CAAC6C,UAAP,eAAsB,YAAK,SAAS,CAAC,OAAf,uBACnB,WAAG,SAAS,CAAC,wCAAb,wBACA,cAAO,SAAS,CAAC,sBAAjB,CAA0C,IAAI,CAAC,YAA/C,CAA4D,IAAI,CAAC,MAAjE,2BADA,cAC6F,cAAO,SAAS,CAAC,gBAAjB,UAAmC7C,MAAM,CAAC6C,UAA1C,EAD7F,cAEA,aAAM,SAAS,CAAC,uBAAhB,uBACI,UAAG,SAAS,CAAC,eAAb,EADJ,EAFA,GADmB,EAX3B,CAoBF7C,MAAM,CAAC8C,QAAP,eACE,YAAK,SAAS,CAAC,OAAf,uBACI,WAAG,SAAS,CAAC,wBAAb,wBACI,cAAO,SAAS,CAAC,sBAAjB,CAAyC,IAAI,CAAC,UAA9C,CAAyD,IAAI,CAAC,MAA9D,uBADJ,cAC0F,cAAO,SAAS,CAAC,gBAAjB,UAAmC9C,MAAM,CAAC8C,QAA1C,EAD1F,cAEI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,eAAb,EADA,EAFJ,GADJ,EArBA,GADJ,EAFA,cAkCI,YAAK,SAAS,CAAC,qBAAf,uBACA,aAAK,SAAS,CAAC,YAAf,WACC9C,MAAM,CAAC2C,GAAP,eAAa,YAAK,SAAS,CAAC,OAAf,uBACV,WAAG,SAAS,CAAC,wBAAb,wBAEI,cAAO,SAAS,CAAC,sBAAjB,CAAyC,IAAI,CAAC,KAA9C,CAAoD,IAAI,CAAC,MAAzD,4BAFJ,cAE0F,cAAO,SAAS,CAAC,gBAAjB,UAAoC,GAAIqF,CAAAA,IAAJ,CAAShI,MAAM,CAAC2C,GAAhB,EAAqByG,kBAArB,CAAwC,OAAxC,CAApC,EAF1F,cAGI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,cAAb,EADA,EAHJ,GADU,EADd,CAUCpJ,MAAM,CAAC+C,MAAP,eAAgB,YAAK,SAAS,CAAC,OAAf,uBACb,WAAG,SAAS,CAAC,wBAAb,wBAEI,cAAO,SAAS,CAAC,sBAAjB,CAAyC,IAAI,CAAC,QAA9C,CAAuD,IAAI,CAAC,MAA5D,qBAFJ,cAEsF,cAAO,SAAS,CAAC,gBAAjB,UAAmC/C,MAAM,CAAC+C,MAA1C,EAFtF,cAGI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,cAAb,EADA,EAHJ,GADa,EAVjB,CAmBC/C,MAAM,CAACqJ,aAAP,eAAwB,YAAK,SAAS,CAAC,OAAf,uBACrB,WAAG,SAAS,CAAC,wBAAb,wBAEI,cAAO,SAAS,CAAC,sBAAjB,CAAyC,IAAI,CAAC,eAA9C,CAA8D,IAAI,CAAC,MAAnE,6BAFJ,cAEqG,cAAO,SAAS,CAAC,gBAAjB,UAAmCrJ,MAAM,CAACqJ,aAA1C,EAFrG,cAGI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,cAAb,EADA,EAHJ,GADqB,EAnBzB,CA4BCrJ,MAAM,CAAC+E,GAAP,eAAc,YAAK,SAAS,CAAC,OAAf,uBACX,WAAG,SAAS,CAAC,wBAAb,wBAEI,cAAO,SAAS,CAAC,sBAAjB,CAAyC,IAAI,CAAC,KAA9C,CAAoD,IAAI,CAAC,MAAzD,sCAFJ,cAEoG,cAAO,SAAS,CAAC,gBAAjB,UAAmC/E,MAAM,CAAC+E,GAA1C,EAFpG,cAGI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,cAAb,EADA,EAHJ,GADW,EA5Bf,GADA,EAlCJ,cA0EI,YAAK,SAAS,CAAC,qBAAf,uBACI,aAAK,SAAS,CAAC,YAAf,WACC/E,MAAM,CAACsJ,QAAP,eAAmB,YAAK,SAAS,CAAC,OAAf,uBAChB,WAAG,SAAS,CAAC,wBAAb,wBAEI,cAAO,SAAS,CAAC,sBAAjB,CAAyC,IAAI,CAAC,UAA9C,CAAyD,IAAI,CAAC,MAA9D,wBAFJ,cAE2F,cAAO,SAAS,CAAC,gBAAjB,UAAmCtJ,MAAM,CAACsJ,QAA1C,EAF3F,cAGI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,cAAb,EADA,EAHJ,GADgB,EADpB,CAUCtJ,MAAM,CAACuJ,UAAP,eAAsB,YAAK,SAAS,CAAC,OAAf,uBACnB,WAAG,SAAS,CAAC,wBAAb,wBAEI,cAAO,SAAS,CAAC,sBAAjB,CAAyC,IAAI,CAAC,YAA9C,CAA2D,IAAI,CAAC,MAAhE,0BAFJ,cAE+F,cAAO,SAAS,CAAC,gBAAjB,UAAmCvJ,MAAM,CAACuJ,UAA1C,EAF/F,cAGI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,cAAb,EADA,EAHJ,GADmB,EAVvB,CAmBCvJ,MAAM,CAACiD,KAAP,eAAe,YAAK,SAAS,CAAC,OAAf,uBACZ,WAAG,SAAS,CAAC,wBAAb,wBACI,cAAO,SAAS,CAAC,sBAAjB,CAAyC,IAAI,CAAC,OAA9C,CAAsD,IAAI,CAAC,MAA3D,uBADJ,cACuF,cAAO,SAAS,CAAC,gBAAjB,UAAmCjD,MAAM,CAACiD,KAA1C,EADvF,cAEI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,eAAb,EADA,EAFJ,GADY,EAnBhB,CA4BCjD,MAAM,CAACgD,KAAP,eAAgB,YAAK,SAAS,CAAC,OAAf,uBACb,WAAG,SAAS,CAAC,wBAAb,wBAEI,cAAO,SAAS,CAAC,sBAAjB,CAAyC,IAAI,CAAC,OAA9C,CAAsD,IAAI,CAAC,OAA3D,qBAFJ,cAEsF,cAAO,SAAS,CAAC,gBAAjB,UAAmChD,MAAM,CAACgD,KAA1C,EAFtF,cAGI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,cAAb,EADA,EAHJ,GADa,EA5BjB,GADJ,EA1EJ,CAmHKhD,MAAM,CAACwJ,OAAP,eAAiB,YAAK,SAAS,CAAC,OAAf,uBAClB,WAAG,SAAS,CAAC,wBAAb,wBAEI,cAAO,SAAS,CAAC,sBAAjB,CAAyC,IAAI,CAAC,SAA9C,CAAwD,IAAI,CAAC,MAA7D,mCAFJ,cAEqG,cAAO,SAAS,CAAC,gBAAjB,UAAmCxJ,MAAM,CAACwJ,OAA1C,EAFrG,cAGI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,cAAb,EADA,EAHJ,GADkB,EAnHtB,cA4HI,YAAK,SAAS,CAAC,qBAAf,uBACI,aAAK,SAAS,CAAC,YAAf,WACKxJ,MAAM,CAACyJ,IAAP,eAAe,YAAK,SAAS,CAAC,OAAf,uBACZ,WAAG,SAAS,CAAC,wBAAb,wBAEI,cAAO,SAAS,CAAC,sBAAjB,CAAyC,IAAI,CAAC,MAA9C,CAAqD,IAAI,CAAC,MAA1D,yBAFJ,cAEwF,cAAO,SAAS,CAAC,gBAAjB,UAAmCzJ,MAAM,CAACyJ,IAA1C,EAFxF,cAGI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,cAAb,EADA,EAHJ,GADY,EADpB,CAUKzJ,MAAM,CAAC0J,GAAP,eAAc,YAAK,SAAS,CAAC,OAAf,uBACX,WAAG,SAAS,CAAC,wBAAb,wBAEI,cAAO,SAAS,CAAC,sBAAjB,CAAyC,IAAI,CAAC,KAA9C,CAAoD,IAAI,CAAC,MAAzD,+BAFJ,cAE6F,cAAO,SAAS,CAAC,gBAAjB,UAAmC1J,MAAM,CAAC0J,GAA1C,EAF7F,cAGI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,cAAb,EADA,EAHJ,GADW,EAVnB,CAmBK1J,MAAM,CAACC,KAAP,eAAgB,YAAK,SAAS,CAAC,OAAf,uBACb,WAAG,SAAS,CAAC,wBAAb,wBACI,cAAO,SAAS,CAAC,sBAAjB,CAAyC,IAAI,CAAC,OAA9C,CAAsD,IAAI,CAAC,MAA3D,qBADJ,cACqF,cAAO,SAAS,CAAC,gBAAjB,UAAmCD,MAAM,CAACC,KAA1C,EADrF,cAEI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,cAAb,EADA,EAFJ,GADa,EAnBrB,CA2BKD,MAAM,CAAC2J,OAAP,eAAiB,YAAK,SAAS,CAAC,OAAf,uBAClB,WAAG,SAAS,CAAC,wBAAb,wBAEI,cAAO,SAAS,CAAC,sBAAjB,CAAyC,IAAI,CAAC,SAA9C,CAAwD,IAAI,CAAC,MAA7D,uBAFJ,cAEyF,cAAO,SAAS,CAAC,gBAAjB,UAAmC3J,MAAM,CAAC2J,OAA1C,EAFzF,cAGI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,cAAb,EADA,EAHJ,GADkB,EA3BtB,GADJ,EA5HJ,cAmKI,YAAK,SAAS,CAAC,qBAAf,uBACA,aAAK,SAAS,CAAC,YAAf,WACM3J,MAAM,CAAC4J,UAAP,eAAsB,YAAK,SAAS,CAAC,OAAf,uBACpB,WAAG,SAAS,CAAC,wBAAb,wBAEI,cAAO,SAAS,CAAC,sBAAjB,CAAyC,IAAI,CAAC,YAA9C,CAA2D,IAAI,CAAC,MAAhE,0BAFJ,cAE+F,cAAO,SAAS,CAAC,gBAAjB,UAAmC5J,MAAM,CAAC4J,UAA1C,EAF/F,cAGI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,cAAb,EADA,EAHJ,GADoB,EAD5B,CAWK5J,MAAM,CAAC6J,QAAP,eAAmB,YAAK,SAAS,CAAC,OAAf,uBAChB,WAAG,SAAS,CAAC,wBAAb,wBAEI,cAAO,SAAS,CAAC,sBAAjB,CAAyC,IAAI,CAAC,UAA9C,CAAyD,IAAI,CAAC,MAA9D,wBAFJ,cAE2F,cAAO,SAAS,CAAC,gBAAjB,UAAmC7J,MAAM,CAAC6J,QAA1C,EAF3F,cAGI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,cAAb,EADA,EAHJ,GADgB,EAXxB,CAoBK7J,MAAM,CAAC8J,YAAP,eAAuB,YAAK,SAAS,CAAC,OAAf,uBACpB,WAAG,SAAS,CAAC,wBAAb,wBAEI,cAAO,SAAS,CAAC,sBAAjB,CAAyC,IAAI,CAAC,cAA9C,CAA6D,IAAI,CAAC,MAAlE,4BAFJ,cAEmG,cAAO,SAAS,CAAC,gBAAjB,UAAmC9J,MAAM,CAAC8J,YAA1C,EAFnG,cAGI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,cAAb,EADA,EAHJ,GADoB,EApB5B,GADA,EAnKJ,cAoMI,YAAK,SAAS,CAAC,qBAAf,uBACA,aAAK,SAAS,CAAC,YAAf,WAEC9J,MAAM,CAAC+J,SAAP,eAAoB,YAAK,SAAS,CAAC,OAAf,uBACjB,WAAG,SAAS,CAAC,wBAAb,wBAEI,cAAO,SAAS,CAAC,sBAAjB,CAAyC,IAAI,CAAC,WAA9C,CAA0D,IAAI,CAAC,MAA/D,yBAFJ,cAE6F,cAAO,SAAS,CAAC,gBAAjB,UAAmC/J,MAAM,CAAC+J,SAA1C,EAF7F,cAGI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,cAAb,EADA,EAHJ,GADiB,EAFrB,CAWC/J,MAAM,CAACgK,aAAP,eAAwB,YAAK,SAAS,CAAC,OAAf,uBACrB,WAAG,SAAS,CAAC,wBAAb,wBAEI,cAAO,SAAS,CAAC,sBAAjB,CAAyC,IAAI,CAAC,eAA9C,CAA8D,IAAI,CAAC,MAAnE,6BAFJ,cAEqG,cAAO,SAAS,CAAC,gBAAjB,UAAmChK,MAAM,CAACgK,aAA1C,EAFrG,cAGI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,cAAb,EADA,EAHJ,GADqB,EAXzB,GADA,EApMJ,CA2NIhK,MAAM,CAACgF,UAAP,eAAqB,YAAK,SAAS,CAAC,OAAf,uBACrB,WAAG,SAAS,CAAC,wBAAb,wBAEI,cAAO,SAAS,CAAC,sBAAjB,CAAyC,IAAI,CAAC,YAA9C,CAA2D,IAAI,CAAC,MAAhE,mBAFJ,cAEwF,cAAO,SAAS,CAAC,gBAAjB,UAAmChF,MAAM,CAACgF,UAA1C,EAFxF,cAGI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,cAAb,EADA,EAHJ,GADqB,EA3NzB,CAoOKhF,MAAM,CAAC+G,eAAP,eAA0B,YAAK,SAAS,CAAC,OAAf,uBAC3B,WAAG,SAAS,CAAC,wBAAb,wBACI,cAAO,SAAS,CAAC,sBAAjB,CAAyC,IAAI,CAAC,iBAA9C,CAAgE,IAAI,CAAC,MAArE,4CADJ,cACsH,cAAO,SAAS,CAAC,gBAAjB,UAAmC/G,MAAM,CAAC+G,eAA1C,EADtH,cAEI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,cAAb,EADA,EAFJ,GAD2B,EApO/B,cA4OI,YAAK,SAAS,CAAC,qBAAf,uBACA,aAAK,SAAS,CAAC,YAAf,WACC/G,MAAM,CAACiK,QAAP,eAAmB,YAAK,SAAS,CAAC,OAAf,uBAChB,WAAG,SAAS,CAAC,wBAAb,wBACI,cAAO,SAAS,CAAC,sBAAjB,CAAyC,IAAI,CAAC,UAA9C,CAAyD,IAAI,CAAC,MAA9D,mCADJ,cACsG,cAAO,SAAS,CAAC,gBAAjB,UAAmCjK,MAAM,CAACiK,QAA1C,EADtG,cAEI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,oBAAb,EADA,EAFJ,GADgB,EADpB,CASCjK,MAAM,CAACkK,WAAP,eAAsB,YAAK,SAAS,CAAC,OAAf,uBACnB,WAAG,SAAS,CAAC,wBAAb,wBACI,cAAO,SAAS,CAAC,sBAAjB,CAAyC,IAAI,CAAC,aAA9C,CAA4D,IAAI,CAAC,MAAjE,sCADJ,cAC4G,cAAO,SAAS,CAAC,gBAAjB,UAAmClK,MAAM,CAACkK,WAA1C,EAD5G,cAEI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,oBAAb,EADA,EAFJ,GADmB,EATvB,CAiBClK,MAAM,CAACmK,SAAP,eAAoB,YAAK,SAAS,CAAC,OAAf,uBACjB,WAAG,SAAS,CAAC,wBAAb,wBAEI,cAAO,SAAS,CAAC,sBAAjB,CAAyC,IAAI,CAAC,WAA9C,CAA0D,IAAI,CAAC,OAA/D,gCAFJ,cAEqG,cAAO,SAAS,CAAC,gBAAjB,UAAmCnK,MAAM,CAACmK,SAA1C,EAFrG,cAGI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,cAAb,EADA,EAHJ,GADiB,EAjBrB,CA0BCnK,MAAM,CAACoK,gBAAP,eAA2B,YAAK,SAAS,CAAC,OAAf,uBACxB,WAAG,SAAS,CAAC,wBAAb,wBAEI,cAAO,SAAS,CAAC,sBAAjB,CAAyC,IAAI,CAAC,kBAA9C,CAAiE,IAAI,CAAC,MAAtE,0CAFJ,cAEoH,cAAO,SAAS,CAAC,gBAAjB,UAAmCpK,MAAM,CAACoK,gBAA1C,EAFpH,cAGI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,cAAb,EADA,EAHJ,GADwB,EA1B5B,GADA,EA5OJ,cAkRA,aAAK,SAAS,CAAC,wBAAf,wBACI,UAAG,SAAS,CAAC,SAAb,uBACI,eAAQ,SAAS,CAAC,4BAAlB,CAA+C,OAAO,CAAEzB,UAAxD,0BADJ,EADJ,cAMI,UAAG,SAAS,CAAC,SAAb,uBACI,eAAQ,SAAS,CAAC,yBAAlB,CAA4C,OAAO,CAAEC,mBAArD,0BADJ,EANJ,cAWI,UAAG,SAAS,CAAC,SAAb,uBACI,eAAQ,SAAS,CAAC,4BAAlB,CAA+C,OAAO,CAAEK,cAAxD,kCADJ,EAXJ,cAqBI,UAAG,SAAS,CAAC,SAAb,uBACI,eAAQ,SAAS,CAAC,yBAAlB,CAA4C,OAAO,CAAE,kBAAI,CAACf,OAAO,CAACmC,IAAR,CAAa,uBAAb,EAAsC,CAAhG,8BADJ,EArBJ,GAlRA,GAPJ,GADA,cA0TA,aAAK,SAAS,iBAAWhC,iBAAiB,CAAC,WAAD,CAAa,EAAzC,CAAd,wBACI,YAAK,SAAS,CAAC,kBAAf,EADJ,cAEI,aAAK,SAAS,CAAC,YAAf,wBACI,gBAAQ,SAAS,CAAC,iBAAlB,wBACA,UAAG,SAAS,CAAC,kBAAb,mCADA,cAEA,eAAQ,SAAS,CAAC,QAAlB,CAA2B,aAAW,OAAtC,CAA+C,OAAO,CAAEQ,gBAAxD,EAFA,GADJ,cAKI,gBAAS,SAAS,CAAC,iBAAnB,uBAEA,KAAC,aAAD,EAAe,UAAU,CAAEA,gBAA3B,EAFA,EALJ,GAFJ,GA1TA,cA4UI,aAAK,SAAS,iBAAWN,YAAY,CAAC,WAAD,CAAa,EAApC,CAAd,wBACI,YAAK,SAAS,CAAC,kBAAf,EADJ,cAEI,aAAK,SAAS,CAAC,YAAf,wBACI,gBAAQ,SAAS,CAAC,iBAAlB,wBACA,UAAG,SAAS,CAAC,kBAAb,yBADA,cAEA,eAAQ,SAAS,CAAC,QAAlB,CAA2B,aAAW,OAAtC,CAA+C,OAAO,CAAEO,iBAAxD,EAFA,GADJ,cAKI,gBAAS,SAAS,CAAC,iBAAnB,uBAEA,KAAE,iBAAF,EAAoB,UAAU,CAAEA,iBAAhC,EAFA,EALJ,GAFJ,GA5UJ,cA6VI,aAAK,SAAS,iBAAWL,gBAAgB,CAAC,WAAD,CAAa,EAAxC,CAAd,wBACI,YAAK,SAAS,CAAC,kBAAf,EADJ,cAEI,aAAK,SAAS,CAAC,YAAf,wBACI,gBAAQ,SAAS,CAAC,iBAAlB,wBACA,UAAG,SAAS,CAAC,kBAAb,6BADA,cAEA,eAAQ,SAAS,CAAC,QAAlB,CAA2B,aAAW,OAAtC,CAA+C,OAAO,CAAEM,iBAAxD,EAFA,GADJ,cAKI,gBAAS,SAAS,CAAC,iBAAnB,uBAEA,KAAC,iBAAD,EAAoB,UAAU,CAAEA,iBAAhC,EAFA,EALJ,GAFJ,GA7VJ,cA8WI,aAAK,SAAS,iBAAWvH,SAAS,CAAC,WAAD,CAAa,EAAjC,CAAd,wBACI,YAAK,SAAS,CAAC,kBAAf,EADJ,cAEI,aAAK,SAAS,CAAC,YAAf,wBACI,gBAAQ,SAAS,CAAC,iBAAlB,wBACA,UAAG,SAAS,CAAC,kBAAb,6BADA,cAEA,eAAQ,SAAS,CAAC,QAAlB,CAA2B,aAAW,OAAtC,CAA+C,OAAO,CAAE0C,iBAAxD,EAFA,GADJ,cAKI,gBAAS,SAAS,CAAC,iBAAnB,uBAEA,KAAC,wBAAD,EAA2B,cAAc,CAAElE,MAAM,CAACoC,GAAlD,CAAwD,UAAU,CAAE8B,iBAApE,EAFA,EALJ,GAFJ,GA9WJ,GADJ,CAoYH,CAED,MAAO,SAASoG,CAAAA,YAAT,EAAuB,eACwBnL,OAAO,EAD/B,CAClBoB,QADkB,WAClBA,QADkB,CACRC,YADQ,WACRA,YADQ,CACMC,QADN,WACMA,QADN,CACeE,KADf,WACeA,KADf,CACmC;AAC7D;AAF0B,gBAGDhC,QAAQ,CAAC,KAAD,CAHP,2CAGnBiC,KAHmB,gBAGZC,QAHY,gBAI1B;AAJ0B,gBAKGlC,QAAQ,CAAC,KAAD,CALX,2CAKnBmC,OALmB,gBAKVC,UALU,gBAM1B;AAN0B,gBAOGpC,QAAQ,CAAC,EAAD,CAPX,2CAOnBqC,OAPmB,gBAOXC,UAPW,gBAQ1B;AACA,GAAMG,CAAAA,UAAU,CAACnC,MAAM,CAACoC,OAAP,CAAe,QAAf,CAAjB,CACA;AACC;AAXyB,iBAYXzC,UAAU,CAACQ,WAAD,CAZC,CAYnBmC,IAZmB,cAYnBA,IAZmB,kBAaD3C,UAAU,CAACS,aAAD,CAbT,CAanBY,KAbmB,cAanBA,KAbmB,CAab8F,QAba,cAabA,QAba,CAe1B,GAAM/F,CAAAA,MAAM,CAAEC,KAAK,CAACG,YAAN,CAAmBF,cAAjC,CAEIrB,SAAS,CAAC,UAAM,CACZ4B,QAAQ,CAAC,WAAD,CAAcT,MAAM,CAAC4C,SAArB,CAAiC,CACrCP,cAAc,CAAE,IADqB,CAErCC,WAAW,CAAE,IAFwB,CAAjC,CAAR,CAIA7B,QAAQ,CAAC,YAAD,CAAeT,MAAM,CAAC6C,UAAtB,CAAmC,CACvCR,cAAc,CAAE,IADuB,CAEvCC,WAAW,CAAE,IAF0B,CAAnC,CAAR,CAIC7B,QAAQ,CAAC,UAAD,CAAaT,MAAM,CAAC8C,QAApB,CAA+B,CACpCT,cAAc,CAAE,IADoB,CAEpCC,WAAW,CAAE,IAFuB,CAA/B,CAAR,CAID7B,QAAQ,CAAC,OAAD,CAAUT,MAAM,CAACiD,KAAjB,CAAyB,CAC7BZ,cAAc,CAAE,IADa,CAE7BC,WAAW,CAAE,IAFgB,CAAzB,CAAR,CAIA7B,QAAQ,CAAC,OAAD,CAAUT,MAAM,CAACgD,KAAjB,CAAyB,CAC7BX,cAAc,CAAE,IADa,CAE7BC,WAAW,CAAE,IAFgB,CAAzB,CAAR,CAIA7B,QAAQ,CAAC,KAAD,CAAQT,MAAM,CAAC2C,GAAf,CAAqB,CACzBN,cAAc,CAAE,IADS,CAEzBC,WAAW,CAAE,IAFY,CAArB,CAAR,CAIA7B,QAAQ,CAAC,QAAD,CAAWT,MAAM,CAAC+C,MAAlB,CAA2B,CAC/BV,cAAc,CAAE,IADe,CAE/BC,WAAW,CAAE,IAFkB,CAA3B,CAAR,CAIC7B,QAAQ,CAAC,YAAD,CAAeT,MAAM,CAACuJ,UAAtB,CAAmC,CACxClH,cAAc,CAAE,IADwB,CAExCC,WAAW,CAAE,IAF2B,CAAnC,CAAR,CAID7B,QAAQ,CAAC,SAAD,CAAYT,MAAM,CAACwJ,OAAnB,CAA6B,CACjCnH,cAAc,CAAE,IADiB,CAEjCC,WAAW,CAAE,IAFoB,CAA7B,CAAR,CAIA7B,QAAQ,CAAC,MAAD,CAAST,MAAM,CAACyJ,IAAhB,CAAuB,CAC3BpH,cAAc,CAAE,IADW,CAE3BC,WAAW,CAAE,IAFc,CAAvB,CAAR,CAIC7B,QAAQ,CAAC,OAAD,CAAUT,MAAM,CAACC,KAAjB,CAAyB,CAC9BoC,cAAc,CAAE,IADc,CAE9BC,WAAW,CAAE,IAFiB,CAAzB,CAAR,CAID7B,QAAQ,CAAC,SAAD,CAAYT,MAAM,CAAC2J,OAAnB,CAA6B,CACjCtH,cAAc,CAAE,IADiB,CAEjCC,WAAW,CAAE,IAFoB,CAA7B,CAAR,CAIA7B,QAAQ,CAAC,UAAD,CAAaT,MAAM,CAACiK,QAApB,CAA+B,CACnC5H,cAAc,CAAE,IADmB,CAEnCC,WAAW,CAAE,IAFsB,CAA/B,CAAR,CAIA7B,QAAQ,CAAC,WAAD,CAAcT,MAAM,CAACmK,SAArB,CAAiC,CACrC9H,cAAc,CAAE,IADqB,CAErCC,WAAW,CAAE,IAFwB,CAAjC,CAAR,CAIA7B,QAAQ,CAAC,aAAD,CAAgBT,MAAM,CAACuK,UAAvB,CAAoC,CACxClI,cAAc,CAAE,IADwB,CAExCC,WAAW,CAAE,IAF2B,CAApC,CAAR,CAIC7B,QAAQ,CAAC,KAAD,CAAQT,MAAM,CAAC0J,GAAf,CAAqB,CAC1BrH,cAAc,CAAE,IADU,CAE1BC,WAAW,CAAE,IAFa,CAArB,CAAR,CAID7B,QAAQ,CAAC,YAAD,CAAeT,MAAM,CAAC4J,UAAtB,CAAmC,CACvCvH,cAAc,CAAE,IADuB,CAEvCC,WAAW,CAAE,IAF0B,CAAnC,CAAR,CAIA7B,QAAQ,CAAC,UAAD,CAAaT,MAAM,CAAC6J,QAApB,CAA+B,CACnCxH,cAAc,CAAE,IADmB,CAEnCC,WAAW,CAAE,IAFsB,CAA/B,CAAR,CAIC7B,QAAQ,CAAC,cAAD,CAAiBT,MAAM,CAAC8J,YAAxB,CAAuC,CAC5CzH,cAAc,CAAE,IAD4B,CAE5CC,WAAW,CAAE,IAF+B,CAAvC,CAAR,CAID7B,QAAQ,CAAC,iBAAD,CAAoBT,MAAM,CAAC+G,eAA3B,CAA6C,CACjD1E,cAAc,CAAE,IADiC,CAEjDC,WAAW,CAAE,IAFoC,CAA7C,CAAR,CAIA7B,QAAQ,CAAC,YAAD,CAAeT,MAAM,CAACgF,UAAtB,CAAmC,CACvC3C,cAAc,CAAE,IADuB,CAEvCC,WAAW,CAAE,IAF0B,CAAnC,CAAR,CAIA7B,QAAQ,CAAC,KAAD,CAAQT,MAAM,CAAC+E,GAAf,CAAqB,CACzB1C,cAAc,CAAE,IADS,CAEzBC,WAAW,CAAE,IAFY,CAArB,CAAR,CAIA7B,QAAQ,CAAC,eAAD,CAAkBT,MAAM,CAACgK,aAAzB,CAAyC,CAC7C3H,cAAc,CAAE,IAD6B,CAE7CC,WAAW,CAAE,IAFgC,CAAzC,CAAR,CAIC7B,QAAQ,CAAC,WAAD,CAAcT,MAAM,CAAC+J,SAArB,CAAiC,CACtC1H,cAAc,CAAE,IADsB,CAEtCC,WAAW,CAAE,IAFyB,CAAjC,CAAR,CAMD,MAAO,WAAM,CAEZ,CAFD,CAGH,CAtGQ,CAAT,CAwGL,GAAMkI,CAAAA,YAAY,4FAAC,iKACTjE,eADS,CACO,CACrBrG,cAAc,CAACF,MADM,CAErBK,IAAI,CAAE,QAFe,CADP,yBAKb0F,CAAAA,QAAQ,CAAC,SAACS,SAAD,wCAAkBA,SAAlB,MAA6BpG,YAAY,CAACmG,eAA1C,IAAD,CALK,2DAAD,kBAAZiE,CAAAA,YAAY,4CAAlB,CAUK,GAAMC,CAAAA,WAAW,CAAE,QAAbA,CAAAA,WAAa,EAAI,CACvB,GAASlE,CAAAA,eAAe,CAAC,CACrBrG,cAAc,CAAC,EADM,CAErBG,IAAI,CAAE,QAFe,CAAzB,CAIA0F,QAAQ,CAAC,SAACS,SAAD,wCAAkBA,SAAlB,MAA6BpG,YAAY,CAACmG,eAA1C,IAAD,CAAR,CAEC,CAPD,CAQE;AACN,GAAMmE,CAAAA,YAAY,4FAAC,8JACXC,IADW,CACNlF,MAAM,CAACD,OAAP,CAAe,4CAAf,CADM,CAGToF,OAHS,CAGD5K,MAAM,CAACoC,GAHN,CAIf,GAAIuI,IAAJ,CAAS,CAETvJ,UAAU,CAACyJ,MAAX,CAAkBD,OAAlB,EACClH,IADD,CACM,SAACC,GAAD,CAAO,CACL;AACAhD,KAAK,GACN;AACf;AACA;AACA;AACA;AACA,2BACgBrB,KAAK,CAAC,CACF0B,OAAO,CAAE,4BADP,CAEFqD,IAAI,CAAE,YAFJ,CAGFC,WAAW,CAAE,IAHX,CAIFC,YAAY,CAAE,IAJZ,CAAD,CAAL,CAMAkG,WAAW,GACd,CAjBL,EAkBK1G,KAlBL,CAkBW,SAACC,GAAD,CAAO,CACX;AACA;AACC1E,KAAK,CAAC,CACF0B,OAAO,CAAE,qDAAsDgD,GAD7D,CAEFK,IAAI,CAAE,WAFJ,CAGFC,WAAW,CAAE,IAHX,CAIFC,YAAY,CAAE,IAJZ,CAAD,CAAL,CAMH,CA3BL,EA4BC,CAlCc,0DAAD,kBAAZmG,CAAAA,YAAY,4CAAlB,CAsCD;AACH;AACA;AACA,gBACI,GAAMrF,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAAC3C,IAAD,CAAM4C,CAAN,CAAW,CACxBA,CAAC,CAACC,cAAF,GAEAxE,UAAU,CAAC,KAAD,CAAV,CACD;AACD;AACI;AAEFK,UAAU,CAAC0J,KAAX,CAAiB9K,MAAM,CAACoC,GAAxB,CAA4BM,IAA5B,EACCgB,IADD,CACM,SAACC,GAAD,CAAO,CACL;AACD;AACA;AACErE,KAAK,CAAC,CACH0B,OAAO,CAAE,4BADN,CAEHqD,IAAI,CAAE,YAFH,CAGHC,WAAW,CAAE,IAHV,CAIHC,YAAY,CAAE,IAJX,CAAD,CAAL,CAODkG,WAAW,GAEd,CAdL,EAeK1G,KAfL,CAeW,SAACC,GAAD,CAAO,CACV;AACD;AACC1E,KAAK,CAAC,CACF0B,OAAO,CAAE,qDAAsDgD,GAD7D,CAEFK,IAAI,CAAE,WAFJ,CAGFC,WAAW,CAAE,IAHX,CAIFC,YAAY,CAAE,IAJZ,CAAD,CAAL,CAMH,CAxBL,EA0BD,CAlCH,CAqCA,mBAEI,sCACA,aAAK,SAAS,CAAC,OAAf,wBACI,YAAK,SAAS,CAAC,aAAf,uBACI,UAAG,SAAS,CAAC,mBAAb,mCADJ,EADJ,cAMI,aAAK,SAAS,CAAC,0BAAf,wBAEA,cAAM,QAAQ,CAAE/D,YAAY,CAAC6E,QAAD,CAA5B,wBACA,YAAK,SAAS,CAAC,qBAAf,uBACJ,aAAK,SAAS,CAAC,YAAf,wBACI,YAAK,SAAS,CAAC,OAAf,uBACI,WAAG,SAAS,CAAC,wCAAb,wBACI,cAAO,SAAS,CAAC,iBAAjB,yBADJ,kBAC8D,cAAO,SAAS,CAAC,gBAAjB,CAAkC,GAAG,CAAE9E,QAAQ,EAA/C,CAAmD,IAAI,CAAC,WAAxD,CAAoE,IAAI,CAAC,MAAzE,CAAgF,WAAW,CAAC,aAA5F,EAD9D,cAEI,aAAM,SAAS,CAAC,uBAAhB,uBACI,UAAG,SAAS,CAAC,cAAb,EADJ,EAFJ,GADJ,EADJ,cAWI,YAAK,SAAS,CAAC,OAAf,uBACI,WAAG,SAAS,CAAC,wCAAb,wBACA,cAAO,SAAS,CAAC,iBAAjB,2BADA,cAC2D,cAAO,SAAS,CAAC,gBAAjB,CAAkC,GAAG,CAAEA,QAAQ,EAA/C,CAAmD,IAAI,CAAC,YAAxD,CAAqE,IAAI,CAAC,MAA1E,CAAiF,WAAW,CAAC,cAA7F,EAD3D,cAEA,aAAM,SAAS,CAAC,uBAAhB,uBACI,UAAG,SAAS,CAAC,eAAb,EADJ,EAFA,GADJ,EAXJ,cAqBA,YAAK,SAAS,CAAC,OAAf,uBACI,WAAG,SAAS,CAAC,wBAAb,wBACI,cAAO,SAAS,CAAC,iBAAjB,uBADJ,cAC0D,cAAO,SAAS,CAAC,gBAAjB,CAAkC,GAAG,CAAEA,QAAQ,EAA/C,CAAmD,IAAI,CAAC,UAAxD,CAAmE,IAAI,CAAC,MAAxE,CAA8E,WAAW,CAAC,YAA1F,EAD1D,cAEI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,eAAb,EADA,EAFJ,GADJ,EArBA,GADI,EADA,cAkCJ,YAAK,SAAS,CAAC,qBAAf,uBACA,aAAK,SAAS,CAAC,YAAf,wBACA,YAAK,SAAS,CAAC,OAAf,uBACI,WAAG,SAAS,CAAC,wBAAb,wBAEI,cAAO,SAAS,CAAC,iBAAjB,6BAFJ,cAEgE,cAAO,SAAS,CAAC,gBAAjB,CAAkC,GAAG,CAAEA,QAAQ,EAA/C,CAAmD,IAAI,CAAC,KAAxD,CAA8D,IAAI,CAAC,MAAnE,CAAyE,WAAW,CAAC,gBAArF,EAFhE,cAGI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,cAAb,EADA,EAHJ,GADJ,EADA,cAUA,YAAK,SAAS,CAAC,OAAf,uBACI,WAAG,SAAS,CAAC,wBAAb,wBAEI,cAAO,SAAS,CAAC,iBAAjB,sBAFJ,cAEyD,cAAO,SAAS,CAAC,gBAAjB,CAAkC,GAAG,CAAEA,QAAQ,EAA/C,CAAmD,IAAI,CAAC,QAAxD,CAAiE,IAAI,CAAC,MAAtE,CAA4E,WAAW,CAAC,UAAxF,EAFzD,cAGI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,cAAb,EADA,EAHJ,GADJ,EAVA,cAmBA,YAAK,SAAS,CAAC,OAAf,uBACI,WAAG,SAAS,CAAC,wBAAb,wBAEI,cAAO,SAAS,CAAC,iBAAjB,8BAFJ,cAEiE,cAAO,SAAS,CAAC,gBAAjB,CAAkC,GAAG,CAAEA,QAAQ,EAA/C,CAAmD,IAAI,CAAC,eAAxD,CAAwE,IAAI,CAAC,MAA7E,CAAmF,WAAW,CAAC,kBAA/F,EAFjE,cAGI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,cAAb,EADA,EAHJ,GADJ,EAnBA,cA4BA,YAAK,SAAS,CAAC,OAAf,uBACI,WAAG,SAAS,CAAC,wBAAb,wBAEI,cAAO,SAAS,CAAC,iBAAjB,8BAFJ,cAEiE,cAAO,SAAS,CAAC,gBAAjB,CAAkC,GAAG,CAAEA,QAAQ,EAA/C,CAAmD,IAAI,CAAC,KAAxD,CAA8D,IAAI,CAAC,MAAnE,CAAyE,WAAW,CAAC,kBAArF,EAFjE,cAGI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,cAAb,EADA,EAHJ,GADJ,EA5BA,GADA,EAlCI,cA0EJ,YAAK,SAAS,CAAC,qBAAf,uBACA,aAAK,SAAS,CAAC,YAAf,wBACA,YAAK,SAAS,CAAC,OAAf,uBACI,WAAG,SAAS,CAAC,wBAAb,wBAEI,cAAO,SAAS,CAAC,iBAAjB,sBAFJ,cAEyD,cAAO,SAAS,CAAC,gBAAjB,CAAkC,GAAG,CAAEA,QAAQ,EAA/C,CAAmD,IAAI,CAAC,UAAxD,CAAmE,IAAI,CAAC,MAAxE,CAA8E,WAAW,CAAC,WAA1F,EAFzD,cAGI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,cAAb,EADA,EAHJ,GADJ,EADA,cAUA,YAAK,SAAS,CAAC,OAAf,uBACI,WAAG,SAAS,CAAC,wBAAb,wBAEI,cAAO,SAAS,CAAC,iBAAjB,0BAFJ,cAE6D,cAAO,SAAS,CAAC,gBAAjB,CAAkC,GAAG,CAAEA,QAAQ,EAA/C,CAAmD,IAAI,CAAC,YAAxD,CAAqE,IAAI,CAAC,MAA1E,CAAiF,WAAW,CAAC,YAA7F,EAF7D,cAGI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,cAAb,EADA,EAHJ,GADJ,EAVA,cAmBA,YAAK,SAAS,CAAC,OAAf,uBACI,WAAG,SAAS,CAAC,wBAAb,wBACI,cAAO,SAAS,CAAC,iBAAjB,uBADJ,cAC0D,cAAO,SAAS,CAAC,gBAAjB,CAAkC,GAAG,CAAEA,QAAQ,EAA/C,CAAmD,IAAI,CAAC,OAAxD,CAAgE,IAAI,CAAC,MAArE,CAA4E,WAAW,CAAC,YAAxF,EAD1D,cAEI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,eAAb,EADA,EAFJ,GADJ,EAnBA,cA4BA,YAAK,SAAS,CAAC,OAAf,uBACI,WAAG,SAAS,CAAC,wBAAb,wBAEI,cAAO,SAAS,CAAC,iBAAjB,qBAFJ,cAEwD,cAAO,SAAS,CAAC,gBAAjB,CAAkC,GAAG,CAAEA,QAAQ,EAA/C,CAAmD,IAAI,CAAC,OAAxD,CAAgE,IAAI,CAAC,OAArE,CAA4E,WAAW,CAAC,SAAxF,EAFxD,cAGI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,cAAb,EADA,EAHJ,GADJ,EA5BA,GADA,EA1EI,cAmHJ,YAAK,SAAS,CAAC,OAAf,uBACA,WAAG,SAAS,CAAC,wBAAb,wBAEI,cAAO,SAAS,CAAC,iBAAjB,mCAFJ,cAEsE,cAAO,SAAS,CAAC,gBAAjB,CAAkC,GAAG,CAAEA,QAAQ,EAA/C,CAAmD,IAAI,CAAC,SAAxD,CAAkE,IAAI,CAAC,MAAvE,CAA8E,WAAW,CAAC,uBAA1F,EAFtE,cAGI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,cAAb,EADA,EAHJ,GADA,EAnHI,cA4HJ,YAAK,SAAS,CAAC,qBAAf,uBACA,aAAK,SAAS,CAAC,YAAf,wBACA,YAAK,SAAS,CAAC,OAAf,uBACI,WAAG,SAAS,CAAC,wBAAb,wBAEI,cAAO,SAAS,CAAC,iBAAjB,yBAFJ,cAE4D,cAAO,SAAS,CAAC,gBAAjB,CAAkC,GAAG,CAAEA,QAAQ,EAA/C,CAAmD,IAAI,CAAC,MAAxD,CAA+D,IAAI,CAAC,MAApE,CAA2E,WAAW,CAAC,aAAvF,EAF5D,cAGI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,cAAb,EADA,EAHJ,GADJ,EADA,cAUA,YAAK,SAAS,CAAC,OAAf,uBACI,WAAG,SAAS,CAAC,wBAAb,wBAEI,cAAO,SAAS,CAAC,iBAAjB,+BAFJ,cAEkE,cAAO,SAAS,CAAC,gBAAjB,CAAkC,GAAG,CAAEA,QAAQ,EAA/C,CAAmD,IAAI,CAAC,KAAxD,CAA8D,IAAI,CAAC,MAAnE,CAAyE,WAAW,CAAC,mBAArF,EAFlE,cAGI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,cAAb,EADA,EAHJ,GADJ,EAVA,cAmBA,YAAK,SAAS,CAAC,OAAf,uBACI,WAAG,SAAS,CAAC,wBAAb,wBAEI,cAAO,SAAS,CAAC,iBAAjB,qBAFJ,cAEwD,cAAO,SAAS,CAAC,gBAAjB,CAAkC,GAAG,CAAEA,QAAQ,EAA/C,CAAmD,IAAI,CAAC,OAAxD,CAAgE,IAAI,CAAC,MAArE,CAA2E,WAAW,CAAC,OAAvF,EAFxD,cAGI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,cAAb,EADA,EAHJ,GADJ,EAnBA,cA4BA,YAAK,SAAS,CAAC,OAAf,uBACI,WAAG,SAAS,CAAC,wBAAb,wBAEI,cAAO,SAAS,CAAC,iBAAjB,uBAFJ,cAE0D,cAAO,SAAS,CAAC,gBAAjB,CAAkC,GAAG,CAAEA,QAAQ,EAA/C,CAAmD,IAAI,CAAC,SAAxD,CAAkE,IAAI,CAAC,MAAvE,CAA8E,WAAW,CAAC,WAA1F,EAF1D,cAGI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,cAAb,EADA,EAHJ,GADJ,EA5BA,GADA,EA5HI,cAoKJ,YAAK,SAAS,CAAC,qBAAf,uBACA,aAAK,SAAS,CAAC,YAAf,wBACI,YAAK,SAAS,CAAC,OAAf,uBACI,WAAG,SAAS,CAAC,wBAAb,wBAEI,cAAO,SAAS,CAAC,iBAAjB,0BAFJ,cAE6D,cAAO,SAAS,CAAC,gBAAjB,CAAkC,GAAG,CAAEA,QAAQ,EAA/C,CAAmD,IAAI,CAAC,YAAxD,CAAqE,IAAI,CAAC,MAA1E,CAAgF,WAAW,CAAC,cAA5F,EAF7D,cAGI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,cAAb,EADA,EAHJ,GADJ,EADJ,cAUI,YAAK,SAAS,CAAC,OAAf,uBACI,WAAG,SAAS,CAAC,wBAAb,wBAEI,cAAO,SAAS,CAAC,iBAAjB,wBAFJ,cAE2D,cAAO,SAAS,CAAC,gBAAjB,CAAkC,GAAG,CAAEA,QAAQ,EAA/C,CAAmD,IAAI,CAAC,UAAxD,CAAmE,IAAI,CAAC,MAAxE,CAA+E,WAAW,CAAC,WAA3F,EAF3D,cAGI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,cAAb,EADA,EAHJ,GADJ,EAVJ,cAmBI,YAAK,SAAS,CAAC,OAAf,uBACI,WAAG,SAAS,CAAC,wBAAb,wBAEI,cAAO,SAAS,CAAC,iBAAjB,4BAFJ,cAE8D,cAAO,SAAS,CAAC,gBAAjB,CAAkC,GAAG,CAAEA,QAAQ,EAA/C,CAAoD,IAAI,CAAC,cAAzD,CAAwE,IAAI,CAAC,MAA7E,CAAmF,WAAW,CAAC,gBAA/F,EAF9D,cAGI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,cAAb,EADA,EAHJ,GADJ,EAnBJ,GADA,EApKI,cAoMJ,YAAK,SAAS,CAAC,qBAAf,uBACA,aAAK,SAAS,CAAC,YAAf,wBAEA,YAAK,SAAS,CAAC,OAAf,uBACI,WAAG,SAAS,CAAC,wBAAb,wBAEI,cAAO,SAAS,CAAC,iBAAjB,yBAFJ,cAE4D,cAAO,SAAS,CAAC,gBAAjB,CAAkC,GAAG,CAAEA,QAAQ,EAA/C,CAAmD,IAAI,CAAC,WAAxD,CAAoE,IAAI,CAAC,MAAzE,CAA+E,WAAW,CAAC,aAA3F,EAF5D,cAGI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,cAAb,EADA,EAHJ,GADJ,EAFA,cAWA,YAAK,SAAS,CAAC,OAAf,uBACI,WAAG,SAAS,CAAC,wBAAb,wBAEI,cAAO,SAAS,CAAC,iBAAjB,4BAFJ,cAE+D,cAAO,SAAS,CAAC,gBAAjB,CAAkC,GAAG,CAAEA,QAAQ,EAA/C,CAAmD,IAAI,CAAC,eAAxD,CAAwE,IAAI,CAAC,MAA7E,CAAmF,WAAW,CAAC,gBAA/F,EAF/D,cAGI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,cAAb,EADA,EAHJ,GADJ,EAXA,GADA,EApMI,cA2NJ,YAAK,SAAS,CAAC,OAAf,uBACA,WAAG,SAAS,CAAC,wBAAb,wBAEI,cAAO,SAAS,CAAC,iBAAjB,oBAFJ,cAEuD,cAAO,SAAS,CAAC,gBAAjB,CAAkC,GAAG,CAAEA,QAAQ,EAA/C,CAAmD,IAAI,CAAC,YAAxD,CAAqE,IAAI,CAAC,MAA1E,CAAiF,WAAW,CAAC,OAA7F,EAFvD,cAGI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,cAAb,EADA,EAHJ,GADA,EA3NI,cAoOJ,YAAK,SAAS,CAAC,OAAf,uBACA,WAAG,SAAS,CAAC,wBAAb,wBACI,cAAO,SAAS,CAAC,iBAAjB,6CADJ,cACgF,cAAO,SAAS,CAAC,gBAAjB,CAAkC,GAAG,CAAEA,QAAQ,EAA/C,CAAmD,IAAI,CAAC,iBAAxD,CAA0E,IAAI,CAAC,MAA/E,CAAqF,WAAW,CAAC,gCAAjG,EADhF,cAEI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,cAAb,EADA,EAFJ,GADA,EApOI,cA4OJ,YAAK,SAAS,CAAC,qBAAf,uBACA,aAAK,SAAS,CAAC,YAAf,wBACA,YAAK,SAAS,CAAC,OAAf,uBACI,WAAG,SAAS,CAAC,wBAAb,wBACI,cAAO,SAAS,CAAC,iBAAjB,mCADJ,cACsE,cAAO,SAAS,CAAC,gBAAjB,CAAkC,GAAG,CAAEA,QAAQ,EAA/C,CAAmD,IAAI,CAAC,UAAxD,CAAmE,IAAI,CAAC,MAAxE,CAA8E,WAAW,CAAC,wBAA1F,EADtE,cAEI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,oBAAb,EADA,EAFJ,GADJ,EADA,cASA,YAAK,SAAS,CAAC,OAAf,uBACI,WAAG,SAAS,CAAC,wBAAb,wBACI,cAAO,SAAS,CAAC,iBAAjB,0BADJ,cAC4D,cAAO,SAAS,CAAC,gBAAjB,CAAkC,GAAG,CAAEA,QAAQ,EAA/C,CAAoD,IAAI,CAAC,aAAzD,CAAuE,IAAI,CAAC,MAA5E,CAAkF,WAAW,CAAC,GAA9F,EAD5D,cAEI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,oBAAb,EADA,EAFJ,GADJ,EATA,cAiBA,YAAK,SAAS,CAAC,OAAf,uBACI,WAAG,SAAS,CAAC,wBAAb,wBAEI,cAAO,SAAS,CAAC,iBAAjB,iCAFJ,cAEoE,cAAO,SAAS,CAAC,gBAAjB,CAAkC,GAAG,CAAEA,QAAQ,EAA/C,CAAmD,IAAI,CAAC,WAAxD,CAAoE,IAAI,CAAC,OAAzE,CAAgF,WAAW,CAAC,qBAA5F,EAFpE,cAGI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,cAAb,EADA,EAHJ,GADJ,EAjBA,cA0BA,YAAK,SAAS,CAAC,OAAf,uBACI,WAAG,SAAS,CAAC,wBAAb,wBAEI,cAAO,SAAS,CAAC,iBAAjB,6BAFJ,cAEgE,cAAO,SAAS,CAAC,gBAAjB,CAAkC,GAAG,CAAEA,QAAQ,EAA/C,CAAmD,IAAI,CAAC,kBAAxD,CAA2E,IAAI,CAAC,MAAhF,CAAuF,WAAW,CAAC,0BAAnG,EAFhE,cAGI,aAAM,SAAS,CAAC,uBAAhB,uBACA,UAAG,SAAS,CAAC,cAAb,EADA,EAHJ,GADJ,EA1BA,GADA,EA5OI,GAFA,cAwRA,aAAK,SAAS,CAAC,wBAAf,wBACI,UAAG,SAAS,CAAC,SAAb,uBACI,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,4BAAhC,CAA6D,OAAO,CAAEC,YAAY,CAAC6E,QAAD,CAAlF,kBADJ,EADJ,cAMI,UAAG,SAAS,CAAC,SAAb,uBACI,eAAQ,SAAS,CAAC,4BAAlB,CAA+C,OAAO,CAAEmF,YAAxD,oBADJ,EANJ,cAWG,UAAG,SAAS,CAAC,SAAb,uBACK,eAAQ,SAAS,CAAC,2BAAlB,CAA8C,OAAO,CAAE,yBAAIE,CAAAA,YAAY,EAAhB,EAAvD,CAA2E,IAAI,CAAC,QAAhF,oBADL,EAXH,GAxRA,GANJ,GADA,EAFJ,CAyTH,CAED,MAAQ,SAASK,CAAAA,WAAT,QAAgD,IAA1B7I,CAAAA,iBAA0B,QAA1BA,iBAA0B,CAAR8I,KAAQ,QAARA,KAAQ,CACpD,GAAM5J,CAAAA,UAAU,CAACnC,MAAM,CAACoC,OAAP,CAAe,QAAf,CAAjB,CACD;AAFqD,gBAGnB1C,QAAQ,CAAC,EAAD,CAHW,2CAG7CkH,UAH6C,gBAGlCC,aAHkC,gBAInD;AAJmD,gBAKdnH,QAAQ,CAAC,KAAD,CALM,2CAK5CsM,WAL4C,gBAK/BC,cAL+B,gBAMnD;AANmD,gBAOnBvM,QAAQ,CAAC,KAAD,CAPW,2CAO7CwM,SAP6C,gBAOlCC,YAPkC,gBAQnD;AARmD,gBASXzM,QAAQ,CAAC,EAAD,CATG,2CAS9C0M,aAT8C,gBAS/BC,gBAT+B,gBAUrD;AAVqD,gBAW9B3M,QAAQ,CAAC,EAAD,CAXsB,2CAW9C4M,KAX8C,gBAWxCC,QAXwC,gBAYrD;AAZqD,gBAa5B7M,QAAQ,CAAC,KAAD,CAboB,2CAa9C8M,MAb8C,gBAavCC,SAbuC,gBAcrD;AAdqD,gBAe9B/M,QAAQ,CAAC,CAAD,CAfsB,2CAe9CgN,KAf8C,gBAexCC,QAfwC,gBAgBrD,GAAMC,CAAAA,OAAO,CAAC/M,MAAM,CAAC,IAAD,CAApB,CAGA,GAAM2H,CAAAA,SAAS,4FAAE,mBAAMtE,GAAN,kJACNuJ,CAAAA,SAAS,CAAC,IAAD,CADH,QAEZ;AACDxJ,iBAAiB,CAACC,GAAD,CAAjB,CAHa,wBAKPqJ,CAAAA,QAAQ,CAACrJ,GAAG,CAAC2J,YAAL,CALD,QAOZ;AACAV,YAAY,CAAC,KAAD,CAAZ,CARY,wBASNQ,CAAAA,QAAQ,CAAC,CAAD,CATF,2DAAF,kBAATnF,CAAAA,SAAS,+CAAf,CAiBC,GAAMsF,CAAAA,UAAU,4FAAC,mBAAMzG,CAAN,0HACZ,GAAIqG,KAAK,GAAG,CAAZ,CAAc,CACV/H,OAAO,CAACC,GAAR,CAAY,kBAAZ,EACH,CAEH;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAhBqB,0DAAD,kBAAVkI,CAAAA,UAAU,+CAAhB,CAkBA,GAAMrF,CAAAA,YAAY,4FAAC,mBAAMC,GAAN,2IAETC,KAFS,CAEH,cAFG,CAEY;AAFZ,KAIXD,GAAG,CAACpD,MAAJ,EAAY,CAJD,4BAKXnC,UAAU,CAACqC,IAAX,CAAgB,CAACP,KAAK,mCAChB0D,KADgB,CACR,CACLC,MAAM,CAACF,GADF,CAELG,QAAQ,CAAC,GAFJ,CADQ,kCAMV,EANU,iCAOV,CACHI,SAAS,CAAE,CAAC,CADT,CAPU,SAAN,CAAhB,EAUaxD,IAVb,CAUkB,SAACC,GAAD,CAAO,CACvBC,OAAO,CAACC,GAAR,CAAY,gCAAZ,EACEiC,aAAa,CAACnC,GAAG,CAACjB,IAAL,CAAb,CACC4I,gBAAgB,CAAC,iCAAD,CAAhB,CACAF,YAAY,CAAC,IAAD,CAAZ,CACH,CAfF,EAgBErH,KAhBF,CAgBQ,SAACC,GAAD,CAAO,CACVJ,OAAO,CAACC,GAAR,CAAYG,GAAZ,EACAsH,gBAAgB,CAAC,qDAAsDtH,GAAvD,CAAhB,CACAkH,cAAc,CAAC,IAAD,CAAd,CACH,CApBF,EALW,gCA4BXtH,OAAO,CAACC,GAAR,CAAY,cAAZ,EACAD,OAAO,CAACC,GAAR,CAAY8C,GAAZ,EACAyE,YAAY,CAAC,KAAD,CAAZ,CA9BW,yBA+BLtF,CAAAA,aAAa,CAAC,EAAD,CA/BR,SAgCXlC,OAAO,CAACC,GAAR,CAAYgC,UAAZ,EAhCW,2DAAD,kBAAZa,CAAAA,YAAY,+CAAlB,CAmCA7H,SAAS,CAAC,UAAM,CACb,GAAImM,KAAJ,CAAU,CACNQ,QAAQ,CAAC,EAAD,CAAR,CACH,CACA,MAAO,WAAM,CAEZ,CAFD,CAGH,CAPQ,CAON,CAACR,KAAD,CAPM,CAAT,CAQA,mBACI,kCACI,YAAK,SAAS,CAAC,OAAf,uBACI,YAAK,SAAS,CAAC,0BAAf,uBACI,aAAK,SAAS,oBAAcG,SAAS,CAAC,WAAD,CAAa,EAApC,CAAd,wBACI,aAAK,SAAS,CAAC,kBAAf,wBACI,KAAC,aAAD,EAAe,SAAS,CAAC,iBAAzB,CACI,IAAI,CAAC,MADT,CACgB,WAAW,CAAC,mBAD5B,CAEI,KAAK,CAAEI,KAFX,CAGI,SAAS,CAAE,CAHf,CAII,eAAe,CAAE,GAJrB,CAKI,MAAM,CAAE,gBAACjG,CAAD,QAAKyG,CAAAA,UAAU,CAACzG,CAAD,CAAf,EALZ,CAMI,QAAQ,CAAE,kBAACA,CAAD,QAAKoB,CAAAA,YAAY,CAACpB,CAAC,CAACI,MAAF,CAAS+B,KAAV,CAAjB,EANd,CAOI,QAAQ,CAAEoE,OAPd,EADJ,cAUI,aAAM,SAAS,CAAC,uBAAhB,uBACI,UAAG,SAAS,CAAC,eAAb,EADJ,EAVJ,GADJ,CAeKZ,WAAW,eAAE,qBAAMI,aAAN,EAflB,cAgBI,YAAK,SAAS,CAAC,eAAf,uBACI,YAAK,SAAS,CAAC,kBAAf,UACCxF,UAAU,CAAC6B,GAAX,CAAe,SAACxG,QAAD,CAAWyG,CAAX,qBAER,YAAK,SAAS,CAAC,eAAf,CAAkD,OAAO,CAAE,yBAAIlB,CAAAA,SAAS,CAACvF,QAAD,CAAb,EAA3D,uBAEI,sBAAOA,QAAQ,CAAC4K,YAAhB,EAFJ,EAAoC5K,QAAQ,CAACkB,GAA7C,CAFQ,EAAf,CADD,EADJ,EAhBJ,GADJ,EADJ,EADJ,EADJ,CAuCH","sourcesContent":["/* eslint-disable */\nimport React, {useState,useContext, useEffect,useRef} from 'react'\nimport {  useRouteMatch,  useHistory} from 'react-router-dom' //Route, Switch,Link, NavLink,\nimport client from '../../feathers'\nimport {DebounceInput} from 'react-debounce-input';\nimport { useForm } from \"react-hook-form\";\n//import {useHistory} from 'react-router-dom'\nimport {UserContext,ObjectContext} from '../../context'\nimport {toast} from 'bulma-toast'\nimport { formatDistanceToNowStrict } from 'date-fns'\nimport ClientFinInfo from './ClientFinInfo';\nimport BillServiceCreate from '../Finance/BillServiceCreate'\nimport {AppointmentCreate} from '../Clinic/Appointments'\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport ClientBilledPrescription from '../Finance/ClientBill'\nimport ClientGroup from './ClientGroup';\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\n// eslint-disable-next-line\nconst searchfacility={};\n\n\nexport default function Client() {\n    const {state}=useContext(ObjectContext) //,setState\n    // eslint-disable-next-line\n    const [selectedClient,setSelectedClient]=useState()\n    //const [showState,setShowState]=useState() //create|modify|detail\n    \n    return(\n        <section className= \"section remPadTop\">\n            <div className=\"columns \">\n            <div className=\"column is-6 \">\n                <ClientList />\n                </div>\n            <div className=\"column is-6 \">\n              {(state.ClientModule.show ==='List')&&<ClientList />}\n                {(state.ClientModule.show ==='create')&&<ClientCreate />}\n                {(state.ClientModule.show ==='detail')&&<ClientDetail  />}\n                {(state.ClientModule.show ==='modify')&&<ClientModify Client={selectedClient} />} \n            </div>\n            </div>                            \n            </section>\n       \n    )\n    \n}\n\nexport function ClientCreate(){\n    const { register, handleSubmit,setValue,  getValues, reset} = useForm(); //, watch, errors, reset \n      // eslint-disable-next-line\n    const [error, setError] =useState(false)\n      // eslint-disable-next-line\n    const [success, setSuccess] =useState(false)\n      // eslint-disable-next-line\n    const [message,setMessage] = useState(\"\")\n    // eslint-disable-next-line\n    const [facility,setFacility] = useState()\n    const ClientServ=client.service('client')\n    const mpiServ=client.service('mpi')\n    //const history = useHistory()\n    const {user} = useContext(UserContext) //,setUser\n    const [billModal, setBillModal] =useState(false)\n    const [patList, setPatList] =useState([])\n    const [dependant, setDependant] =useState(false)\n    // eslint-disable-next-line\n    const [currentUser,setCurrentUser] = useState()\n    const [date,setDate] = useState()\n\n\n  // eslint-disable-next-line\n    const getSearchfacility=(obj)=>{\n        setValue(\"facility\", obj._id,  {\n            shouldValidate: true,\n            shouldDirty: true\n        })\n    }\n\n    const handleDate=async (date)=>{\n        setDate(date)\n        \n    }\n    useEffect(() => {\n        setCurrentUser(user)\n        //console.log(currentUser)\n        return () => {\n        \n        }\n    }, [user])\n\n  //check user for facility or get list of facility  \n    useEffect(()=>{\n        //setFacility(user.activeClient.FacilityId)//\n      if (!user.stacker){\n       /*    console.log(currentUser)\n        setValue(\"facility\", user.currentEmployee.facilityDetail._id,  {\n            shouldValidate: true,\n            shouldDirty: true\n        })  */\n      }\n    })\n\n    const checkClient=()=>{\n        const data= getValues()\n        data.dob= date\n       const obj ={\n        firstname:data.firstname,\n        middlename:data.middlename,\n        lastname:data.lastname,\n        gender:data.gender,\n        email:data.email,\n        phone:data.phone,\n        dob:data.dob\n       } \n       /* find if there is a match with the paramters entered\n          run search if \n            1.phone no alone or  \n            2.email alone or \n            3.both is entered\n            4. all other 5 parameters\n\n        */\n       let query={}\n\n       if (!!data.phone){\n            query.phone=data.phone\n            checkQuery(query)\n       }\n\n       if (!!data.email){\n        query.email=data.email\n        checkQuery(query)\n       }\n\n       if (!!data.firstname && !!data.lastname && !!data.gender && !!data.dob ){\n          // console.log(\"simpa\")\n           data.middlename=data.middlename||\"\"\n           query.gender=data.gender,\n           query.dob=data.dob,\n\n           query.$or=[\n                {\n                    firstname: data.firstname,\n                    lastname:data.lastname,\n                    middlename: data.middlename\n                },\n                {\n                    firstname: data.firstname,\n                    lastname:data.middlename,\n                    middlename: data.lastname\n                },\n                {\n                    firstname: data.middlename,\n                    lastname:data.lastname,\n                    middlename: data.firstname\n                },\n                {\n                    firstname: data.middlename,\n                    lastname:data.firstname,\n                    middlename: data.lastname\n                },\n                {\n                    firstname: data.lastname,\n                    lastname:data.firstname,\n                    middlename: data.middlename\n                },\n                {\n                    firstname: data.lastname,\n                    lastname:data.middlename,\n                    middlename: data.firstname\n                },\n        ]\n        checkQuery(query)\n       }\n    \n       \n    }\n\n    const checkQuery=(query)=>{\n        setPatList([])\n        if (!(query && Object.keys(query).length === 0 && query.constructor === Object)){\n            ClientServ.find({query:query}).then((res)=>{\n                console.log(res)\n                if (res.total>0){\n                   // alert(res.total)\n                     setPatList(res.data)\n                   setBillModal(true)\n                   return\n                }\n     \n            })\n            .catch((err)=>{console.log(err)})\n         }\n\n    }\n\n\n    const handleBill =()=>{\n        setBillModal(true)\n    }\n    const  handlecloseModal3 = () =>{\n        setBillModal(false)\n        }\n\n    const choosen=async (client)=>{\n        //update client with facilities\n      /*   if (client.facility !== user.currentEmployee.facilityDetail._id ){ //check taht it is not in list of related facilities\n           \n        \n        //create mpi record\n        const newPat = {\n            client: client._id,\n            facility:user.currentEmployee.facilityDetail._id,\n            mrn:client.mrn,\n            clientTags:client.clientTags,\n            relfacilities:client.relatedfacilites\n           }\n           await mpiServ.create(newPat)\n        } */\n        //reset form\n        //toast niotification\n        //cash payment\n\n    }\n    const dupl=(client)=>{\n        toast({\n            message: 'Client previously registered in this facility',\n            type: 'is-danger',\n            dismissible: true,\n            pauseOnHover: true,\n          })\n          reset()\n          setPatList([])\n        \n    }\n    const reg=async (client)=>{\n        if ((client.relatedfacilities.findIndex(el=>el.facility===user.currentEmployee.facilityDetail._id))===-1){\n            //create mpi record\n            const newPat = {\n                client: client._id,\n                facility:user.currentEmployee.facilityDetail._id,\n                mrn:client.mrn,\n                clientTags:client.clientTags,\n                relfacilities:client.relatedfacilities\n               }\n               //console.log(newPat)\n               await mpiServ.create(newPat).then((resp)=>{\n                toast({\n                    message: 'Client created succesfully',\n                    type: 'is-success',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n               }).catch((err)=>{\n                toast({\n                    message: 'Error creating Client '+err,\n                    type: 'is-danger',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n                  \n               })\n            }\n            //reset form\n            reset()\n            setPatList([])\n            //cash payment\n        \n    }\n    const depen=(client)=>{\n        setDependant(true)\n       \n    }\n    const onSubmit = async (data,e) =>{\n        if(!date){\n            toast({\n                message: 'Please enter Date of Birth! ' ,\n                type: 'is-danger',\n                dismissible: true,\n                pauseOnHover: true,\n              })\n\n            return\n        }\n        e.preventDefault();\n        setMessage(\"\")\n        setError(false)\n        setSuccess(false)\n        checkClient()\n        if (patList.length>0){\n             if(!dependant){\n                return\n             }\n            //alert(\"something\"+\",\"+ patList.length)\n            //let confirm = window.confirm(\"Is this person a dependant with parent phone number?\")\n           // setOption(confirm)\n            setPatList([])\n           \n        }\n         // data.createdby=user._id\n        //  console.log(data);\n          if (user.currentEmployee){\n          data.facility=user.currentEmployee.facilityDetail._id  // or from facility dropdown\n          }\n\n            \n        let confirm =window.confirm(`You are about to register a new patient ${ data.firstname}  ${ data.middlename} ${ data.lastname} ?`)\n        if (confirm){\n            data.dob=date\n        await ClientServ.create(data)\n        .then((res)=>{\n                //console.log(JSON.stringify(res))\n                e.target.reset();\n               /*  setMessage(\"Created Client successfully\") */\n                setSuccess(true)\n                toast({\n                    message: 'Client created succesfully',\n                    type: 'is-success',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n                  setSuccess(false)\n                  setPatList([])\n                  setDependant(false)\n                  setDate()\n            })\n            .catch((err)=>{\n                toast({\n                    message: 'Error creating Client ' + err,\n                    type: 'is-danger',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n                  setPatList([])\n                  setDependant(false)\n            })\n        }\n\n      } \n\n    return (\n        <>\n            <div className=\"card \">\n            <div className=\"card-header\">\n                <p className=\"card-header-title\">\n                    Create Client\n                </p>\n            </div>\n            <div className=\"card-content vscrollable remPad1\">\n           {/*  <p className=\" is-small\">\n                    Kindly search Client list before creating new Clients!\n                </p> */}\n            <form onSubmit={handleSubmit(onSubmit)}>\n                <p className=\" is-small\">Names</p>\n            <div className=\"field is-horizontal\">\n                <div className=\"field-body\">\n                    <div className=\"field\">\n                        <p className=\"control has-icons-left has-icons-right\">\n                            <input className=\"input is-small is-danger\" ref={register({ required: true })}  name=\"firstname\" type=\"text\" placeholder=\"First Name\" onBlur={checkClient}/>\n                            <span className=\"icon is-small is-left\">\n                                <i className=\"fas fa-hospital\"></i>\n                            </span>                    \n                        </p>\n                    </div>\n                \n                \n                    <div className=\"field\">\n                        <p className=\"control has-icons-left has-icons-right\">\n                        <input className=\"input is-small\" ref={register()}  name=\"middlename\" type=\"text\" placeholder=\"Middle Name\" onBlur={checkClient}/>\n                        <span className=\"icon is-small is-left\">\n                            <i className=\"fas fa-map-signs\"></i>\n                        </span>\n                        \n                        </p>\n                    </div>\n              \n                <div className=\"field\">\n                    <p className=\"control has-icons-left\">\n                        <input className=\"input is-small is-danger\" ref={register({ required: true })} name=\"lastname\" type=\"text\" placeholder=\"Last Name\" onBlur={checkClient}/>\n                        <span className=\"icon is-small is-left\">\n                        <i className=\" fas fa-user-md \"></i>\n                        </span>\n                    </p>\n                </div>\n            </div>  \n        </div>\n        <p className=\" is-small\">Biodata</p>\n        <div className=\"field is-horizontal\">\n            <div className=\"field-body\">\n                <div className=\"field\">\n                    <p className=\"control has-icons-left is-danger\">\n                    \n                      {/*   <input className=\"input is-small is-danger\" ref={register({ required: true })} name=\"dob\" type=\"text\" placeholder=\"Date of Birth\"  onBlur={checkClient}/>\n                        <span className=\"icon is-small is-left\">\n                        <i className=\"fas fa-envelope\"></i>\n                        </span> */}\n                        <DatePicker className=\"is-danger\"\n                            selected={date} \n                            onChange={date => handleDate(date)} \n                            dateFormat=\"dd/MM/yyyy\"\n                            placeholderText=\"Enter date with dd/MM/yyyy format \"\n                            //isClearable\n                            className=\"red-border is-small\"\n                            />\n                    </p>\n                </div> \n                <div className=\"field\">\n                    <p className=\"control has-icons-left\">\n                    \n                        <input className=\"input is-small\" ref={register()} name=\"gender\" type=\"text\" placeholder=\"Gender\" onBlur={checkClient} />\n                        <span className=\"icon is-small is-left\">\n                        <i className=\"fas fa-envelope\"></i>\n                        </span>\n                    </p>\n                </div> \n                <div className=\"field\">\n                    <p className=\"control has-icons-left\">\n                    \n                        <input className=\"input is-small\" ref={register()} name=\"maritalstatus\" type=\"text\" placeholder=\"Marital Status\"  />\n                        <span className=\"icon is-small is-left\">\n                        <i className=\"fas fa-envelope\"></i>\n                        </span>\n                    </p>\n                </div> \n                <div className=\"field\">\n                    <p className=\"control has-icons-left\">\n                    \n                        <input className=\"input is-small\" ref={register()} name=\"mrn\" type=\"text\" placeholder=\"Medical Records Number\"  />\n                        <span className=\"icon is-small is-left\">\n                        <i className=\"fas fa-envelope\"></i>\n                        </span>\n                    </p>\n                </div> \n            </div>\n        </div>\n        <div className=\"field is-horizontal\">\n            <div className=\"field-body\">\n                <div className=\"field\">\n                    <p className=\"control has-icons-left\">\n                    \n                        <input className=\"input is-small\" ref={register()} name=\"religion\" type=\"text\" placeholder=\"Religion\"  />\n                        <span className=\"icon is-small is-left\">\n                        <i className=\"fas fa-envelope\"></i>\n                        </span>\n                    </p>\n                </div> \n                <div className=\"field\">\n                    <p className=\"control has-icons-left\">\n                    \n                        <input className=\"input is-small\" ref={register()} name=\"profession\" type=\"text\" placeholder=\"Profession\"  />\n                        <span className=\"icon is-small is-left\">\n                        <i className=\"fas fa-envelope\"></i>\n                        </span>\n                    </p>\n                </div> \n                <div className=\"field\">\n                    <p className=\"control has-icons-left\">\n                        <input className=\"input is-small is-danger\" ref={register({ required: true })} name=\"phone\" type=\"text\" placeholder=\" Phone No\" onBlur={checkClient}/>\n                        <span className=\"icon is-small is-left\">\n                        <i className=\"fas fa-phone-alt\"></i>\n                        </span>\n                    </p>\n                </div>\n\n                <div className=\"field\">\n                    <p className=\"control has-icons-left\">\n                    \n                        <input className=\"input is-small \" ref={register()} name=\"email\" type=\"email\" placeholder=\"Email\"  onBlur={checkClient} />\n                        <span className=\"icon is-small is-left\">\n                        <i className=\"fas fa-envelope\"></i>\n                        </span>\n                    </p>\n                </div> \n            </div>\n        </div>\n        <div className=\"field\">\n                <p className=\"control has-icons-left\">\n                \n                    <input className=\"input is-small\" ref={register()} name=\"clientTags\" type=\"text\" placeholder=\"Tags\"  />\n                    <span className=\"icon is-small is-left\">\n                    <i className=\"fas fa-envelope\"></i>\n                    </span>\n                </p>\n            </div> \n        <p className=\" is-small\">Address</p>\n            <div className=\"field\">\n                <p className=\"control has-icons-left\">\n                \n                    <input className=\"input is-small\" ref={register()} name=\"address\" type=\"text\" placeholder=\"Residential Address\"  />\n                    <span className=\"icon is-small is-left\">\n                    <i className=\"fas fa-envelope\"></i>\n                    </span>\n                </p>\n            </div> \n        <div className=\"field is-horizontal\">\n            <div className=\"field-body\">\n                <div className=\"field\">\n                    <p className=\"control has-icons-left\">\n                    \n                        <input className=\"input is-small\" ref={register()} name=\"city\" type=\"text\" placeholder=\"Town/City\"  />\n                        <span className=\"icon is-small is-left\">\n                        <i className=\"fas fa-envelope\"></i>\n                        </span>\n                    </p>\n                </div> \n                <div className=\"field\">\n                    <p className=\"control has-icons-left\">\n                    \n                        <input className=\"input is-small\" ref={register()} name=\"lga\" type=\"text\" placeholder=\"Local Govt Area\"  />\n                        <span className=\"icon is-small is-left\">\n                        <i className=\"fas fa-envelope\"></i>\n                        </span>\n                    </p>\n                </div> \n                <div className=\"field\">\n                    <p className=\"control has-icons-left\">\n                    \n                        <input className=\"input is-small\" ref={register()} name=\"state\" type=\"text\" placeholder=\"State\"  />\n                        <span className=\"icon is-small is-left\">\n                        <i className=\"fas fa-envelope\"></i>\n                        </span>\n                    </p>\n                </div> \n                <div className=\"field\">\n                    <p className=\"control has-icons-left\">\n                    \n                        <input className=\"input is-small\" ref={register()} name=\"country\" type=\"text\" placeholder=\"Country\"  />\n                        <span className=\"icon is-small is-left\">\n                        <i className=\"fas fa-envelope\"></i>\n                        </span>\n                    </p>\n                </div>\n            </div>\n        </div> \n        <p className=\" is-small\">Medical Data</p>\n        <div className=\"field is-horizontal\">\n            <div className=\"field-body\">\n                    <div className=\"field\">\n                        <p className=\"control has-icons-left\">\n                        \n                            <input className=\"input is-small\" ref={register()} name=\"bloodgroup\" type=\"text\" placeholder=\"Blood Group\"  />\n                            <span className=\"icon is-small is-left\">\n                            <i className=\"fas fa-envelope\"></i>\n                            </span>\n                        </p>\n                    </div> \n                    <div className=\"field\">\n                        <p className=\"control has-icons-left\">\n                        \n                            <input className=\"input is-small\" ref={register()} name=\"genotype\" type=\"text\" placeholder=\"Genotype\"  />\n                            <span className=\"icon is-small is-left\">\n                            <i className=\"fas fa-envelope\"></i>\n                            </span>\n                        </p>\n                    </div> \n                    <div className=\"field\">\n                        <p className=\"control has-icons-left\">\n                        \n                            <input className=\"input is-small\" ref={register()} name=\"disabilities\" type=\"text\" placeholder=\"Disabilities\"  />\n                            <span className=\"icon is-small is-left\">\n                            <i className=\"fas fa-envelope\"></i>\n                            </span>\n                        </p>\n                    </div> \n                </div> \n            </div>  \n            \n        <div className=\"field is-horizontal\">\n            <div className=\"field-body\">\n\n                <div className=\"field\">\n                    <p className=\"control has-icons-left\">\n                    \n                        <input className=\"input is-small\" ref={register()} name=\"allergies\" type=\"text\" placeholder=\"Allergies\"  />\n                        <span className=\"icon is-small is-left\">\n                        <i className=\"fas fa-envelope\"></i>\n                        </span>\n                    </p>\n                </div> \n                <div className=\"field\">\n                    <p className=\"control has-icons-left\">\n                    \n                        <input className=\"input is-small\" ref={register()} name=\"comorbidities\" type=\"text\" placeholder=\"Co-mobidities\"  />\n                        <span className=\"icon is-small is-left\">\n                        <i className=\"fas fa-envelope\"></i>\n                        </span>\n                    </p>\n                </div> \n            </div>\n        </div>\n            \n            <div className=\"field\">\n                <p className=\"control has-icons-left\">\n                    <input className=\"input is-small\" ref={register()} name=\"specificDetails\" type=\"text\" placeholder=\"Specific Details about patient\"  />\n                    <span className=\"icon is-small is-left\">\n                    <i className=\"fas fa-envelope\"></i>\n                    </span>\n                </p>\n            </div> \n            <p className=\" is-small\">Next of Kin Information</p>\n        <div className=\"field is-horizontal\">\n            <div className=\"field-body\">\n                <div className=\"field\">\n                    <p className=\"control has-icons-left\">\n                        <input className=\"input is-small\" ref={register()} name=\"nok_name\" type=\"text\" placeholder=\"Next of Kin Full Name\"/>\n                        <span className=\"icon is-small is-left\">\n                        <i className=\"fas fa-clinic-medical\"></i>\n                        </span>\n                    </p>\n                </div>\n                <div className=\"field\">\n                    <p className=\"control has-icons-left\">\n                        <input className=\"input is-small\" ref={register()} name=\"nok_phoneno\" type=\"text\" placeholder=\"Next of Kin Phone Number\"/>\n                        <span className=\"icon is-small is-left\">\n                        <i className=\"fas fa-clinic-medical\"></i>\n                        </span>\n                    </p>\n                </div> \n                <div className=\"field\">\n                    <p className=\"control has-icons-left\">\n                    \n                        <input className=\"input is-small\" ref={register()} name=\"nok_email\" type=\"email\" placeholder=\"Next of Kin Email\"  />\n                        <span className=\"icon is-small is-left\">\n                        <i className=\"fas fa-envelope\"></i>\n                        </span>\n                    </p>\n                </div>\n                <div className=\"field\">\n                    <p className=\"control has-icons-left\">\n                    \n                        <input className=\"input is-small\" ref={register()} name=\"nok_relationship\" type=\"text\" placeholder=\"Next of Kin Relationship\"  />\n                        <span className=\"icon is-small is-left\">\n                        <i className=\"fas fa-envelope\"></i>\n                        </span>\n                    </p>\n                </div>\n            </div>\n        </div> \n        <div className=\"field  is-grouped mt-2\" >\n                <p className=\"control\">\n                    <button type=\"submit\" className=\"button is-success is-small\" >\n                        Save\n                    </button>\n                </p>\n                <p className=\"control\">\n                    <button type=\"reset\" className=\"button is-warning is-small\" /* onClick={(e)=>e.target.reset()} */>\n                        Reset\n                    </button>\n                </p>\n               {/*  <p className=\"control\">\n                    <button className=\"button is-danger is-small\" onClick={()=>handleDelete()} type=\"delete\">\n                       Delete\n                    </button>\n                </p> */}\n            </div>\n     \n            </form>\n            </div>\n            </div>\n            <div className={`modal ${billModal?\"is-active\":\"\"}` }>\n                <div className=\"modal-background\"></div>\n                <div className=\"modal-card modalbkgrnd z10\"  >\n                    <header className=\"modal-card-head selectadd\">\n                    <p className=\"modal-card-title redu\">Similar Client Already Exist?</p>\n                    <button className=\"delete\" aria-label=\"close\"  onClick={handlecloseModal3}></button>\n                    </header>\n                    <section className=\"modal-card-body\">\n                    {/* <StoreList standalone=\"true\" /> */}\n                     <ClientGroup  list={patList}  closeModal={handlecloseModal3} choosen={choosen} dupl ={dupl} reg={reg} depen={depen}/> \n                    </section>\n                    {/* <footer className=\"modal-card-foot\">\n                    <button className=\"button is-success\">Save changes</button>\n                    <button className=\"button\">Cancel</button>\n                    </footer> */}\n                </div>\n            </div>             \n        </>\n    )\n   \n}\n\nexport function ClientList(){\n   // const { register, handleSubmit, watch, errors } = useForm();\n    // eslint-disable-next-line\n    const [error, setError] =useState(false)\n     // eslint-disable-next-line\n    const [success, setSuccess] =useState(false)\n     // eslint-disable-next-line\n   const [message, setMessage] = useState(\"\") \n    const ClientServ=client.service('client')\n    //const history = useHistory()\n   // const {user,setUser} = useContext(UserContext)\n    const [facilities,setFacilities]=useState([])\n     // eslint-disable-next-line\n   const [selectedClient, setSelectedClient]=useState() //\n    // eslint-disable-next-line\n    const {state,setState}=useContext(ObjectContext)\n    // eslint-disable-next-line\n    const {user,setUser}=useContext(UserContext)\n    const [page, setPage] = useState(0) \n    const [limit, setLimit] = useState(50) \n    const [total, setTotal] = useState(0) \n\n\n\n    const handleCreateNew = async()=>{\n        const newClientModule={\n            selectedClient:{},\n            show :'create'\n            }\n        await setState((prevstate)=>({...prevstate, ClientModule:newClientModule}))\n       //console.log(state)\n        } \n\n    \n    const handleRow= async(Client)=>{\n        await setSelectedClient(Client)\n        const    newClientModule={\n            selectedClient:Client,\n            show :'detail'\n        }\n       await setState((prevstate)=>({...prevstate, ClientModule:newClientModule}))\n    }\n\n   const handleSearch=(val)=>{\n         // eslint-disable-next-line\n       const field='firstname'\n       console.log(val)\n       ClientServ.find({query: {\n                $or:[\n                    { firstname: {\n                        $regex:val,\n                        $options:'i' \n                    }},\n                    { lastname: {\n                        $regex:val,\n                        $options:'i' \n                    }},\n                    { middlename: {\n                        $regex:val,\n                        $options:'i' \n                    }},\n                    { phone: {\n                        $regex:val,\n                        $options:'i' \n                    }},\n                    { clientTags: {\n                        $regex:val,\n                        $options:'i' \n                    }},\n                    { mrn: {\n                        $regex:val,\n                        $options:'i' \n                    }},\n                    { email: {\n                        $regex:val,\n                        $options:'i' \n                    }},\n                    { specificDetails: {\n                        $regex:val,\n                        $options:'i' \n                    }},\n                    { gender: val},\n                ],\n\n                \"relatedfacilities.facility\":user.currentEmployee.facilityDetail._id, // || \"\",\n                $limit:limit,\n                $sort: {\n                    createdAt: -1\n                  }\n                    }}).then((res)=>{\n                console.log(res)\n               setFacilities(res.data)\n                setMessage(\" Client  fetched successfully\")\n                setSuccess(true) \n            })\n            .catch((err)=>{\n                console.log(err)\n                setMessage(\"Error fetching Client, probable network issues \"+ err )\n                setError(true)\n            })\n        }\n   \n    const getFacilities= async()=>{\n            if (user.currentEmployee){      \n            const findClient= await ClientServ.find(\n                {query: {\n                    \"relatedfacilities.facility\":user.currentEmployee.facilityDetail._id,\n                    $limit:limit,\n                    $skip:page * limit,\n                    $sort: {\n                        createdAt: -1\n                    }\n                    }})\n        if (page===0){\n            await setFacilities(findClient.data)\n        }else{\n            await setFacilities(prevstate=>prevstate.concat(findClient.data))\n        }\n\n        \n         await setTotal(findClient.total)\n         //console.log(user.currentEmployee.facilityDetail._id, state)\n         //console.log(facilities)\n         setPage(page=>page+1)\n                }\n                else {\n                    if (user.stacker){\n                        const findClient= await ClientServ.find(\n                            {query: {\n                                \n                                $limit:20,\n                                $sort: {\n                                    createdAt: -1\n                                }\n                                }})\n            \n                    await setFacilities(findClient.data)\n\n                    }\n                }\n            }\n            \n\n    useEffect(() => {\n               \n                if (user){\n                    //getFacilities()\n                    rest()\n                }else{\n                    /* const localUser= localStorage.getItem(\"user\")\n                    const user1=JSON.parse(localUser)\n                    console.log(localUser)\n                    console.log(user1)\n                    fetchUser(user1)\n                    console.log(user)\n                    getFacilities(user) */\n                }\n                ClientServ.on('created', (obj)=>rest ())\n                ClientServ.on('updated', (obj)=>rest ())\n                ClientServ.on('patched', (obj)=>rest ())\n                ClientServ.on('removed', (obj)=>rest ())\n                return () => {\n                \n                }\n        // eslint-disable-next-line\n            },[])\n            const rest = async ()=>{\n                // console.log(\"starting rest\")\n               // await setRestful(true)\n                   await  setPage(0) \n                   //await  setLimit(2) \n                   await    setTotal(0) \n                   await  setFacilities([])\n                  await getFacilities()\n                  //await  setPage(0) \n                //  await setRestful(false)\n         \n             }\n             useEffect(() => {\n                //console.log(facilities)\n                 return () => {\n                    \n                 }\n             }, [facilities])\n    //todo: pagination and vertical scroll bar\n\n    return(\n        <>\n           {user?( <>  \n                <div className=\"level\">\n                    <div className=\"level-left\">\n                        <div className=\"level-item\">\n                            <div className=\"field\">\n                                <p className=\"control has-icons-left  \">\n                                    <DebounceInput className=\"input is-small \" \n                                        type=\"text\" placeholder=\"Search Clients\"\n                                        minLength={3}\n                                        debounceTimeout={400}\n                                        onChange={(e)=>handleSearch(e.target.value)} />\n                                    <span className=\"icon is-small is-left\">\n                                        <i className=\"fas fa-search\"></i>\n                                    </span>\n                                </p>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"level-item\"> <span className=\"is-size-6 has-text-weight-medium\">List of Clients </span></div>\n                    <div className=\"level-right\">\n                        <div className=\"level-item\"> \n                            <div className=\"level-item\"><div className=\"button is-success is-small\" onClick={handleCreateNew}>New</div></div>\n                        </div>\n                    </div>\n\n                </div>\n                <div className=\"table-container pullup  vscrola\"  id=\"scrollableDiv\">\n                <InfiniteScroll\n                        dataLength={facilities.length}\n                        next={getFacilities}\n                        hasMore={total>facilities.length}\n                        loader={<h4>Loading...</h4>}\n                        scrollableTarget=\"scrollableDiv\"\n                    >\n                                <table className=\"table is-striped is-narrow is-hoverable is-fullwidth  \">\n                                    <thead>\n                                        <tr>\n                                        <th><abbr title=\"Serial No\">S/No</abbr></th>\n                                        <th><abbr title=\"Last Name\">Last Name</abbr></th>\n                                        <th>First Name</th>\n                                        <th><abbr title=\"Middle Name\">Middle Name</abbr></th>\n                                        <th><abbr title=\"Age\">Payment Mode</abbr></th>\n                                       <th><abbr title=\"Age\">Age</abbr></th>\n                                        <th><abbr title=\"Gender\">Gender</abbr></th> \n                                        <th><abbr title=\"Phone\">Phone</abbr></th>\n                                        <th><abbr title=\"Email\">Email</abbr></th>\n                                        <th><abbr title=\"Tags\">Tags</abbr></th>\n                                        {/* <th><abbr title=\"Actions\">Actions</abbr></th> */}\n                                        </tr>\n                                    </thead>\n                                    <tfoot>\n                                        \n                                    </tfoot>\n                                    <tbody>\n                                        {facilities.map((Client, i)=>(\n\n                                            <tr key={Client._id} onClick={()=>handleRow(Client)}  className={Client._id===(selectedClient?._id||null)?\"is-selected\":\"\"}>\n                                            <td>{i+1}</td>\n                                            <th>{Client.lastname}</th>\n                                            <td>{Client.firstname}</td>\n                                            <td>{Client.middlename}</td>\n                                            <td>{Client.paymentinfo.map((pay,i)=>(\n                                                <>\n                                                {pay.paymentmode} {pay.paymentmode===\"Cash\"?\"\":\":\" } {pay.organizationName}<br></br>\n                                                </>\n                                            ))}</td>\n                                           <td>{Client.dob && <>{formatDistanceToNowStrict(new Date(Client.dob))}</>}</td>\n                                            <td>{Client.gender}</td>\n                                             <td>{Client.phone}</td>\n                                            <td>{Client.email}</td>\n                                            <td>{Client.clientTags}</td>\n                                           {/*  <td><span   className=\"showAction\"  >...</span></td> */}\n                                           \n                                            </tr>\n\n                                        ))}\n                                    </tbody>\n                                    </table>\n                                    </InfiniteScroll>                  \n                </div>              \n            </>):<div>loading</div>}\n        </>\n              \n    )\n    }\n\nexport function ClientDetail(){\n    //const { register, handleSubmit, watch, setValue } = useForm(); //errors,\n     // eslint-disable-next-line\n    const history =useHistory()\n      // eslint-disable-next-line\n    let { path, url } = useRouteMatch();\n  // eslint-disable-next-line\n    const [error, setError] =useState(false) //, \n    const [finacialInfoModal, setFinacialInfoModal] =useState(false)\n    const [billingModal, setBillingModal] =useState(false)\n    const [billModal, setBillModal] =useState(false)\n    const [appointmentModal, setAppointmentModal] =useState(false)\n     // eslint-disable-next-line\n    const [message, setMessage] = useState(\"\") //,\n    //const ClientServ=client.service('/Client')\n    //const history = useHistory()\n    const {user,setUser} = useContext(UserContext)\n    const {state,setState} = useContext(ObjectContext)\n\n   \n\n  let Client =state.ClientModule.selectedClient \n     // eslint-disable-next-line\n    const client=Client\n    const handleEdit= async()=>{\n        const    newClientModule={\n            selectedClient:Client,\n            show :'modify'\n        }\n       await setState((prevstate)=>({...prevstate, ClientModule:newClientModule}))\n       //console.log(state)\n       \n    }\n \n    const  handleFinancialInfo = ()=>{\n    setFinacialInfoModal(true)\n\n    }\n    const  handlecloseModal = () =>{\n    setFinacialInfoModal(false)\n    }\n\n    const  handlecloseModal1 = () =>{\n        setBillingModal(false)\n        }\n\n    const  handlecloseModal2 = () =>{\n            setAppointmentModal(false)\n            }\n\n    const showBilling = () =>{\n        setBillingModal(true)\n       //history.push('/app/finance/billservice')\n        }\n\n    const handleSchedule =()=>{\n        setAppointmentModal(true)\n    }\n    const handleBill =()=>{\n        setBillModal(true)\n    }\n    const  handlecloseModal3 = () =>{\n        setBillModal(false)\n        }\n\n   /*  useEffect(() => {\n        Client =state.ClientModule.selectedClient\n        return () => {\n           \n        }\n    }, [billingModal]) */\n    return (\n        <>\n        <div className=\"card \">\n            <div className=\"card-header\">\n                <p className=\"card-header-title\">\n                    Client Details\n                </p>\n                {(user.currentEmployee?.roles.includes('Bill Client')||user.currentEmployee?.roles.length===0||user.stacker )&&   <button className=\"button is-success is-small btnheight mt-2\" onClick={showBilling}>Bill Client</button>}\n            </div>\n            <div className=\"card-content vscrollable\">\n           \n            <div className=\"field is-horizontal\">\n                <div className=\"field-body\">\n                {Client.firstname &&  <div className=\"field\">\n                        <p className=\"control has-icons-left has-icons-right\">\n                            <label className=\"label is-size-7 my-0 \"   name=\"firstname\" type=\"text\">First Name </label><label className=\"is-size-7 my-0 \">{Client.firstname }</label>\n                            <span className=\"icon is-small is-left\">\n                                <i className=\"nop-hospital\"></i>\n                            </span>                    \n                        </p>\n                    </div>}\n\n\n                    {Client.middlename &&  <div className=\"field\">\n                        <p className=\"control has-icons-left has-icons-right\">\n                        <label className=\"label is-size-7 my-0\"   name=\"middlename\" type=\"text\"> Middle Name </label><label className=\"is-size-7 my-0\">{Client.middlename }</label>\n                        <span className=\"icon is-small is-left\">\n                            <i className=\"nop-map-signs\"></i>\n                        </span>\n                        \n                        </p>\n                    </div>}\n             {Client.lastname &&\n                <div className=\"field\">\n                    <p className=\"control has-icons-left\">\n                        <label className=\"label is-size-7 my-0\"  name=\"lastname\" type=\"text\">Last Name</label><label className=\"is-size-7 my-0\">{Client.lastname }</label>\n                        <span className=\"icon is-small is-left\">\n                        <i className=\" nop-user-md \"></i>\n                        </span>\n                    </p>\n                </div>}\n                </div>  \n                </div>\n                <div className=\"field is-horizontal\">\n                <div className=\"field-body\">\n                {Client.dob &&<div className=\"field\">\n                    <p className=\"control has-icons-left\">\n                    \n                        <label className=\"label is-size-7 my-0\"  name=\"dob\" type=\"text\">Date of Birth </label><label className=\"is-size-7 my-0\">{ new Date(Client.dob).toLocaleDateString('en-GB')}</label>\n                        <span className=\"icon is-small is-left\">\n                        <i className=\"nop-envelope\"></i>\n                        </span>\n                    </p>\n                </div> }\n                {Client.gender &&<div className=\"field\">\n                    <p className=\"control has-icons-left\">\n                    \n                        <label className=\"label is-size-7 my-0\"  name=\"gender\" type=\"text\">Gender </label><label className=\"is-size-7 my-0\">{Client.gender }</label>\n                        <span className=\"icon is-small is-left\">\n                        <i className=\"nop-envelope\"></i>\n                        </span>\n                    </p>\n                </div> }\n                {Client.maritalstatus && <div className=\"field\">\n                    <p className=\"control has-icons-left\">\n                    \n                        <label className=\"label is-size-7 my-0\"  name=\"maritalstatus\" type=\"text\">Marital Status </label><label className=\"is-size-7 my-0\">{Client.maritalstatus }</label>\n                        <span className=\"icon is-small is-left\">\n                        <i className=\"nop-envelope\"></i>\n                        </span>\n                    </p>\n                </div> }\n                {Client.mrn && <div className=\"field\">\n                    <p className=\"control has-icons-left\">\n                    \n                        <label className=\"label is-size-7 my-0\"  name=\"mrn\" type=\"text\">Medical Records Number  </label><label className=\"is-size-7 my-0\">{Client.mrn }</label>\n                        <span className=\"icon is-small is-left\">\n                        <i className=\"nop-envelope\"></i>\n                        </span>\n                    </p>\n                </div> }\n                </div>\n                </div>\n                <div className=\"field is-horizontal\">\n                    <div className=\"field-body\">\n                    {Client.religion && <div className=\"field\">\n                        <p className=\"control has-icons-left\">\n                        \n                            <label className=\"label is-size-7 my-0\"  name=\"religion\" type=\"text\">Religion  </label><label className=\"is-size-7 my-0\">{Client.religion }</label>\n                            <span className=\"icon is-small is-left\">\n                            <i className=\"nop-envelope\"></i>\n                            </span>\n                        </p>\n                    </div> }\n                    {Client.profession &&  <div className=\"field\">\n                        <p className=\"control has-icons-left\">\n                        \n                            <label className=\"label is-size-7 my-0\"  name=\"profession\" type=\"text\">Profession  </label><label className=\"is-size-7 my-0\">{Client.profession }</label>\n                            <span className=\"icon is-small is-left\">\n                            <i className=\"nop-envelope\"></i>\n                            </span>\n                        </p>\n                    </div> }\n                    {Client.phone &&<div className=\"field\">\n                        <p className=\"control has-icons-left\">\n                            <label className=\"label is-size-7 my-0\"  name=\"phone\" type=\"text\"> Phone No</label><label className=\"is-size-7 my-0\">{Client.phone }</label>\n                            <span className=\"icon is-small is-left\">\n                            <i className=\"nop-phone-alt\"></i>\n                            </span>\n                        </p>\n                    </div>}\n\n                    {Client.email && <div className=\"field\">\n                        <p className=\"control has-icons-left\">\n                        \n                            <label className=\"label is-size-7 my-0\"  name=\"email\" type=\"email\">Email  </label><label className=\"is-size-7 my-0\">{Client.email }</label>\n                            <span className=\"icon is-small is-left\">\n                            <i className=\"nop-envelope\"></i>\n                            </span>\n                        </p>\n                    </div> }\n                    </div>\n                </div>\n\n                {Client.address &&<div className=\"field\">\n                <p className=\"control has-icons-left\">\n\n                    <label className=\"label is-size-7 my-0\"  name=\"address\" type=\"text\">Residential Address  </label><label className=\"is-size-7 my-0\">{Client.address }</label>\n                    <span className=\"icon is-small is-left\">\n                    <i className=\"nop-envelope\"></i>\n                    </span>\n                </p>\n                </div>} \n                <div className=\"field is-horizontal\">\n                    <div className=\"field-body\">\n                        {Client.city && <div className=\"field\">\n                            <p className=\"control has-icons-left\">\n                            \n                                <label className=\"label is-size-7 my-0\"  name=\"city\" type=\"text\">Town/City  </label><label className=\"is-size-7 my-0\">{Client.city }</label>\n                                <span className=\"icon is-small is-left\">\n                                <i className=\"nop-envelope\"></i>\n                                </span>\n                            </p>\n                        </div> }\n                        {Client.lga && <div className=\"field\">\n                            <p className=\"control has-icons-left\">\n                            \n                                <label className=\"label is-size-7 my-0\"  name=\"lga\" type=\"text\">Local Govt Area  </label><label className=\"is-size-7 my-0\">{Client.lga }</label>\n                                <span className=\"icon is-small is-left\">\n                                <i className=\"nop-envelope\"></i>\n                                </span>\n                            </p>\n                        </div> }\n                        {Client.state && <div className=\"field\">\n                            <p className=\"control has-icons-left\">\n                                <label className=\"label is-size-7 my-0\"  name=\"state\" type=\"text\">State  </label><label className=\"is-size-7 my-0\">{Client.state }</label>\n                                <span className=\"icon is-small is-left\">\n                                <i className=\"nop-envelope\"></i>\n                                </span>\n                            </p>\n                        </div> }\n                        {Client.country &&<div className=\"field\">\n                        <p className=\"control has-icons-left\">\n                        \n                            <label className=\"label is-size-7 my-0\"  name=\"country\" type=\"text\">Country  </label><label className=\"is-size-7 my-0\">{Client.country }</label>\n                            <span className=\"icon is-small is-left\">\n                            <i className=\"nop-envelope\"></i>\n                            </span>\n                        </p>\n                    </div>}\n                    </div>\n                </div> \n                <div className=\"field is-horizontal\">\n                <div className=\"field-body\">\n                     {Client.bloodgroup &&  <div className=\"field\">\n                        <p className=\"control has-icons-left\">\n                        \n                            <label className=\"label is-size-7 my-0\"  name=\"bloodgroup\" type=\"text\">Blood Group </label><label className=\"is-size-7 my-0\">{Client.bloodgroup }</label>\n                            <span className=\"icon is-small is-left\">\n                            <i className=\"nop-envelope\"></i>\n                            </span>\n                        </p>\n                    </div>}\n                   \n                    {Client.genotype && <div className=\"field\">\n                        <p className=\"control has-icons-left\">\n                        \n                            <label className=\"label is-size-7 my-0\"  name=\"genotype\" type=\"text\">Genotype  </label><label className=\"is-size-7 my-0\">{Client.genotype }</label>\n                            <span className=\"icon is-small is-left\">\n                            <i className=\"nop-envelope\"></i>\n                            </span>\n                        </p>\n                    </div> }\n                    {Client.disabilities && <div className=\"field\">\n                        <p className=\"control has-icons-left\">\n                        \n                            <label className=\"label is-size-7 my-0\"  name=\"disabilities\" type=\"text\">Disabilities  </label><label className=\"is-size-7 my-0\">{Client.disabilities }</label>\n                            <span className=\"icon is-small is-left\">\n                            <i className=\"nop-envelope\"></i>\n                            </span>\n                        </p>\n                    </div> }\n                </div> \n                </div>  \n\n                <div className=\"field is-horizontal\">\n                <div className=\"field-body\">\n\n                {Client.allergies && <div className=\"field\">\n                    <p className=\"control has-icons-left\">\n                    \n                        <label className=\"label is-size-7 my-0\"  name=\"allergies\" type=\"text\">Allergies  </label><label className=\"is-size-7 my-0\">{Client.allergies }</label>\n                        <span className=\"icon is-small is-left\">\n                        <i className=\"nop-envelope\"></i>\n                        </span>\n                    </p>\n                </div> }\n                {Client.comorbidities && <div className=\"field\">\n                    <p className=\"control has-icons-left\">\n                    \n                        <label className=\"label is-size-7 my-0\"  name=\"comorbidities\" type=\"text\">Co-mobidities  </label><label className=\"is-size-7 my-0\">{Client.comorbidities }</label>\n                        <span className=\"icon is-small is-left\">\n                        <i className=\"nop-envelope\"></i>\n                        </span>\n                    </p>\n                </div> }\n                </div>\n                </div>\n               {Client.clientTags && <div className=\"field\">\n                <p className=\"control has-icons-left\">\n\n                    <label className=\"label is-size-7 my-0\"  name=\"clientTags\" type=\"text\">Tags </label><label className=\"is-size-7 my-0\">{Client.clientTags }</label>\n                    <span className=\"icon is-small is-left\">\n                    <i className=\"nop-envelope\"></i>\n                    </span>\n                </p>\n                </div> }\n                {Client.specificDetails && <div className=\"field\">\n                <p className=\"control has-icons-left\">\n                    <label className=\"label is-size-7 my-0\"  name=\"specificDetails\" type=\"text\">Specific Details about Client </label><label className=\"is-size-7 my-0\">{Client.specificDetails }</label>\n                    <span className=\"icon is-small is-left\">\n                    <i className=\"nop-envelope\"></i>\n                    </span>\n                </p>\n                </div> }\n                <div className=\"field is-horizontal\">\n                <div className=\"field-body\">\n                {Client.nok_name && <div className=\"field\">\n                    <p className=\"control has-icons-left\">\n                        <label className=\"label is-size-7 my-0\"  name=\"nok_name\" type=\"text\">Next of Kin Full Name</label><label className=\"is-size-7 my-0\">{Client.nok_name }</label>\n                        <span className=\"icon is-small is-left\">\n                        <i className=\"nop-clinic-medical\"></i>\n                        </span>\n                    </p>\n                </div>}\n                {Client.nok_phoneno && <div className=\"field\">\n                    <p className=\"control has-icons-left\">\n                        <label className=\"label is-size-7 my-0\"  name=\"nok_phoneno\" type=\"text\">Next of Kin Phone Number</label><label className=\"is-size-7 my-0\">{Client.nok_phoneno }</label>\n                        <span className=\"icon is-small is-left\">\n                        <i className=\"nop-clinic-medical\"></i>\n                        </span>\n                    </p>\n                </div> }\n                {Client.nok_email && <div className=\"field\">\n                    <p className=\"control has-icons-left\">\n                    \n                        <label className=\"label is-size-7 my-0\"  name=\"nok_email\" type=\"email\">Next of Kin Email </label><label className=\"is-size-7 my-0\">{Client.nok_email }</label>\n                        <span className=\"icon is-small is-left\">\n                        <i className=\"nop-envelope\"></i>\n                        </span>\n                    </p>\n                </div>}\n                {Client.nok_relationship && <div className=\"field\">\n                    <p className=\"control has-icons-left\">\n                    \n                        <label className=\"label is-size-7 my-0\"  name=\"nok_relationship\" type=\"text\">Next of Kin Relationship\"  </label><label className=\"is-size-7 my-0\">{Client.nok_relationship }</label>\n                        <span className=\"icon is-small is-left\">\n                        <i className=\"nop-envelope\"></i>\n                        </span>\n                    </p>\n                </div>}\n                </div>\n                </div> \n            <div className=\"field is-grouped  mt-2\">\n                <p className=\"control\">\n                    <button className=\"button is-success is-small\" onClick={handleEdit}>\n                        Edit Details\n                    </button>\n                </p>\n                <p className=\"control\">\n                    <button className=\"button is-info is-small\" onClick={handleFinancialInfo}>\n                        Payment Info\n                    </button>\n                </p>\n                <p className=\"control\">\n                    <button className=\"button is-warning is-small\" onClick={handleSchedule}>\n                        Schedule appointment\n                    </button>\n                </p>\n               {/*  <p className=\"control\">\n                    <button className=\"button is-danger is-small\" >\n                        Check into Clinic \n                    </button>\n                </p> */}\n                <p className=\"control\">\n                    <button className=\"button is-link is-small\" onClick={()=>{history.push('/app/clinic/encounter')}} >\n                        Attend to Client\n                    </button>\n                </p>\n\n            </div>\n            \n           \n        </div>\n        </div>\n        <div className={`modal ${finacialInfoModal?\"is-active\":\"\"}` }>\n            <div className=\"modal-background\"></div>\n            <div className=\"modal-card\">\n                <header className=\"modal-card-head\">\n                <p className=\"modal-card-title\">Financial Information</p>\n                <button className=\"delete\" aria-label=\"close\"  onClick={handlecloseModal}></button>\n                </header>\n                <section className=\"modal-card-body\">\n                {/* <StoreList standalone=\"true\" /> */}\n                <ClientFinInfo closeModal={handlecloseModal}/>\n                </section>\n                {/* <footer className=\"modal-card-foot\">\n                <button className=\"button is-success\">Save changes</button>\n                <button className=\"button\">Cancel</button>\n                </footer> */}\n            </div>\n        </div> \n\n            <div className={`modal ${billingModal?\"is-active\":\"\"}` }>\n                <div className=\"modal-background\"></div>\n                <div className=\"modal-card\">\n                    <header className=\"modal-card-head\">\n                    <p className=\"modal-card-title\">Bill Client</p>\n                    <button className=\"delete\" aria-label=\"close\"  onClick={handlecloseModal1}></button>\n                    </header>\n                    <section className=\"modal-card-body\">\n                    {/* <StoreList standalone=\"true\" /> */}\n                    < BillServiceCreate closeModal={handlecloseModal1}/>\n                    </section>\n                    {/* <footer className=\"modal-card-foot\">\n                    <button className=\"button is-success\">Save changes</button>\n                    <button className=\"button\">Cancel</button>\n                    </footer> */}\n                </div>\n            </div>  \n            <div className={`modal ${appointmentModal?\"is-active\":\"\"}` }>\n                <div className=\"modal-background\"></div>\n                <div className=\"modal-card\">\n                    <header className=\"modal-card-head\">\n                    <p className=\"modal-card-title\">Set Appointment</p>\n                    <button className=\"delete\" aria-label=\"close\"  onClick={handlecloseModal2}></button>\n                    </header>\n                    <section className=\"modal-card-body\">\n                    {/* <StoreList standalone=\"true\" /> */}\n                    <AppointmentCreate  closeModal={handlecloseModal2}/>\n                    </section>\n                    {/* <footer className=\"modal-card-foot\">\n                    <button className=\"button is-success\">Save changes</button>\n                    <button className=\"button\">Cancel</button>\n                    </footer> */}\n                </div>\n            </div>\n            <div className={`modal ${billModal?\"is-active\":\"\"}` }>\n                <div className=\"modal-background\"></div>\n                <div className=\"modal-card\">\n                    <header className=\"modal-card-head\">\n                    <p className=\"modal-card-title\">Set Appointment</p>\n                    <button className=\"delete\" aria-label=\"close\"  onClick={handlecloseModal3}></button>\n                    </header>\n                    <section className=\"modal-card-body\">\n                    {/* <StoreList standalone=\"true\" /> */}\n                    <ClientBilledPrescription  selectedClient={Client._id}  closeModal={handlecloseModal3}/>\n                    </section>\n                    {/* <footer className=\"modal-card-foot\">\n                    <button className=\"button is-success\">Save changes</button>\n                    <button className=\"button\">Cancel</button>\n                    </footer> */}\n                </div>\n            </div>                       \n        </>\n    )\n   \n   \n}\n\nexport function ClientModify(){\n    const { register, handleSubmit, setValue,reset} = useForm(); //watch, errors,, errors \n    // eslint-disable-next-line \n    const [error, setError] =useState(false)\n    // eslint-disable-next-line \n    const [success, setSuccess] =useState(false)\n    // eslint-disable-next-line \n    const [message,setMessage] = useState(\"\")\n    // eslint-disable-next-line \n    const ClientServ=client.service('client')\n    //const history = useHistory()\n     // eslint-disable-next-line\n    const {user} = useContext(UserContext)\n    const {state,setState} = useContext(ObjectContext)\n\n    const Client =state.ClientModule.selectedClient \n\n        useEffect(() => {\n            setValue(\"firstname\", Client.firstname,  {\n                shouldValidate: true,\n                shouldDirty: true\n            })\n            setValue(\"middlename\", Client.middlename,  {\n                shouldValidate: true,\n                shouldDirty: true\n            })\n             setValue(\"lastname\", Client.lastname,  {\n                shouldValidate: true,\n                shouldDirty: true\n            })\n            setValue(\"phone\", Client.phone,  {\n                shouldValidate: true,\n                shouldDirty: true\n            })\n            setValue(\"email\", Client.email,  {\n                shouldValidate: true,\n                shouldDirty: true\n            })\n            setValue(\"dob\", Client.dob,  {\n                shouldValidate: true,\n                shouldDirty: true\n            })\n            setValue(\"gender\", Client.gender,  {\n                shouldValidate: true,\n                shouldDirty: true\n            }) \n             setValue(\"profession\", Client.profession,  {\n                shouldValidate: true,\n                shouldDirty: true\n            }) \n            setValue(\"address\", Client.address,  {\n                shouldValidate: true,\n                shouldDirty: true\n            })\n            setValue(\"city\", Client.city,  {\n                shouldValidate: true,\n                shouldDirty: true\n            })\n             setValue(\"state\", Client.state,  {\n                shouldValidate: true,\n                shouldDirty: true\n            })\n            setValue(\"country\", Client.country,  {\n                shouldValidate: true,\n                shouldDirty: true\n            })\n            setValue(\"nok_name\", Client.nok_name,  {\n                shouldValidate: true,\n                shouldDirty: true\n            })\n            setValue(\"nok_email\", Client.nok_email,  {\n                shouldValidate: true,\n                shouldDirty: true\n            })\n            setValue(\"nok_phoneno\", Client.nokphoneno,  {\n                shouldValidate: true,\n                shouldDirty: true\n            }) \n             setValue(\"lga\", Client.lga,  {\n                shouldValidate: true,\n                shouldDirty: true\n            }) \n            setValue(\"bloodgroup\", Client.bloodgroup,  {\n                shouldValidate: true,\n                shouldDirty: true\n            })\n            setValue(\"genotype\", Client.genotype,  {\n                shouldValidate: true,\n                shouldDirty: true\n            })\n             setValue(\"disabilities\", Client.disabilities,  {\n                shouldValidate: true,\n                shouldDirty: true\n            })\n            setValue(\"specificDetails\", Client.specificDetails,  {\n                shouldValidate: true,\n                shouldDirty: true\n            })\n            setValue(\"clientTags\", Client.clientTags,  {\n                shouldValidate: true,\n                shouldDirty: true\n            })\n            setValue(\"mrn\", Client.mrn,  {\n                shouldValidate: true,\n                shouldDirty: true\n            })\n            setValue(\"comorbidities\", Client.comorbidities,  {\n                shouldValidate: true,\n                shouldDirty: true\n            }) \n             setValue(\"allergies\", Client.allergies,  {\n                shouldValidate: true,\n                shouldDirty: true\n            }) \n           \n            \n            return () => {\n                \n            }\n        })\n\n   const handleCancel=async()=>{\n    const    newClientModule={\n        selectedClient:Client,\n        show :'detail'\n      }\n   await setState((prevstate)=>({...prevstate, ClientModule:newClientModule}))\n   //console.log(state)\n           }\n\n\n        const changeState =()=>{\n        const    newClientModule={\n            selectedClient:{},\n            show :'create'\n        }\n        setState((prevstate)=>({...prevstate, ClientModule:newClientModule}))\n\n        }\n          // eslint-disable-next-line\n    const handleDelete=async()=>{\n        let conf=window.confirm(\"Are you sure you want to delete this data?\")\n        \n        const dleteId=Client._id\n        if (conf){\n             \n        ClientServ.remove(dleteId)\n        .then((res)=>{\n                //console.log(JSON.stringify(res))\n                reset();\n               /*  setMessage(\"Deleted Client successfully\")\n                setSuccess(true)\n                changeState()\n               setTimeout(() => {\n                setSuccess(false)\n                }, 200); */\n                toast({\n                    message: 'Client deleted succesfully',\n                    type: 'is-success',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n                changeState()\n            })\n            .catch((err)=>{\n               // setMessage(\"Error deleting Client, probable network issues \"+ err )\n               // setError(true)\n                toast({\n                    message: \"Error deleting Client, probable network issues or \"+ err,\n                    type: 'is-danger',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n            })\n        }\n    }\n        \n\n   /* ()=> setValue(\"firstName\", \"Bill\", , {\n            shouldValidate: true,\n            shouldDirty: true\n          })) */\n    const onSubmit = (data,e) =>{\n        e.preventDefault();\n        \n        setSuccess(false)\n       // console.log(data)\n      //  data.facility=Client.facility\n          //console.log(data);\n          \n        ClientServ.patch(Client._id,data)\n        .then((res)=>{\n                //console.log(JSON.stringify(res))\n               // e.target.reset();\n               // setMessage(\"updated Client successfully\")\n                 toast({\n                    message: 'Client updated succesfully',\n                    type: 'is-success',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n                  \n                changeState()\n\n            })\n            .catch((err)=>{\n                //setMessage(\"Error creating Client, probable network issues \"+ err )\n               // setError(true)\n                toast({\n                    message: \"Error updating Client, probable network issues or \"+ err,\n                    type: 'is-danger',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n            })\n\n      } \n     \n      \n    return (\n        \n        <>\n        <div className=\"card \">\n            <div className=\"card-header\">\n                <p className=\"card-header-title\">\n                    Client Details-Modify\n                </p>\n            </div>\n            <div className=\"card-content vscrollable\">\n           \n            <form onSubmit={handleSubmit(onSubmit)}>\n            <div className=\"field is-horizontal\">\n        <div className=\"field-body\">\n            <div className=\"field\">\n                <p className=\"control has-icons-left has-icons-right\">\n                    <label className=\"label is-size-7\"   >First Name </label> <input className=\"input is-small\" ref={register()} name=\"firstname\" type=\"text\" placeholder=\"First Name \" />\n                    <span className=\"icon is-small is-left\">\n                        <i className=\"nop-hospital\"></i>\n                    </span>                    \n                </p>\n            </div>\n\n\n            <div className=\"field\">\n                <p className=\"control has-icons-left has-icons-right\">\n                <label className=\"label is-size-7\"   > Middle Name </label><input className=\"input is-small\" ref={register()} name=\"middlename\" type=\"text\" placeholder=\"Middle Name \" />\n                <span className=\"icon is-small is-left\">\n                    <i className=\"nop-map-signs\"></i>\n                </span>\n                \n                </p>\n            </div>\n\n        <div className=\"field\">\n            <p className=\"control has-icons-left\">\n                <label className=\"label is-size-7\"  >Last Name</label><input className=\"input is-small\" ref={register()} name=\"lastname\" type=\"text\"placeholder=\"Last Name \" />\n                <span className=\"icon is-small is-left\">\n                <i className=\" nop-user-md \"></i>\n                </span>\n            </p>\n        </div>\n        </div>  \n        </div>\n        \n        <div className=\"field is-horizontal\">\n        <div className=\"field-body\">\n        <div className=\"field\">\n            <p className=\"control has-icons-left\">\n            \n                <label className=\"label is-size-7\"  >Date of Birth  </label><input className=\"input is-small\" ref={register()} name=\"dob\" type=\"text\"placeholder=\"Date of Birth \" />\n                <span className=\"icon is-small is-left\">\n                <i className=\"nop-envelope\"></i>\n                </span>\n            </p>\n        </div> \n        <div className=\"field\">\n            <p className=\"control has-icons-left\">\n            \n                <label className=\"label is-size-7\"  >Gender  </label><input className=\"input is-small\" ref={register()} name=\"gender\" type=\"text\"placeholder=\"Gender  \" />\n                <span className=\"icon is-small is-left\">\n                <i className=\"nop-envelope\"></i>\n                </span>\n            </p>\n        </div> \n        <div className=\"field\">\n            <p className=\"control has-icons-left\">\n            \n                <label className=\"label is-size-7\"  >Marital Status  </label><input className=\"input is-small\" ref={register()} name=\"maritalstatus\" type=\"text\"placeholder=\"Marital Status  \" />\n                <span className=\"icon is-small is-left\">\n                <i className=\"nop-envelope\"></i>\n                </span>\n            </p>\n        </div> \n        <div className=\"field\">\n            <p className=\"control has-icons-left\">\n            \n                <label className=\"label is-size-7\"  > Records Number </label><input className=\"input is-small\" ref={register()} name=\"mrn\" type=\"text\"placeholder=\"Records Number  \" />\n                <span className=\"icon is-small is-left\">\n                <i className=\"nop-envelope\"></i>\n                </span>\n            </p>\n        </div> \n        </div>\n        </div>\n        <div className=\"field is-horizontal\">\n        <div className=\"field-body\">\n        <div className=\"field\">\n            <p className=\"control has-icons-left\">\n            \n                <label className=\"label is-size-7\"  >Religion</label><input className=\"input is-small\" ref={register()} name=\"religion\" type=\"text\"placeholder=\"Religion \" />\n                <span className=\"icon is-small is-left\">\n                <i className=\"nop-envelope\"></i>\n                </span>\n            </p>\n        </div> \n        <div className=\"field\">\n            <p className=\"control has-icons-left\">\n            \n                <label className=\"label is-size-7\"  >Profession  </label><input className=\"input is-small\" ref={register()} name=\"profession\" type=\"text\" placeholder=\"Profession\" />\n                <span className=\"icon is-small is-left\">\n                <i className=\"nop-envelope\"></i>\n                </span>\n            </p>\n        </div> \n        <div className=\"field\">\n            <p className=\"control has-icons-left\">\n                <label className=\"label is-size-7\"  > Phone No</label><input className=\"input is-small\" ref={register()} name=\"phone\" type=\"text\" placeholder=\" Phone No \" />\n                <span className=\"icon is-small is-left\">\n                <i className=\"nop-phone-alt\"></i>\n                </span>\n            </p>\n        </div>\n\n        <div className=\"field\">\n            <p className=\"control has-icons-left\">\n            \n                <label className=\"label is-size-7\"  >Email  </label><input className=\"input is-small\" ref={register()} name=\"email\" type=\"email\"placeholder=\"Email  \" />\n                <span className=\"icon is-small is-left\">\n                <i className=\"nop-envelope\"></i>\n                </span>\n            </p>\n        </div> \n        </div>\n        </div>\n\n        <div className=\"field\">\n        <p className=\"control has-icons-left\">\n\n            <label className=\"label is-size-7\"  >Residential Address  </label><input className=\"input is-small\" ref={register()} name=\"address\" type=\"text\" placeholder=\"Residential Address  \" />\n            <span className=\"icon is-small is-left\">\n            <i className=\"nop-envelope\"></i>\n            </span>\n        </p>\n        </div> \n        <div className=\"field is-horizontal\">\n        <div className=\"field-body\">\n        <div className=\"field\">\n            <p className=\"control has-icons-left\">\n            \n                <label className=\"label is-size-7\"  >Town/City  </label><input className=\"input is-small\" ref={register()} name=\"city\" type=\"text\" placeholder=\"Town/City  \" />\n                <span className=\"icon is-small is-left\">\n                <i className=\"nop-envelope\"></i>\n                </span>\n            </p>\n        </div> \n        <div className=\"field\">\n            <p className=\"control has-icons-left\">\n            \n                <label className=\"label is-size-7\"  >Local Govt Area  </label><input className=\"input is-small\" ref={register()} name=\"lga\" type=\"text\"placeholder=\"Local Govt Area  \" />\n                <span className=\"icon is-small is-left\">\n                <i className=\"nop-envelope\"></i>\n                </span>\n            </p>\n        </div> \n        <div className=\"field\">\n            <p className=\"control has-icons-left\">\n            \n                <label className=\"label is-size-7\"  >State  </label><input className=\"input is-small\" ref={register()} name=\"state\" type=\"text\"placeholder=\"State\" />\n                <span className=\"icon is-small is-left\">\n                <i className=\"nop-envelope\"></i>\n                </span>\n            </p>\n        </div> \n        <div className=\"field\">\n            <p className=\"control has-icons-left\">\n            \n                <label className=\"label is-size-7\"  >Country  </label><input className=\"input is-small\" ref={register()} name=\"country\" type=\"text\" placeholder=\"Country  \" />\n                <span className=\"icon is-small is-left\">\n                <i className=\"nop-envelope\"></i>\n                </span>\n            </p>\n        </div>\n        </div>\n        </div> \n        <div className=\"field is-horizontal\">\n        <div className=\"field-body\">\n            <div className=\"field\">\n                <p className=\"control has-icons-left\">\n                \n                    <label className=\"label is-size-7\"  >Blood Group </label><input className=\"input is-small\" ref={register()} name=\"bloodgroup\" type=\"text\"placeholder=\"Blood Group \" />\n                    <span className=\"icon is-small is-left\">\n                    <i className=\"nop-envelope\"></i>\n                    </span>\n                </p>\n            </div> \n            <div className=\"field\">\n                <p className=\"control has-icons-left\">\n                \n                    <label className=\"label is-size-7\"  >Genotype  </label><input className=\"input is-small\" ref={register()} name=\"genotype\" type=\"text\" placeholder=\"Genotype \" />\n                    <span className=\"icon is-small is-left\">\n                    <i className=\"nop-envelope\"></i>\n                    </span>\n                </p>\n            </div> \n            <div className=\"field\">\n                <p className=\"control has-icons-left\">\n                \n                    <label className=\"label is-size-7\" >Disabilities  </label><input className=\"input is-small\" ref={register()}  name=\"disabilities\" type=\"text\"placeholder=\"Disabilities  \" />\n                    <span className=\"icon is-small is-left\">\n                    <i className=\"nop-envelope\"></i>\n                    </span>\n                </p>\n            </div> \n        </div> \n        </div>  \n\n        <div className=\"field is-horizontal\">\n        <div className=\"field-body\">\n\n        <div className=\"field\">\n            <p className=\"control has-icons-left\">\n            \n                <label className=\"label is-size-7\"  >Allergies  </label><input className=\"input is-small\" ref={register()} name=\"allergies\" type=\"text\"placeholder=\"Allergies  \" />\n                <span className=\"icon is-small is-left\">\n                <i className=\"nop-envelope\"></i>\n                </span>\n            </p>\n        </div> \n        <div className=\"field\">\n            <p className=\"control has-icons-left\">\n            \n                <label className=\"label is-size-7\"  >Co-mobidities </label><input className=\"input is-small\" ref={register()} name=\"comorbidities\" type=\"text\"placeholder=\"Co-mobidities \" />\n                <span className=\"icon is-small is-left\">\n                <i className=\"nop-envelope\"></i>\n                </span>\n            </p>\n        </div> \n        </div>\n        </div>\n        <div className=\"field\">\n        <p className=\"control has-icons-left\">\n\n            <label className=\"label is-size-7\"  >Tags  </label><input className=\"input is-small\" ref={register()} name=\"clientTags\" type=\"text\" placeholder=\"Tags \" />\n            <span className=\"icon is-small is-left\">\n            <i className=\"nop-envelope\"></i>\n            </span>\n        </p>\n        </div> \n        <div className=\"field\">\n        <p className=\"control has-icons-left\">\n            <label className=\"label is-size-7\"  >Specific Details about client  </label><input className=\"input is-small\" ref={register()} name=\"specificDetails\" type=\"text\"placeholder=\"Specific Details about client \" />\n            <span className=\"icon is-small is-left\">\n            <i className=\"nop-envelope\"></i>\n            </span>\n        </p>\n        </div> \n        <div className=\"field is-horizontal\">\n        <div className=\"field-body\">\n        <div className=\"field\">\n            <p className=\"control has-icons-left\">\n                <label className=\"label is-size-7\"  >Next of Kin Full Name</label><input className=\"input is-small\" ref={register()} name=\"nok_name\" type=\"text\"placeholder=\"Next of Kin Full Name \" />\n                <span className=\"icon is-small is-left\">\n                <i className=\"nop-clinic-medical\"></i>\n                </span>\n            </p>\n        </div>\n        <div className=\"field\">\n            <p className=\"control has-icons-left\">\n                <label className=\"label is-size-7\" >Phone Number</label><input className=\"input is-small\" ref={register()}  name=\"nok_phoneno\" type=\"text\"placeholder=\" \" />\n                <span className=\"icon is-small is-left\">\n                <i className=\"nop-clinic-medical\"></i>\n                </span>\n            </p>\n        </div> \n        <div className=\"field\">\n            <p className=\"control has-icons-left\">\n            \n                <label className=\"label is-size-7\"  >Next of Kin Email  </label><input className=\"input is-small\" ref={register()} name=\"nok_email\" type=\"email\"placeholder=\"Next of Kin Email  \" />\n                <span className=\"icon is-small is-left\">\n                <i className=\"nop-envelope\"></i>\n                </span>\n            </p>\n        </div>\n        <div className=\"field\">\n            <p className=\"control has-icons-left\">\n            \n                <label className=\"label is-size-7\"  > Relationship  </label><input className=\"input is-small\" ref={register()} name=\"nok_relationship\" type=\"text\" placeholder=\"Next of Kin Relationship\" />\n                <span className=\"icon is-small is-left\">\n                <i className=\"nop-envelope\"></i>\n                </span>\n            </p>\n        </div>\n        </div>\n        </div> \n           \n           \n            </form>\n            \n            <div className=\"field  is-grouped mt-2\" >\n                <p className=\"control\">\n                    <button type=\"submit\" className=\"button is-success is-small\" onClick={handleSubmit(onSubmit)}>\n                        Save\n                    </button>\n                </p>\n                <p className=\"control\">\n                    <button className=\"button is-warning is-small\" onClick={handleCancel}>\n                        Cancel\n                    </button>\n                </p>\n               <p className=\"control\">\n                    <button className=\"button is-danger is-small\" onClick={()=>handleDelete()} type=\"delete\">\n                       Delete\n                    </button>\n                </p> \n            </div>\n        </div>\n        </div>\n        </>\n    )\n   \n   \n                \n}   \n\nexport  function InputSearch({getSearchfacility,clear}) {\n    const ClientServ=client.service('client')\n   // const facilityServ=client.service('facility')\n    const [facilities,setFacilities]=useState([])\n     // eslint-disable-next-line\n     const [searchError, setSearchError] =useState(false)\n     // eslint-disable-next-line\n    const [showPanel, setShowPanel] =useState(false)\n     // eslint-disable-next-line\n   const [searchMessage, setSearchMessage] = useState(\"\") \n   // eslint-disable-next-line \n   const [simpa,setSimpa]=useState(\"\")\n   // eslint-disable-next-line \n   const [chosen,setChosen]=useState(false)\n   // eslint-disable-next-line \n   const [count,setCount]=useState(0)\n   const inputEl=useRef(null)\n\n\n   const handleRow= async(obj)=>{\n        await setChosen(true)\n        //alert(\"something is chaning\")\n       getSearchfacility(obj)\n       \n       await setSimpa(obj.facilityName)\n       \n        // setSelectedFacility(obj)\n        setShowPanel(false)\n        await setCount(2)\n        /* const    newfacilityModule={\n            selectedFacility:facility,\n            show :'detail'\n        }\n   await setState((prevstate)=>({...prevstate, facilityModule:newfacilityModule})) */\n   //console.log(state)\n}\n    const handleBlur=async(e)=>{\n         if (count===2){\n             console.log(\"stuff was chosen\")\n         }\n       \n       /*  console.log(\"blur\")\n         setShowPanel(false)\n        console.log(JSON.stringify(simpa))\n        if (simpa===\"\"){\n            console.log(facilities.length)\n            setSimpa(\"abc\")\n            setSimpa(\"\")\n            setFacilities([])\n            inputEl.current.setValue=\"\"\n        }\n        console.log(facilities.length)\n        console.log(inputEl.current) */\n    }\n    const handleSearch=async(val)=>{\n        \n        const field='facilityName' //field variable\n       \n        if (val.length>=3){\n            ClientServ.find({query: {     //service\n                 [field]: {\n                     $regex:val,\n                     $options:'i'\n                    \n                 },\n                 $limit:10,\n                 $sort: {\n                     createdAt: -1\n                   }\n                     }}).then((res)=>{\n              console.log(\"facility  fetched successfully\") \n                setFacilities(res.data)\n                 setSearchMessage(\" facility  fetched successfully\")\n                 setShowPanel(true)\n             })\n             .catch((err)=>{\n                 console.log(err)\n                 setSearchMessage(\"Error searching facility, probable network issues \"+ err )\n                 setSearchError(true)\n             })\n         }\n        else{\n            console.log(\"less than 3 \")\n            console.log(val)\n            setShowPanel(false)\n            await setFacilities([])\n            console.log(facilities)\n        }\n    }\n    useEffect(() => {\n       if (clear){\n           setSimpa(\"\")\n       }\n        return () => {\n            \n        }\n    }, [clear] )\n    return (\n        <div>\n            <div className=\"field\">\n                <div className=\"control has-icons-left  \">\n                    <div className={`dropdown ${showPanel?\"is-active\":\"\"}`}>\n                        <div className=\"dropdown-trigger\">\n                            <DebounceInput className=\"input is-small \" \n                                type=\"text\" placeholder=\"Search Facilities\"\n                                value={simpa}\n                                minLength={1}\n                                debounceTimeout={400}\n                                onBlur={(e)=>handleBlur(e)}\n                                onChange={(e)=>handleSearch(e.target.value)}\n                                inputRef={inputEl}\n                                  />\n                            <span className=\"icon is-small is-left\">\n                                <i className=\"fas fa-search\"></i>\n                            </span>\n                        </div>\n                        {searchError&&<div>{searchMessage}</div>}\n                        <div className=\"dropdown-menu\" >\n                            <div className=\"dropdown-content\">\n                            {facilities.map((facility, i)=>(\n                                    \n                                    <div className=\"dropdown-item\" key={facility._id} onClick={()=>handleRow(facility)}>\n                                        \n                                        <span>{facility.facilityName}</span>\n                                        \n                                    </div>\n                                    \n                                    ))}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n          \n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}