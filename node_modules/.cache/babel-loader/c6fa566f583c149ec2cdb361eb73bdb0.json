{"ast":null,"code":"import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import _regeneratorRuntime from\"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _objectSpread from\"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext,useEffect,useRef}from'react';import{useForm}from\"react-hook-form\";import client from'../../../feathers';import Encounter from'../../EncounterMgt/Encounter';import{UserContext,ObjectContext}from'../../../context';import{toast}from'bulma-toast';export default function LaboratoryReportForm(){var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit;var _useContext=useContext(ObjectContext),state=_useContext.state,setState=_useContext.setState;var _useState=useState(\"Draft\"),_useState2=_slicedToArray(_useState,2),reportStatus=_useState2[0],setReportStatus=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),choosenForm=_useState4[0],setChoosenForm=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),productModal=_useState6[0],setProductModal=_useState6[1];var formtype=[\"Haematology\",\"Serology\",\"Biochemistry\",\"Microbiology\",\"Urine\",\"Urinalysis\",\"Stool\",\"HVS Culture\",\"Generic\"];var order=state.financeModule.selectedFinance;var bill_report_status=state.financeModule.report_status;var handleChangeMode=function handleChangeMode(value){setChoosenForm(value);setState(function(prevstate){return _objectSpread(_objectSpread({},prevstate),{},{labFormType:value});});};useEffect(function(){var _order$resultDetail;if(((_order$resultDetail=order.resultDetail)===null||_order$resultDetail===void 0?void 0:_order$resultDetail.labFormType)==null){console.log(\"null\");//setChoosenForm(\"unknown\")\nsetState(function(prevstate){return _objectSpread(_objectSpread({},prevstate),{},{labFormType:\"unknown\"});});}else{console.log(\"not null\");//setChoosenForm(state.financeModule.selectedFinance.resultDetail.labFormType)\nsetState(function(prevstate){return _objectSpread(_objectSpread({},prevstate),{},{labFormType:state.financeModule.selectedFinance.resultDetail.labFormType});});}if(order.resultDetail==null){console.log(\"does not exist\");// setChoosenForm(\"\")\nsetState(function(prevstate){return _objectSpread(_objectSpread({},prevstate),{},{labFormType:\"\"});});}return function(){};},[order]);var showDocumentation=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(value){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setProductModal(true);case 1:case\"end\":return _context.stop();}}},_callee);}));return function showDocumentation(_x){return _ref.apply(this,arguments);};}();var handlecloseModal=function handlecloseModal(){setProductModal(false);// handleSearch(val)\n};return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header mb-0\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"card-header-title\",children:[order.serviceInfo.name,\" for \",order.orderInfo.orderObj.clientname]}),/*#__PURE__*/_jsx(\"p\",{}),bill_report_status===\"Pending\"&&/*#__PURE__*/_jsx(\"div\",{className:\"control mt-2 mr-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"select is-small \",children:/*#__PURE__*/_jsxs(\"select\",{name:\"FormType\",ref:register({required:true}),onChange:function onChange(e){return handleChangeMode(e.target.value);},className:\"selectadd\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Choose Form \"}),formtype.map(function(option,i){return/*#__PURE__*/_jsxs(\"option\",{value:option,children:[\" \",option]},i);})]})})}),/*#__PURE__*/_jsx(\"button\",{className:\"button is-success is-small btnheight mt-2\",onClick:showDocumentation,children:\"Documentation\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card-content mb-0 vscrollable\",children:/*#__PURE__*/_jsxs(\"div\",{children:[state.labFormType===\"Haematology\"&&/*#__PURE__*/_jsx(Haematology,{}),state.labFormType===\"Serology\"&&/*#__PURE__*/_jsx(Serology,{}),state.labFormType===\"Biochemistry\"&&/*#__PURE__*/_jsx(Biochemistry,{}),state.labFormType===\"Microbiology\"&&/*#__PURE__*/_jsx(Microbiology,{}),state.labFormType===\"Urine\"&&/*#__PURE__*/_jsx(Urine,{}),state.labFormType===\"Urinalysis\"&&/*#__PURE__*/_jsx(Urinalysis,{}),state.labFormType===\"Stool\"&&/*#__PURE__*/_jsx(Stool,{}),state.labFormType===\"HVS Culture\"&&/*#__PURE__*/_jsx(HVS,{}),state.labFormType===\"Generic\"&&/*#__PURE__*/_jsx(LabNoteGeneric,{}),state.labFormType===\"unknown\"&&/*#__PURE__*/_jsx(LabNoteCreate,{})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal \".concat(productModal?\"is-active\":\"\"),children:[/*#__PURE__*/_jsx(\"div\",{className:\"modal-background\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-card  modalbkgrnd\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"modal-card-head  btnheight\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"modal-card-title\",children:\"Documentation\"}),/*#__PURE__*/_jsx(\"button\",{className:\"delete\",\"aria-label\":\"close\",onClick:handlecloseModal})]}),/*#__PURE__*/_jsx(\"section\",{className:\"modal-card-body modalcolor\",children:/*#__PURE__*/_jsx(Encounter,{standalone:\"true\"})})]})]})]});};export function Haematology(){var _useForm2=useForm(),register=_useForm2.register,handleSubmit=_useForm2.handleSubmit,setValue=_useForm2.setValue;//, watch, errors, reset \nvar _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),error=_useState8[0],setError=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),success=_useState10[0],setSuccess=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),message=_useState12[0],setMessage=_useState12[1];// eslint-disable-next-line\nvar _useState13=useState(),_useState14=_slicedToArray(_useState13,2),facility=_useState14[0],setFacility=_useState14[1];var dClientServ=client.service('clinicaldocument');//const history = useHistory()\nvar _useContext2=useContext(UserContext),user=_useContext2.user;//,setUser\n// eslint-disable-next-line\nvar _useState15=useState(),_useState16=_slicedToArray(_useState15,2),currentUser=_useState16[0],setCurrentUser=_useState16[1];var _useContext3=useContext(ObjectContext),state=_useContext3.state,setState=_useContext3.setState;var _useState17=useState(\"Draft\"),_useState18=_slicedToArray(_useState17,2),docStatus=_useState18[0],setDocStatus=_useState18[1];var _useState19=useState(\"Draft\"),_useState20=_slicedToArray(_useState19,2),reportStatus=_useState20[0],setReportStatus=_useState20[1];var ClientServ=client.service('labresults');var order=state.financeModule.selectedFinance;var bill_report_status=state.financeModule.report_status;// let draftDoc=state.DocumentClassModule.selectedDocumentClass.document\nuseEffect(function(){var _order$resultDetail2;// setState((prevstate)=>({...prevstate, labFormType:value}))\nif(!((_order$resultDetail2=order.resultDetail)===null||_order$resultDetail2===void 0?void 0:_order$resultDetail2.documentdetail)){setValue(\"Finding\",\"\",{shouldValidate:true,shouldDirty:true});setValue(\"Recommendation\",\"\",{shouldValidate:true,shouldDirty:true});// setReportStatus(order.report_status)\nreturn;}if(order.report_status!==\"Pending\"){console.log(order.resultDetail.documentdetail);Object.entries(order.resultDetail.documentdetail).map(function(_ref2,i){var _ref3=_slicedToArray(_ref2,2),keys=_ref3[0],value=_ref3[1];return setValue(keys,value,{shouldValidate:true,shouldDirty:true});});}return function(){};},[order]);var getSearchfacility=function getSearchfacility(obj){setValue(\"facility\",obj._id,{shouldValidate:true,shouldDirty:true});};useEffect(function(){setCurrentUser(user);//console.log(currentUser)\nreturn function(){};},[user]);//check user for facility or get list of facility  \nuseEffect(function(){//setFacility(user.activeClient.FacilityId)//\nif(!user.stacker){/*    console.log(currentUser)\n      setValue(\"facility\", user.currentEmployee.facilityDetail._id,  {\n          shouldValidate: true,\n          shouldDirty: true\n      })  */}});var onSubmit=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(data,e){var document,newProductEntryModule;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();setMessage(\"\");setError(false);setSuccess(false);document={};// data.createdby=user._id\n//  console.log(data);\nif(user.currentEmployee){document.facility=user.currentEmployee.facilityDetail._id;document.facilityname=user.currentEmployee.facilityDetail.facilityName;// or from facility dropdown\n}document.documentdetail=data;document.documentType=\"Diagnostic Result\";document.documentname=\"\".concat(order.serviceInfo.name,\" Result\");// document.documentClassId=state.DocumentClassModule.selectedDocumentClass._id\ndocument.location=state.employeeLocation.locationName+\" \"+state.employeeLocation.locationType;document.locationId=state.employeeLocation.locationId;document.client=order.orderInfo.orderObj.clientId;document.createdBy=user._id;document.createdByname=user.firstname+\" \"+user.lastname;document.status=reportStatus;document.billId=order._id;// document.formType=choosenForm\n//  console.log(document)\n//  console.log(order)\nif(!(document.location===undefined||!document.createdByname||!document.facilityname)){_context2.next=19;break;}toast({message:' Documentation data missing, requires location and facility details',type:'is-danger',dismissible:true,pauseOnHover:true});return _context2.abrupt(\"return\");case 19:if(bill_report_status===\"Pending\"){document.labFormType=state.labFormType;ClientServ.create(document).then(function(res){e.target.reset();setSuccess(true);toast({message:'Lab Result created succesfully',type:'is-success',dismissible:true,pauseOnHover:true});setSuccess(false);}).catch(function(err){toast({message:'Error creating Lab Result '+err,type:'is-danger',dismissible:true,pauseOnHover:true});});}if(bill_report_status===\"Draft\"){ClientServ.patch(order.resultDetail._id,document).then(function(res){e.target.reset();setSuccess(true);toast({message:'Lab Result updated succesfully',type:'is-success',dismissible:true,pauseOnHover:true});setSuccess(false);}).catch(function(err){toast({message:'Error updating Lab Result '+err,type:'is-danger',dismissible:true,pauseOnHover:true});});}newProductEntryModule={selectedFinance:order,show:'show'// report_status:order.report_status\n};_context2.next=24;return setState(function(prevstate){return _objectSpread(_objectSpread({},prevstate),{},{financeModule:newProductEntryModule});});case 24:case\"end\":return _context2.stop();}}},_callee2);}));return function onSubmit(_x2,_x3){return _ref4.apply(this,arguments);};}();var handleChangePart=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(e){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:console.log(e.target.value);_context3.next=3;return setReportStatus(e.target.value);case 3:case\"end\":return _context3.stop();}}},_callee3);}));return function handleChangePart(_x4){return _ref5.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit(onSubmit),children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small\",children:\"HEAMATOLOGY\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"columns mt-3 is-flex-wrap-wrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"HB\"}),/*#__PURE__*/_jsx(\"p\",{className:\"control is-expanded\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"hb\",className:\"input is-small\",type:\"text\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"PCV\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"pcv\",className:\"input is-small\",type:\"text\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"WBC\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"wbc\",className:\"input is-small\",type:\"text\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"ESR\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"esr\",className:\"input is-small\",type:\"text\"})})]})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"columns mt-3 is-flex-wrap-wrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"Platelets\"}),/*#__PURE__*/_jsx(\"p\",{className:\"control is-expanded\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"platelets\",className:\"input is-small\",type:\"text\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"Rectics\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"rectics\",className:\"input is-small\",type:\"text\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"RBC\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"rbc\",className:\"input is-small\",type:\"text\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"MCV\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"mcv\",className:\"input is-small\",type:\"text\"})})]})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"columns mt-3 is-flex-wrap-wrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"MCHC\"}),/*#__PURE__*/_jsx(\"p\",{className:\"control is-expanded\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"mchc\",className:\"input is-small\",type:\"text\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"MCH\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"mch\",className:\"input is-small\",type:\"text\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"Neutrophils\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"neutrophils\",className:\"input is-small\",type:\"text\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"Lymphocytes\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"lymphocytes\",className:\"input is-small\",type:\"text\"})})]})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"columns mt-3 is-flex-wrap-wrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"Monocytes\"}),/*#__PURE__*/_jsx(\"p\",{className:\"control is-expanded\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"monocytes\",className:\"input is-small\",type:\"text\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"Eosinophils\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"eosinophils\",className:\"input is-small\",type:\"text\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"Basophils\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"basophils\",className:\"input is-small\",type:\"text\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"Pro-Myelocyte\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"proMyelocyte\",className:\"input is-small\",type:\"text\"})})]})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"columns mt-3 is-flex-wrap-wrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"Meta-Myelocyte\"}),/*#__PURE__*/_jsx(\"p\",{className:\"control is-expanded\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"metaMyelocyte\",className:\"input is-small\",type:\"text\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"Nucleated RBC\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"nucleatedRbc\",className:\"input is-small\",type:\"text\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"Genotype\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"genotype\",className:\"input is-small\",type:\"text\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"Blood Group\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"bldGroup\",className:\"input is-small\",type:\"text\"})})]})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"field is-horizontal\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsx(\"div\",{className:\"control has-icons-left has-icons-right\",children:/*#__PURE__*/_jsx(\"textarea\",{className:\"textarea is-small\",ref:register(),name:\"Recommendation\",type:\"text\",placeholder:\"Recommendation\"})})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\" is-small\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"status\",value:\"Draft\",checked:reportStatus===\"Draft\"||reportStatus===\"Pending\",onChange:function onChange(e){handleChangePart(e);},disabled:bill_report_status===\"Final\"}),/*#__PURE__*/_jsx(\"span\",{children:\" Draft\"})]}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{className:\" is-small\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"status\",value:\"Final\",checked:reportStatus===\"Final\",onChange:function onChange(e){return handleChangePart(e);},disabled:bill_report_status===\"Final\"}),/*#__PURE__*/_jsx(\"span\",{children:\" Final \"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"field  is-grouped mt-2\",children:/*#__PURE__*/_jsx(\"p\",{className:\"control\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"button is-success is-small\",disabled:bill_report_status===\"Final\",children:bill_report_status===\"Pending\"?\"Save\":\"Update\"})})})]})});}export function Serology(){var _useForm3=useForm(),register=_useForm3.register,handleSubmit=_useForm3.handleSubmit,setValue=_useForm3.setValue;//, watch, errors, reset \nvar _useState21=useState(false),_useState22=_slicedToArray(_useState21,2),error=_useState22[0],setError=_useState22[1];var _useState23=useState(false),_useState24=_slicedToArray(_useState23,2),success=_useState24[0],setSuccess=_useState24[1];var _useState25=useState(\"\"),_useState26=_slicedToArray(_useState25,2),message=_useState26[0],setMessage=_useState26[1];// eslint-disable-next-line\nvar _useState27=useState(),_useState28=_slicedToArray(_useState27,2),facility=_useState28[0],setFacility=_useState28[1];var dClientServ=client.service('clinicaldocument');//const history = useHistory()\nvar _useContext4=useContext(UserContext),user=_useContext4.user;//,setUser\n// eslint-disable-next-line\nvar _useState29=useState(),_useState30=_slicedToArray(_useState29,2),currentUser=_useState30[0],setCurrentUser=_useState30[1];var _useContext5=useContext(ObjectContext),state=_useContext5.state,setState=_useContext5.setState;var _useState31=useState(\"Draft\"),_useState32=_slicedToArray(_useState31,2),docStatus=_useState32[0],setDocStatus=_useState32[1];var _useState33=useState(\"Draft\"),_useState34=_slicedToArray(_useState33,2),reportStatus=_useState34[0],setReportStatus=_useState34[1];var ClientServ=client.service('labresults');var order=state.financeModule.selectedFinance;var bill_report_status=state.financeModule.report_status;var draftDoc=state.DocumentClassModule.selectedDocumentClass.document;useEffect(function(){var _order$resultDetail3;if(!((_order$resultDetail3=order.resultDetail)===null||_order$resultDetail3===void 0?void 0:_order$resultDetail3.documentdetail)){setValue(\"Finding\",\"\",{shouldValidate:true,shouldDirty:true});setValue(\"Recommendation\",\"\",{shouldValidate:true,shouldDirty:true});// setReportStatus(order.report_status)\nreturn;}if(order.report_status!==\"Pending\"){console.log(order.resultDetail.documentdetail);Object.entries(order.resultDetail.documentdetail).map(function(_ref6,i){var _ref7=_slicedToArray(_ref6,2),keys=_ref7[0],value=_ref7[1];return setValue(keys,value,{shouldValidate:true,shouldDirty:true});});}return function(){};},[order]);var getSearchfacility=function getSearchfacility(obj){setValue(\"facility\",obj._id,{shouldValidate:true,shouldDirty:true});};useEffect(function(){setCurrentUser(user);//console.log(currentUser)\nreturn function(){};},[user]);//check user for facility or get list of facility  \nuseEffect(function(){//setFacility(user.activeClient.FacilityId)//\nif(!user.stacker){/*    console.log(currentUser)\n      setValue(\"facility\", user.currentEmployee.facilityDetail._id,  {\n          shouldValidate: true,\n          shouldDirty: true\n      })  */}});var onSubmit=/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(data,e){var document,newProductEntryModule;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:e.preventDefault();setMessage(\"\");setError(false);setSuccess(false);document={};// data.createdby=user._id\n//  console.log(data);\nif(user.currentEmployee){document.facility=user.currentEmployee.facilityDetail._id;document.facilityname=user.currentEmployee.facilityDetail.facilityName;// or from facility dropdown\n}document.documentdetail=data;document.documentType=\"Diagnostic Result\";document.documentname=\"\".concat(order.serviceInfo.name,\" Result\");// document.documentClassId=state.DocumentClassModule.selectedDocumentClass._id\ndocument.location=state.employeeLocation.locationName+\" \"+state.employeeLocation.locationType;document.locationId=state.employeeLocation.locationId;document.client=order.orderInfo.orderObj.clientId;document.createdBy=user._id;document.createdByname=user.firstname+\" \"+user.lastname;document.status=reportStatus;document.billId=order._id;// document.formType=choosenForm\n//  console.log(document)\n//  console.log(order)\nif(!(document.location===undefined||!document.createdByname||!document.facilityname)){_context4.next=19;break;}toast({message:' Documentation data missing, requires location and facility details',type:'is-danger',dismissible:true,pauseOnHover:true});return _context4.abrupt(\"return\");case 19:if(bill_report_status===\"Pending\"){document.labFormType=state.labFormType;ClientServ.create(document).then(function(res){e.target.reset();setSuccess(true);toast({message:'Lab Result created succesfully',type:'is-success',dismissible:true,pauseOnHover:true});setSuccess(false);}).catch(function(err){toast({message:'Error creating Lab Result '+err,type:'is-danger',dismissible:true,pauseOnHover:true});});}if(bill_report_status===\"Draft\"){ClientServ.patch(order.resultDetail._id,document).then(function(res){e.target.reset();setSuccess(true);toast({message:'Lab Result updated succesfully',type:'is-success',dismissible:true,pauseOnHover:true});setSuccess(false);}).catch(function(err){toast({message:'Error updating Lab Result '+err,type:'is-danger',dismissible:true,pauseOnHover:true});});}newProductEntryModule={selectedFinance:order,show:'show'// report_status:order.report_status\n};_context4.next=24;return setState(function(prevstate){return _objectSpread(_objectSpread({},prevstate),{},{financeModule:newProductEntryModule});});case 24:case\"end\":return _context4.stop();}}},_callee4);}));return function onSubmit(_x5,_x6){return _ref8.apply(this,arguments);};}();var handleChangeStatus=/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(e){return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:// await setAppointment_type(e.target.value)\nsetDocStatus(e.target.value);//console.log(e.target.value)\ncase 1:case\"end\":return _context5.stop();}}},_callee5);}));return function handleChangeStatus(_x7){return _ref9.apply(this,arguments);};}();var handleChangePart=/*#__PURE__*/function(){var _ref10=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(e){return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:console.log(e.target.value);_context6.next=3;return setReportStatus(e.target.value);case 3:case\"end\":return _context6.stop();}}},_callee6);}));return function handleChangePart(_x8){return _ref10.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small\",children:\"SEROLOGY\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"columns mt-3 is-flex-wrap-wrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"HBsAG\"}),/*#__PURE__*/_jsx(\"p\",{className:\"control is-expanded\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"hbsag\",className:\"input is-small\",type:\"text\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"HCV\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"hcv\",className:\"input is-small\",type:\"text\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"VDRL\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"vdrl\",className:\"input is-small\",type:\"text\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"RPHA\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"rpha\",className:\"input is-small\",type:\"text\"})})]})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"columns mt-3 is-flex-wrap-wrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"COOMBS\"}),/*#__PURE__*/_jsx(\"p\",{className:\"control is-expanded\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"coombs\",className:\"input is-small\",type:\"text\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"A.S.O Titre\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"asoTitre\",className:\"input is-small\",type:\"text\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"SLE\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"sle\",className:\"input is-small\",type:\"text\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"R.A Factor\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"raFactor\",className:\"input is-small\",type:\"text\"})})]})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"columns mt-3 is-flex-wrap-wrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"B-HCG\"}),/*#__PURE__*/_jsx(\"p\",{className:\"control is-expanded\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"bHcg\",className:\"input is-small\",type:\"text\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"MANTOUX\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"mantoux\",className:\"input is-small\",type:\"text\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"Blood Preg. Test\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"bldPregTest\",className:\"input is-small\",type:\"text\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"XYZ\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"xyz\",className:\"input is-small\",type:\"text\"})})]})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"field is-horizontal\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsx(\"div\",{className:\"control has-icons-left has-icons-right\",children:/*#__PURE__*/_jsx(\"textarea\",{className:\"textarea is-small\",ref:register(),name:\"Recommendation\",type:\"text\",placeholder:\"Recommendation\"})})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\" is-small\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"status\",value:\"Draft\",checked:reportStatus===\"Draft\"||reportStatus===\"Pending\",onChange:function onChange(e){handleChangePart(e);},disabled:bill_report_status===\"Final\"}),/*#__PURE__*/_jsx(\"span\",{children:\" Draft\"})]}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{className:\" is-small\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"status\",value:\"Final\",checked:reportStatus===\"Final\",onChange:function onChange(e){return handleChangePart(e);},disabled:bill_report_status===\"Final\"}),/*#__PURE__*/_jsx(\"span\",{children:\" Final \"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"field  is-grouped mt-2\",children:/*#__PURE__*/_jsx(\"p\",{className:\"control\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"button is-success is-small\",disabled:bill_report_status===\"Final\",children:bill_report_status===\"Pending\"?\"Save\":\"Update\"})})})]})});}export function Biochemistry(){var _useForm4=useForm(),register=_useForm4.register,handleSubmit=_useForm4.handleSubmit,setValue=_useForm4.setValue;//, watch, errors, reset \nvar _useState35=useState(false),_useState36=_slicedToArray(_useState35,2),error=_useState36[0],setError=_useState36[1];var _useState37=useState(false),_useState38=_slicedToArray(_useState37,2),success=_useState38[0],setSuccess=_useState38[1];var _useState39=useState(\"\"),_useState40=_slicedToArray(_useState39,2),message=_useState40[0],setMessage=_useState40[1];// eslint-disable-next-line\nvar _useState41=useState(),_useState42=_slicedToArray(_useState41,2),facility=_useState42[0],setFacility=_useState42[1];var dClientServ=client.service('clinicaldocument');//const history = useHistory()\nvar _useContext6=useContext(UserContext),user=_useContext6.user;//,setUser\n// eslint-disable-next-line\nvar _useState43=useState(),_useState44=_slicedToArray(_useState43,2),currentUser=_useState44[0],setCurrentUser=_useState44[1];var _useContext7=useContext(ObjectContext),state=_useContext7.state,setState=_useContext7.setState;var _useState45=useState(\"Draft\"),_useState46=_slicedToArray(_useState45,2),docStatus=_useState46[0],setDocStatus=_useState46[1];var _useState47=useState(\"Draft\"),_useState48=_slicedToArray(_useState47,2),reportStatus=_useState48[0],setReportStatus=_useState48[1];var ClientServ=client.service('labresults');var order=state.financeModule.selectedFinance;var bill_report_status=state.financeModule.report_status;var draftDoc=state.DocumentClassModule.selectedDocumentClass.document;useEffect(function(){var _order$resultDetail4;if(!((_order$resultDetail4=order.resultDetail)===null||_order$resultDetail4===void 0?void 0:_order$resultDetail4.documentdetail)){setValue(\"Finding\",\"\",{shouldValidate:true,shouldDirty:true});setValue(\"Recommendation\",\"\",{shouldValidate:true,shouldDirty:true});// setReportStatus(order.report_status)\nreturn;}if(order.report_status!==\"Pending\"){console.log(order.resultDetail.documentdetail);Object.entries(order.resultDetail.documentdetail).map(function(_ref11,i){var _ref12=_slicedToArray(_ref11,2),keys=_ref12[0],value=_ref12[1];return setValue(keys,value,{shouldValidate:true,shouldDirty:true});});}return function(){};},[order]);var getSearchfacility=function getSearchfacility(obj){setValue(\"facility\",obj._id,{shouldValidate:true,shouldDirty:true});};useEffect(function(){setCurrentUser(user);//console.log(currentUser)\nreturn function(){};},[user]);//check user for facility or get list of facility  \nuseEffect(function(){//setFacility(user.activeClient.FacilityId)//\nif(!user.stacker){/*    console.log(currentUser)\n      setValue(\"facility\", user.currentEmployee.facilityDetail._id,  {\n          shouldValidate: true,\n          shouldDirty: true\n      })  */}});var onSubmit=/*#__PURE__*/function(){var _ref13=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(data,e){var document,newProductEntryModule;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:e.preventDefault();setMessage(\"\");setError(false);setSuccess(false);document={};// data.createdby=user._id\n//  console.log(data);\nif(user.currentEmployee){document.facility=user.currentEmployee.facilityDetail._id;document.facilityname=user.currentEmployee.facilityDetail.facilityName;// or from facility dropdown\n}document.documentdetail=data;document.documentType=\"Diagnostic Result\";document.documentname=\"\".concat(order.serviceInfo.name,\" Result\");// document.documentClassId=state.DocumentClassModule.selectedDocumentClass._id\ndocument.location=state.employeeLocation.locationName+\" \"+state.employeeLocation.locationType;document.locationId=state.employeeLocation.locationId;document.client=order.orderInfo.orderObj.clientId;document.createdBy=user._id;document.createdByname=user.firstname+\" \"+user.lastname;document.status=reportStatus;document.billId=order._id;// document.formType=choosenForm\n//  console.log(document)\n//  console.log(order)\nif(!(document.location===undefined||!document.createdByname||!document.facilityname)){_context7.next=19;break;}toast({message:' Documentation data missing, requires location and facility details',type:'is-danger',dismissible:true,pauseOnHover:true});return _context7.abrupt(\"return\");case 19:if(bill_report_status===\"Pending\"){document.labFormType=state.labFormType;ClientServ.create(document).then(function(res){e.target.reset();setSuccess(true);toast({message:'Lab Result created succesfully',type:'is-success',dismissible:true,pauseOnHover:true});setSuccess(false);}).catch(function(err){toast({message:'Error creating Lab Result '+err,type:'is-danger',dismissible:true,pauseOnHover:true});});}if(bill_report_status===\"Draft\"){ClientServ.patch(order.resultDetail._id,document).then(function(res){e.target.reset();setSuccess(true);toast({message:'Lab Result updated succesfully',type:'is-success',dismissible:true,pauseOnHover:true});setSuccess(false);}).catch(function(err){toast({message:'Error updating Lab Result '+err,type:'is-danger',dismissible:true,pauseOnHover:true});});}newProductEntryModule={selectedFinance:order,show:'show'// report_status:order.report_status\n};_context7.next=24;return setState(function(prevstate){return _objectSpread(_objectSpread({},prevstate),{},{financeModule:newProductEntryModule});});case 24:case\"end\":return _context7.stop();}}},_callee7);}));return function onSubmit(_x9,_x10){return _ref13.apply(this,arguments);};}();var handleChangeStatus=/*#__PURE__*/function(){var _ref14=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(e){return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:// await setAppointment_type(e.target.value)\nsetDocStatus(e.target.value);//console.log(e.target.value)\ncase 1:case\"end\":return _context8.stop();}}},_callee8);}));return function handleChangeStatus(_x11){return _ref14.apply(this,arguments);};}();var handleChangePart=/*#__PURE__*/function(){var _ref15=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(e){return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:console.log(e.target.value);_context9.next=3;return setReportStatus(e.target.value);case 3:case\"end\":return _context9.stop();}}},_callee9);}));return function handleChangePart(_x12){return _ref15.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small\",children:\"BIOCHEMISTRY\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"columns mt-3 is-flex-wrap-wrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"Glucose (Fasting)\"}),/*#__PURE__*/_jsx(\"p\",{className:\"control is-expanded\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"glucoseFasting\",className:\"input is-small\",type:\"text\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"Glucose (Random)\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"glucoseRandom\",className:\"input is-small\",type:\"text\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"Urea\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"urea\",className:\"input is-small\",type:\"text\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"Creatinine\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"creatinine\",className:\"input is-small\",type:\"text\"})})]})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"columns mt-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"Uric Acid\"}),/*#__PURE__*/_jsx(\"p\",{className:\"control is-expanded\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"uricAcid\",className:\"input is-small\",type:\"text\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"Sodium\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"sodium\",className:\"input is-small\",type:\"text\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"Potassium\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"potassium\",className:\"input is-small\",type:\"text\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"Bicarbonate\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"bicarbonate\",className:\"input is-small\",type:\"text\"})})]})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"columns mt-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"Chloride\"}),/*#__PURE__*/_jsx(\"p\",{className:\"control is-expanded\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"chloride\",className:\"input is-small\",type:\"text\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"Total Protein\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"totalProtein\",className:\"input is-small\",type:\"text\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"Albumin\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"albumin\",className:\"input is-small\",type:\"text\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"T. Bilirubin\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"tBilirubin\",className:\"input is-small\",type:\"text\"})})]})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"columns mt-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"D.Bilirubin\"}),/*#__PURE__*/_jsx(\"p\",{className:\"control is-expanded\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"dBilirubin\",className:\"input is-small\",type:\"text\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"Cholesterol\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"cholesterol\",className:\"input is-small\",type:\"text\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"Triglyceride\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"triglyceride\",className:\"input is-small\",type:\"text\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"Phos\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"phos\",className:\"input is-small\",type:\"text\"})})]})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"columns mt-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"Calcium\"}),/*#__PURE__*/_jsx(\"p\",{className:\"control is-expanded\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"calcium\",className:\"input is-small\",type:\"text\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"SGOT\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"sgot\",className:\"input is-small\",type:\"text\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"SGPT\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"sgpt\",className:\"input is-small\",type:\"text\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"OGTT\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"ogtt\",className:\"input is-small\",type:\"text\"})})]})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"columns mt-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"Alk Phos\"}),/*#__PURE__*/_jsx(\"p\",{className:\"control is-expanded\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"alkPhos\",className:\"input is-small\",type:\"text\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"Acid Phos\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"acidPhos\",className:\"input is-small\",type:\"text\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"ADH\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"adh\",className:\"input is-small\",type:\"text\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"APK\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"apk\",className:\"input is-small\",type:\"text\"})})]})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"columns mt-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"column\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small\",children:\"Amylase\"}),/*#__PURE__*/_jsx(\"p\",{className:\"control is-expanded\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"amylase\",className:\"input is-small\",type:\"text\"})})]})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"field is-horizontal\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsx(\"div\",{className:\"control has-icons-left has-icons-right\",children:/*#__PURE__*/_jsx(\"textarea\",{className:\"textarea is-small\",ref:register(),name:\"Recommendation\",type:\"text\",placeholder:\"Recommendation\"})})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\" is-small\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"status\",value:\"Draft\",checked:reportStatus===\"Draft\"||reportStatus===\"Pending\",onChange:function onChange(e){handleChangePart(e);},disabled:bill_report_status===\"Final\"}),/*#__PURE__*/_jsx(\"span\",{children:\" Draft\"})]}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{className:\" is-small\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"status\",value:\"Final\",checked:reportStatus===\"Final\",onChange:function onChange(e){return handleChangePart(e);},disabled:bill_report_status===\"Final\"}),/*#__PURE__*/_jsx(\"span\",{children:\" Final \"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"field  is-grouped mt-2\",children:/*#__PURE__*/_jsx(\"p\",{className:\"control\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"button is-success is-small\",disabled:bill_report_status===\"Final\",children:bill_report_status===\"Pending\"?\"Save\":\"Update\"})})})]})});}export function Microbiology(){var _useForm5=useForm(),register=_useForm5.register,handleSubmit=_useForm5.handleSubmit,setValue=_useForm5.setValue;//, watch, errors, reset \nvar _useState49=useState(false),_useState50=_slicedToArray(_useState49,2),error=_useState50[0],setError=_useState50[1];var _useState51=useState(false),_useState52=_slicedToArray(_useState51,2),success=_useState52[0],setSuccess=_useState52[1];var _useState53=useState(\"\"),_useState54=_slicedToArray(_useState53,2),message=_useState54[0],setMessage=_useState54[1];// eslint-disable-next-line\nvar _useState55=useState(),_useState56=_slicedToArray(_useState55,2),facility=_useState56[0],setFacility=_useState56[1];var dClientServ=client.service('clinicaldocument');//const history = useHistory()\nvar _useContext8=useContext(UserContext),user=_useContext8.user;//,setUser\n// eslint-disable-next-line\nvar _useState57=useState(),_useState58=_slicedToArray(_useState57,2),currentUser=_useState58[0],setCurrentUser=_useState58[1];var _useContext9=useContext(ObjectContext),state=_useContext9.state,setState=_useContext9.setState;var _useState59=useState(\"Draft\"),_useState60=_slicedToArray(_useState59,2),docStatus=_useState60[0],setDocStatus=_useState60[1];var _useState61=useState(\"Draft\"),_useState62=_slicedToArray(_useState61,2),reportStatus=_useState62[0],setReportStatus=_useState62[1];var ClientServ=client.service('labresults');var order=state.financeModule.selectedFinance;var bill_report_status=state.financeModule.report_status;var draftDoc=state.DocumentClassModule.selectedDocumentClass.document;useEffect(function(){var _order$resultDetail5;if(!((_order$resultDetail5=order.resultDetail)===null||_order$resultDetail5===void 0?void 0:_order$resultDetail5.documentdetail)){setValue(\"Finding\",\"\",{shouldValidate:true,shouldDirty:true});setValue(\"Recommendation\",\"\",{shouldValidate:true,shouldDirty:true});// setReportStatus(order.report_status)\nreturn;}if(order.report_status!==\"Pending\"){console.log(order.resultDetail.documentdetail);Object.entries(order.resultDetail.documentdetail).map(function(_ref16,i){var _ref17=_slicedToArray(_ref16,2),keys=_ref17[0],value=_ref17[1];return setValue(keys,value,{shouldValidate:true,shouldDirty:true});});}return function(){};},[order]);var getSearchfacility=function getSearchfacility(obj){setValue(\"facility\",obj._id,{shouldValidate:true,shouldDirty:true});};useEffect(function(){setCurrentUser(user);//console.log(currentUser)\nreturn function(){};},[user]);//check user for facility or get list of facility  \nuseEffect(function(){//setFacility(user.activeClient.FacilityId)//\nif(!user.stacker){/*    console.log(currentUser)\n      setValue(\"facility\", user.currentEmployee.facilityDetail._id,  {\n          shouldValidate: true,\n          shouldDirty: true\n      })  */}});var onSubmit=/*#__PURE__*/function(){var _ref18=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee10(data,e){var document,newProductEntryModule;return _regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:e.preventDefault();setMessage(\"\");setError(false);setSuccess(false);document={};// data.createdby=user._id\n//  console.log(data);\nif(user.currentEmployee){document.facility=user.currentEmployee.facilityDetail._id;document.facilityname=user.currentEmployee.facilityDetail.facilityName;// or from facility dropdown\n}document.documentdetail=data;document.documentType=\"Diagnostic Result\";document.documentname=\"\".concat(order.serviceInfo.name,\" Result\");// document.documentClassId=state.DocumentClassModule.selectedDocumentClass._id\ndocument.location=state.employeeLocation.locationName+\" \"+state.employeeLocation.locationType;document.locationId=state.employeeLocation.locationId;document.client=order.orderInfo.orderObj.clientId;document.createdBy=user._id;document.createdByname=user.firstname+\" \"+user.lastname;document.status=reportStatus;document.billId=order._id;// document.formType=choosenForm\n//  console.log(document)\n//  console.log(order)\nif(!(document.location===undefined||!document.createdByname||!document.facilityname)){_context10.next=19;break;}toast({message:' Documentation data missing, requires location and facility details',type:'is-danger',dismissible:true,pauseOnHover:true});return _context10.abrupt(\"return\");case 19:if(bill_report_status===\"Pending\"){document.labFormType=state.labFormType;ClientServ.create(document).then(function(res){e.target.reset();setSuccess(true);toast({message:'Lab Result created succesfully',type:'is-success',dismissible:true,pauseOnHover:true});setSuccess(false);}).catch(function(err){toast({message:'Error creating Lab Result '+err,type:'is-danger',dismissible:true,pauseOnHover:true});});}if(bill_report_status===\"Draft\"){ClientServ.patch(order.resultDetail._id,document).then(function(res){e.target.reset();setSuccess(true);toast({message:'Lab Result updated succesfully',type:'is-success',dismissible:true,pauseOnHover:true});setSuccess(false);}).catch(function(err){toast({message:'Error updating Lab Result '+err,type:'is-danger',dismissible:true,pauseOnHover:true});});}newProductEntryModule={selectedFinance:order,show:'show'// report_status:order.report_status\n};_context10.next=24;return setState(function(prevstate){return _objectSpread(_objectSpread({},prevstate),{},{financeModule:newProductEntryModule});});case 24:case\"end\":return _context10.stop();}}},_callee10);}));return function onSubmit(_x13,_x14){return _ref18.apply(this,arguments);};}();var handleChangeStatus=/*#__PURE__*/function(){var _ref19=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee11(e){return _regeneratorRuntime.wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:// await setAppointment_type(e.target.value)\nsetDocStatus(e.target.value);//console.log(e.target.value)\ncase 1:case\"end\":return _context11.stop();}}},_callee11);}));return function handleChangeStatus(_x15){return _ref19.apply(this,arguments);};}();var handleChangePart=/*#__PURE__*/function(){var _ref20=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee12(e){return _regeneratorRuntime.wrap(function _callee12$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:console.log(e.target.value);_context12.next=3;return setReportStatus(e.target.value);case 3:case\"end\":return _context12.stop();}}},_callee12);}));return function handleChangePart(_x16){return _ref20.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small\",children:\"MICROBIOLOGY\"}),/*#__PURE__*/_jsxs(\"label\",{class:\"checkbox me-3\",children:[/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"urinalysisOrMicro\",type:\"checkbox\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ms-2 is-small\",children:\"Urinanalysis/Microscope\"})]}),/*#__PURE__*/_jsxs(\"label\",{class:\"checkbox me-3\",children:[/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"stoolAnalysis\",type:\"checkbox\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ms-2 is-small\",children:\"Stool Analysis\"})]}),/*#__PURE__*/_jsxs(\"label\",{class:\"checkbox me-3\",children:[/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"stoolOccult\",type:\"checkbox\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ms-2 is-small\",children:\"Stool Occult\"})]}),/*#__PURE__*/_jsxs(\"label\",{class:\"checkbox me-3\",children:[/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"semenAnalysis\",type:\"checkbox\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ms-2 is-small\",children:\"Semen Analysis\"})]}),/*#__PURE__*/_jsxs(\"label\",{class:\"checkbox me-3\",children:[/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"gramStain\",type:\"checkbox\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ms-2 is-small\",children:\"Gram Stain\"})]}),/*#__PURE__*/_jsxs(\"label\",{class:\"checkbox me-3\",children:[/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"znStain\",type:\"checkbox\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ms-2 is-small\",children:\"ZN Stain\"})]}),/*#__PURE__*/_jsxs(\"label\",{class:\"checkbox me-3\",children:[/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"mantouxTest\",type:\"checkbox\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ms-2 is-small\",children:\"Mantoux Test\"})]}),/*#__PURE__*/_jsxs(\"label\",{class:\"checkbox me-3\",children:[/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"fungalStudies\",type:\"checkbox\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ms-2 is-small\",children:\"Fungal Studies\"})]}),/*#__PURE__*/_jsxs(\"label\",{class:\"checkbox me-3\",children:[/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"urine\",type:\"checkbox\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ms-2 is-small\",children:\"M/C/S Urine\"})]}),/*#__PURE__*/_jsxs(\"label\",{class:\"checkbox me-3\",children:[/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"throatSwab\",type:\"checkbox\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ms-2 is-small\",children:\"M/C/S Throat Swab\"})]}),/*#__PURE__*/_jsxs(\"label\",{class:\"checkbox me-3\",children:[/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"aspirateAndDischarge\",type:\"checkbox\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ms-2 is-small\",children:\"C/S/PUS/Aspirate/Discharge\"})]}),/*#__PURE__*/_jsxs(\"label\",{class:\"checkbox me-3\",children:[/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"woundSwab\",type:\"checkbox\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ms-2 is-small\",children:\"C/S Wound Swab\"})]}),/*#__PURE__*/_jsxs(\"label\",{class:\"checkbox me-3\",children:[/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"semen\",type:\"checkbox\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ms-2 is-small\",children:\"M/C/S Semen\"})]}),/*#__PURE__*/_jsxs(\"label\",{class:\"checkbox me-3\",children:[/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"fluid\",type:\"checkbox\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ms-2 is-small\",children:\"M/C/S Fluid\"})]}),/*#__PURE__*/_jsxs(\"label\",{class:\"checkbox me-3\",children:[/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"stool2\",type:\"checkbox\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ms-2 is-small\",children:\"M/C/S Stool\"})]}),/*#__PURE__*/_jsxs(\"label\",{class:\"checkbox me-3\",children:[/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"endocerviclSwab\",type:\"checkbox\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ms-2 is-small\",children:\"C/S Endocervical Swab\"})]}),/*#__PURE__*/_jsxs(\"label\",{class:\"checkbox me-3\",children:[/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"hvs\",type:\"checkbox\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ms-2 is-small\",children:\"M/C/S HVS\"})]}),/*#__PURE__*/_jsxs(\"label\",{class:\"checkbox me-3\",children:[/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"sputum\",type:\"checkbox\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ms-2 is-small\",children:\"M/C/S Sputum\"})]}),/*#__PURE__*/_jsxs(\"label\",{class:\"checkbox me-3\",children:[/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"csBld\",type:\"checkbox\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ms-2 is-small\",children:\"C/S Blood\"})]}),/*#__PURE__*/_jsxs(\"label\",{class:\"checkbox me-3\",children:[/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"microfilariaSkin\",type:\"checkbox\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ms-2 is-small\",children:\"Microfilaria-Skin Snip\"})]}),/*#__PURE__*/_jsxs(\"label\",{class:\"checkbox me-3\",children:[/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"otherSwab\",type:\"checkbox\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ms-2 is-small\",children:\"Other Swab (Specify)\"})]}),/*#__PURE__*/_jsxs(\"label\",{class:\"checkbox me-3\",children:[/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"faecalOccultBld\",type:\"checkbox\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ms-2 is-small\",children:\"Faecal Occult Blood\"})]}),/*#__PURE__*/_jsxs(\"label\",{class:\"checkbox me-3\",children:[/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"salmoOrshigella\",type:\"checkbox\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ms-2 is-small\",children:\"Salmonella/Shigella\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"field is-horizontal\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsx(\"div\",{className:\"control has-icons-left has-icons-right\",children:/*#__PURE__*/_jsx(\"textarea\",{className:\"textarea is-small\",ref:register(),name:\"Recommendation\",type:\"text\",placeholder:\"Recommendation\"})})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\" is-small\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"status\",value:\"Draft\",checked:reportStatus===\"Draft\"||reportStatus===\"Pending\",onChange:function onChange(e){handleChangePart(e);},disabled:bill_report_status===\"Final\"}),/*#__PURE__*/_jsx(\"span\",{children:\" Draft\"})]}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{className:\" is-small\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"status\",value:\"Final\",checked:reportStatus===\"Final\",onChange:function onChange(e){return handleChangePart(e);},disabled:bill_report_status===\"Final\"}),/*#__PURE__*/_jsx(\"span\",{children:\" Final \"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"field  is-grouped mt-2\",children:/*#__PURE__*/_jsx(\"p\",{className:\"control\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"button is-success is-small\",disabled:bill_report_status===\"Final\",children:bill_report_status===\"Pending\"?\"Save\":\"Update\"})})})]})});}export function Urine(){var _useForm6=useForm(),register=_useForm6.register,handleSubmit=_useForm6.handleSubmit,setValue=_useForm6.setValue;//, watch, errors, reset \nvar _useState63=useState(false),_useState64=_slicedToArray(_useState63,2),error=_useState64[0],setError=_useState64[1];var _useState65=useState(false),_useState66=_slicedToArray(_useState65,2),success=_useState66[0],setSuccess=_useState66[1];var _useState67=useState(\"\"),_useState68=_slicedToArray(_useState67,2),message=_useState68[0],setMessage=_useState68[1];// eslint-disable-next-line\nvar _useState69=useState(),_useState70=_slicedToArray(_useState69,2),facility=_useState70[0],setFacility=_useState70[1];var dClientServ=client.service('clinicaldocument');//const history = useHistory()\nvar _useContext10=useContext(UserContext),user=_useContext10.user;//,setUser\n// eslint-disable-next-line\nvar _useState71=useState(),_useState72=_slicedToArray(_useState71,2),currentUser=_useState72[0],setCurrentUser=_useState72[1];var _useContext11=useContext(ObjectContext),state=_useContext11.state,setState=_useContext11.setState;var _useState73=useState(\"Draft\"),_useState74=_slicedToArray(_useState73,2),reportStatus=_useState74[0],setReportStatus=_useState74[1];var ClientServ=client.service('labresults');var order=state.financeModule.selectedFinance;var bill_report_status=state.financeModule.report_status;var _useState75=useState(\"Draft\"),_useState76=_slicedToArray(_useState75,2),docStatus=_useState76[0],setDocStatus=_useState76[1];var draftDoc=state.DocumentClassModule.selectedDocumentClass.document;useEffect(function(){var _order$resultDetail6;if(!((_order$resultDetail6=order.resultDetail)===null||_order$resultDetail6===void 0?void 0:_order$resultDetail6.documentdetail)){setValue(\"Finding\",\"\",{shouldValidate:true,shouldDirty:true});setValue(\"Recommendation\",\"\",{shouldValidate:true,shouldDirty:true});// setReportStatus(order.report_status)\nreturn;}if(order.report_status!==\"Pending\"){console.log(order.resultDetail.documentdetail);Object.entries(order.resultDetail.documentdetail).map(function(_ref21,i){var _ref22=_slicedToArray(_ref21,2),keys=_ref22[0],value=_ref22[1];return setValue(keys,value,{shouldValidate:true,shouldDirty:true});});}return function(){};},[order]);var getSearchfacility=function getSearchfacility(obj){setValue(\"facility\",obj._id,{shouldValidate:true,shouldDirty:true});};useEffect(function(){setCurrentUser(user);//console.log(currentUser)\nreturn function(){};},[user]);//check user for facility or get list of facility  \nuseEffect(function(){//setFacility(user.activeClient.FacilityId)//\nif(!user.stacker){/*    console.log(currentUser)\n      setValue(\"facility\", user.currentEmployee.facilityDetail._id,  {\n          shouldValidate: true,\n          shouldDirty: true\n      })  */}});var onSubmit=/*#__PURE__*/function(){var _ref23=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee13(data,e){var document,newProductEntryModule;return _regeneratorRuntime.wrap(function _callee13$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:e.preventDefault();setMessage(\"\");setError(false);setSuccess(false);document={};// data.createdby=user._id\n//  console.log(data);\nif(user.currentEmployee){document.facility=user.currentEmployee.facilityDetail._id;document.facilityname=user.currentEmployee.facilityDetail.facilityName;// or from facility dropdown\n}document.documentdetail=data;document.documentType=\"Diagnostic Result\";document.documentname=\"\".concat(order.serviceInfo.name,\" Result\");// document.documentClassId=state.DocumentClassModule.selectedDocumentClass._id\ndocument.location=state.employeeLocation.locationName+\" \"+state.employeeLocation.locationType;document.locationId=state.employeeLocation.locationId;document.client=order.orderInfo.orderObj.clientId;document.createdBy=user._id;document.createdByname=user.firstname+\" \"+user.lastname;document.status=reportStatus;document.billId=order._id;// document.formType=choosenForm\n//  console.log(document)\n//  console.log(order)\nif(!(document.location===undefined||!document.createdByname||!document.facilityname)){_context13.next=19;break;}toast({message:' Documentation data missing, requires location and facility details',type:'is-danger',dismissible:true,pauseOnHover:true});return _context13.abrupt(\"return\");case 19:if(bill_report_status===\"Pending\"){document.labFormType=state.labFormType;ClientServ.create(document).then(function(res){e.target.reset();setSuccess(true);toast({message:'Lab Result created succesfully',type:'is-success',dismissible:true,pauseOnHover:true});setSuccess(false);}).catch(function(err){toast({message:'Error creating Lab Result '+err,type:'is-danger',dismissible:true,pauseOnHover:true});});}if(bill_report_status===\"Draft\"){ClientServ.patch(order.resultDetail._id,document).then(function(res){e.target.reset();setSuccess(true);toast({message:'Lab Result updated succesfully',type:'is-success',dismissible:true,pauseOnHover:true});setSuccess(false);}).catch(function(err){toast({message:'Error updating Lab Result '+err,type:'is-danger',dismissible:true,pauseOnHover:true});});}newProductEntryModule={selectedFinance:order,show:'show'// report_status:order.report_status\n};_context13.next=24;return setState(function(prevstate){return _objectSpread(_objectSpread({},prevstate),{},{financeModule:newProductEntryModule});});case 24:case\"end\":return _context13.stop();}}},_callee13);}));return function onSubmit(_x17,_x18){return _ref23.apply(this,arguments);};}();var handleChangeStatus=/*#__PURE__*/function(){var _ref24=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee14(e){return _regeneratorRuntime.wrap(function _callee14$(_context14){while(1){switch(_context14.prev=_context14.next){case 0:// await setAppointment_type(e.target.value)\nsetDocStatus(e.target.value);//console.log(e.target.value)\ncase 1:case\"end\":return _context14.stop();}}},_callee14);}));return function handleChangeStatus(_x19){return _ref24.apply(this,arguments);};}();var handleChangePart=/*#__PURE__*/function(){var _ref25=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee15(e){return _regeneratorRuntime.wrap(function _callee15$(_context15){while(1){switch(_context15.prev=_context15.next){case 0:console.log(e.target.value);_context15.next=3;return setReportStatus(e.target.value);case 3:case\"end\":return _context15.stop();}}},_callee15);}));return function handleChangePart(_x20){return _ref25.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small\",children:\"URINE\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"columns\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"Macroscopy\"}),/*#__PURE__*/_jsx(\"p\",{className:\"control is-expanded\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"macroscopy\",className:\"input is-small\",type:\"text\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"Microscopy\"}),/*#__PURE__*/_jsx(\"p\",{className:\"control is-expanded\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"microscopy\",className:\"input is-small\",type:\"text\"})})]})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"columns\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"Pus Cells/hof\"}),/*#__PURE__*/_jsx(\"p\",{className:\"control is-expanded\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"pusCellsOrhof\",className:\"input is-small\",type:\"text\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"Rbs/hpf\"}),/*#__PURE__*/_jsx(\"p\",{className:\"control is-expanded\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"rbsOrHpf\",className:\"input is-small\",type:\"text\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"Yeast Cells\"}),/*#__PURE__*/_jsx(\"p\",{className:\"control is-expanded\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"yeastCells\",className:\"input is-small\",type:\"text\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"Bacteria\"}),/*#__PURE__*/_jsx(\"p\",{className:\"control is-expanded\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"bacteria\",className:\"input is-small\",type:\"text\"})})]})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"columns\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"Casts\"}),/*#__PURE__*/_jsx(\"p\",{className:\"control is-expanded\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"casts\",className:\"input is-small\",type:\"text\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"Epith Cells\"}),/*#__PURE__*/_jsx(\"p\",{className:\"control is-expanded\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"epithCells\",className:\"input is-small\",type:\"text\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"Crystals\"}),/*#__PURE__*/_jsx(\"p\",{className:\"control is-expanded\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"crystals\",className:\"input is-small\",type:\"text\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"T.V\"}),/*#__PURE__*/_jsx(\"p\",{className:\"control is-expanded\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"tv\",className:\"input is-small\",type:\"text\"})})]})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small\",children:\"Culture Yielded\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"textarea\",{ref:register,name:\"cultureYielded\",className:\"textarea is-small\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small\",children:\"Malaria Parasite\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"textarea\",{ref:register,name:\"malariaParasite\",className:\"textarea is-small\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"field is-horizontal\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsx(\"div\",{className:\"control has-icons-left has-icons-right\",children:/*#__PURE__*/_jsx(\"textarea\",{className:\"textarea is-small\",ref:register(),name:\"Recommendation\",type:\"text\",placeholder:\"Recommendation\"})})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\" is-small\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"status\",value:\"Draft\",checked:reportStatus===\"Draft\"||reportStatus===\"Pending\",onChange:function onChange(e){handleChangePart(e);},disabled:bill_report_status===\"Final\"}),/*#__PURE__*/_jsx(\"span\",{children:\" Draft\"})]}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{className:\" is-small\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"status\",value:\"Final\",checked:reportStatus===\"Final\",onChange:function onChange(e){return handleChangePart(e);},disabled:bill_report_status===\"Final\"}),/*#__PURE__*/_jsx(\"span\",{children:\" Final \"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"field  is-grouped mt-2\",children:/*#__PURE__*/_jsx(\"p\",{className:\"control\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"button is-success is-small\",disabled:bill_report_status===\"Final\",children:bill_report_status===\"Pending\"?\"Save\":\"Update\"})})})]})});}export function Urinalysis(){var _useForm7=useForm(),register=_useForm7.register,handleSubmit=_useForm7.handleSubmit,setValue=_useForm7.setValue;//, watch, errors, reset \nvar _useState77=useState(false),_useState78=_slicedToArray(_useState77,2),error=_useState78[0],setError=_useState78[1];var _useState79=useState(false),_useState80=_slicedToArray(_useState79,2),success=_useState80[0],setSuccess=_useState80[1];var _useState81=useState(\"\"),_useState82=_slicedToArray(_useState81,2),message=_useState82[0],setMessage=_useState82[1];// eslint-disable-next-line\nvar _useState83=useState(),_useState84=_slicedToArray(_useState83,2),facility=_useState84[0],setFacility=_useState84[1];var dClientServ=client.service('clinicaldocument');//const history = useHistory()\nvar _useContext12=useContext(UserContext),user=_useContext12.user;//,setUser\n// eslint-disable-next-line\nvar _useState85=useState(),_useState86=_slicedToArray(_useState85,2),currentUser=_useState86[0],setCurrentUser=_useState86[1];var _useContext13=useContext(ObjectContext),state=_useContext13.state,setState=_useContext13.setState;var _useState87=useState(\"Draft\"),_useState88=_slicedToArray(_useState87,2),reportStatus=_useState88[0],setReportStatus=_useState88[1];var ClientServ=client.service('labresults');var order=state.financeModule.selectedFinance;var bill_report_status=state.financeModule.report_status;var _useState89=useState(\"Draft\"),_useState90=_slicedToArray(_useState89,2),docStatus=_useState90[0],setDocStatus=_useState90[1];var draftDoc=state.DocumentClassModule.selectedDocumentClass.document;useEffect(function(){var _order$resultDetail7;if(!((_order$resultDetail7=order.resultDetail)===null||_order$resultDetail7===void 0?void 0:_order$resultDetail7.documentdetail)){setValue(\"Finding\",\"\",{shouldValidate:true,shouldDirty:true});setValue(\"Recommendation\",\"\",{shouldValidate:true,shouldDirty:true});// setReportStatus(order.report_status)\nreturn;}if(order.report_status!==\"Pending\"){console.log(order.resultDetail.documentdetail);Object.entries(order.resultDetail.documentdetail).map(function(_ref26,i){var _ref27=_slicedToArray(_ref26,2),keys=_ref27[0],value=_ref27[1];return setValue(keys,value,{shouldValidate:true,shouldDirty:true});});}return function(){};},[order]);var getSearchfacility=function getSearchfacility(obj){setValue(\"facility\",obj._id,{shouldValidate:true,shouldDirty:true});};useEffect(function(){setCurrentUser(user);//console.log(currentUser)\nreturn function(){};},[user]);//check user for facility or get list of facility  \nuseEffect(function(){//setFacility(user.activeClient.FacilityId)//\nif(!user.stacker){/*    console.log(currentUser)\n      setValue(\"facility\", user.currentEmployee.facilityDetail._id,  {\n          shouldValidate: true,\n          shouldDirty: true\n      })  */}});var onSubmit=/*#__PURE__*/function(){var _ref28=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee16(data,e){var document,newProductEntryModule;return _regeneratorRuntime.wrap(function _callee16$(_context16){while(1){switch(_context16.prev=_context16.next){case 0:e.preventDefault();setMessage(\"\");setError(false);setSuccess(false);document={};// data.createdby=user._id\n//  console.log(data);\nif(user.currentEmployee){document.facility=user.currentEmployee.facilityDetail._id;document.facilityname=user.currentEmployee.facilityDetail.facilityName;// or from facility dropdown\n}document.documentdetail=data;document.documentType=\"Diagnostic Result\";document.documentname=\"\".concat(order.serviceInfo.name,\" Result\");// document.documentClassId=state.DocumentClassModule.selectedDocumentClass._id\ndocument.location=state.employeeLocation.locationName+\" \"+state.employeeLocation.locationType;document.locationId=state.employeeLocation.locationId;document.client=order.orderInfo.orderObj.clientId;document.createdBy=user._id;document.createdByname=user.firstname+\" \"+user.lastname;document.status=reportStatus;document.billId=order._id;// document.formType=choosenForm\n//  console.log(document)\n//  console.log(order)\nif(!(document.location===undefined||!document.createdByname||!document.facilityname)){_context16.next=19;break;}toast({message:' Documentation data missing, requires location and facility details',type:'is-danger',dismissible:true,pauseOnHover:true});return _context16.abrupt(\"return\");case 19:if(bill_report_status===\"Pending\"){document.labFormType=state.labFormType;ClientServ.create(document).then(function(res){e.target.reset();setSuccess(true);toast({message:'Lab Result created succesfully',type:'is-success',dismissible:true,pauseOnHover:true});setSuccess(false);}).catch(function(err){toast({message:'Error creating Lab Result '+err,type:'is-danger',dismissible:true,pauseOnHover:true});});}if(bill_report_status===\"Draft\"){ClientServ.patch(order.resultDetail._id,document).then(function(res){e.target.reset();setSuccess(true);toast({message:'Lab Result updated succesfully',type:'is-success',dismissible:true,pauseOnHover:true});setSuccess(false);}).catch(function(err){toast({message:'Error updating Lab Result '+err,type:'is-danger',dismissible:true,pauseOnHover:true});});}newProductEntryModule={selectedFinance:order,show:'show'// report_status:order.report_status\n};_context16.next=24;return setState(function(prevstate){return _objectSpread(_objectSpread({},prevstate),{},{financeModule:newProductEntryModule});});case 24:case\"end\":return _context16.stop();}}},_callee16);}));return function onSubmit(_x21,_x22){return _ref28.apply(this,arguments);};}();var handleChangeStatus=/*#__PURE__*/function(){var _ref29=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee17(e){return _regeneratorRuntime.wrap(function _callee17$(_context17){while(1){switch(_context17.prev=_context17.next){case 0:// await setAppointment_type(e.target.value)\nsetDocStatus(e.target.value);//console.log(e.target.value)\ncase 1:case\"end\":return _context17.stop();}}},_callee17);}));return function handleChangeStatus(_x23){return _ref29.apply(this,arguments);};}();var handleChangePart=/*#__PURE__*/function(){var _ref30=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee18(e){return _regeneratorRuntime.wrap(function _callee18$(_context18){while(1){switch(_context18.prev=_context18.next){case 0:console.log(e.target.value);_context18.next=3;return setReportStatus(e.target.value);case 3:case\"end\":return _context18.stop();}}},_callee18);}));return function handleChangePart(_x24){return _ref30.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small\",children:\"URINALYSIS\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"columns\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"Appearance\"}),/*#__PURE__*/_jsx(\"p\",{className:\"control is-expanded\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"appearance\",className:\"input is-small\",type:\"text\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"Color\"}),/*#__PURE__*/_jsx(\"p\",{className:\"control is-expanded\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"color\",className:\"input is-small\",type:\"text\"})})]})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"columns\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"PH\"}),/*#__PURE__*/_jsx(\"p\",{className:\"control is-expanded\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"ph\",className:\"input is-small\",type:\"text\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"Protein\"}),/*#__PURE__*/_jsx(\"p\",{className:\"control is-expanded\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"protein\",className:\"input is-small\",type:\"text\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"Sugar\"}),/*#__PURE__*/_jsx(\"p\",{className:\"control is-expanded\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"sugar\",className:\"input is-small\",type:\"text\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"Ketones\"}),/*#__PURE__*/_jsx(\"p\",{className:\"control is-expanded\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"ketones\",className:\"input is-small\",type:\"text\"})})]})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"columns\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"Blood\"}),/*#__PURE__*/_jsx(\"p\",{className:\"control is-expanded\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"blood\",className:\"input is-small\",type:\"text\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"Billirubin\"}),/*#__PURE__*/_jsx(\"p\",{className:\"control is-expanded\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"billirubin\",className:\"input is-small\",type:\"text\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"S.G\"}),/*#__PURE__*/_jsx(\"p\",{className:\"control is-expanded\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"sg\",className:\"input is-small\",type:\"text\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"Nitrite\"}),/*#__PURE__*/_jsx(\"p\",{className:\"control is-expanded\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"nitrite\",className:\"input is-small\",type:\"text\"})})]})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"columns\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"Urobilin\"}),/*#__PURE__*/_jsx(\"p\",{className:\"control is-expanded\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"urobilin\",className:\"input is-small\",type:\"text\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"Urobilinogen\"}),/*#__PURE__*/_jsx(\"p\",{className:\"control is-expanded\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"urobilinogin\",className:\"input is-small\",type:\"text\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"Leucocyte\"}),/*#__PURE__*/_jsx(\"p\",{className:\"control is-expanded\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"leucocyte\",className:\"input is-small\",type:\"text\"})})]})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"field is-horizontal\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsx(\"div\",{className:\"control has-icons-left has-icons-right\",children:/*#__PURE__*/_jsx(\"textarea\",{className:\"textarea is-small\",ref:register(),name:\"Recommendation\",type:\"text\",placeholder:\"Recommendation\"})})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\" is-small\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"status\",value:\"Draft\",checked:reportStatus===\"Draft\"||reportStatus===\"Pending\",onChange:function onChange(e){handleChangePart(e);},disabled:bill_report_status===\"Final\"}),/*#__PURE__*/_jsx(\"span\",{children:\" Draft\"})]}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{className:\" is-small\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"status\",value:\"Final\",checked:reportStatus===\"Final\",onChange:function onChange(e){return handleChangePart(e);},disabled:bill_report_status===\"Final\"}),/*#__PURE__*/_jsx(\"span\",{children:\" Final \"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"field  is-grouped mt-2\",children:/*#__PURE__*/_jsx(\"p\",{className:\"control\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"button is-success is-small\",disabled:bill_report_status===\"Final\",children:bill_report_status===\"Pending\"?\"Save\":\"Update\"})})})]})});}export function Stool(){var _useForm8=useForm(),register=_useForm8.register,handleSubmit=_useForm8.handleSubmit,setValue=_useForm8.setValue;//, watch, errors, reset \nvar _useState91=useState(false),_useState92=_slicedToArray(_useState91,2),error=_useState92[0],setError=_useState92[1];var _useState93=useState(false),_useState94=_slicedToArray(_useState93,2),success=_useState94[0],setSuccess=_useState94[1];var _useState95=useState(\"\"),_useState96=_slicedToArray(_useState95,2),message=_useState96[0],setMessage=_useState96[1];// eslint-disable-next-line\nvar _useState97=useState(),_useState98=_slicedToArray(_useState97,2),facility=_useState98[0],setFacility=_useState98[1];var dClientServ=client.service('clinicaldocument');//const history = useHistory()\nvar _useContext14=useContext(UserContext),user=_useContext14.user;//,setUser\n// eslint-disable-next-line\nvar _useState99=useState(),_useState100=_slicedToArray(_useState99,2),currentUser=_useState100[0],setCurrentUser=_useState100[1];var _useContext15=useContext(ObjectContext),state=_useContext15.state,setState=_useContext15.setState;var _useState101=useState(\"Draft\"),_useState102=_slicedToArray(_useState101,2),reportStatus=_useState102[0],setReportStatus=_useState102[1];var ClientServ=client.service('labresults');var order=state.financeModule.selectedFinance;var bill_report_status=state.financeModule.report_status;var _useState103=useState(\"Draft\"),_useState104=_slicedToArray(_useState103,2),docStatus=_useState104[0],setDocStatus=_useState104[1];var draftDoc=state.DocumentClassModule.selectedDocumentClass.document;useEffect(function(){var _order$resultDetail8;if(!((_order$resultDetail8=order.resultDetail)===null||_order$resultDetail8===void 0?void 0:_order$resultDetail8.documentdetail)){setValue(\"Finding\",\"\",{shouldValidate:true,shouldDirty:true});setValue(\"Recommendation\",\"\",{shouldValidate:true,shouldDirty:true});// setReportStatus(order.report_status)\nreturn;}if(order.report_status!==\"Pending\"){console.log(order.resultDetail.documentdetail);Object.entries(order.resultDetail.documentdetail).map(function(_ref31,i){var _ref32=_slicedToArray(_ref31,2),keys=_ref32[0],value=_ref32[1];return setValue(keys,value,{shouldValidate:true,shouldDirty:true});});}return function(){};},[order]);var getSearchfacility=function getSearchfacility(obj){setValue(\"facility\",obj._id,{shouldValidate:true,shouldDirty:true});};useEffect(function(){setCurrentUser(user);//console.log(currentUser)\nreturn function(){};},[user]);//check user for facility or get list of facility  \nuseEffect(function(){//setFacility(user.activeClient.FacilityId)//\nif(!user.stacker){/*    console.log(currentUser)\n      setValue(\"facility\", user.currentEmployee.facilityDetail._id,  {\n          shouldValidate: true,\n          shouldDirty: true\n      })  */}});var onSubmit=/*#__PURE__*/function(){var _ref33=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee19(data,e){var document,newProductEntryModule;return _regeneratorRuntime.wrap(function _callee19$(_context19){while(1){switch(_context19.prev=_context19.next){case 0:e.preventDefault();setMessage(\"\");setError(false);setSuccess(false);document={};// data.createdby=user._id\n//  console.log(data);\nif(user.currentEmployee){document.facility=user.currentEmployee.facilityDetail._id;document.facilityname=user.currentEmployee.facilityDetail.facilityName;// or from facility dropdown\n}document.documentdetail=data;document.documentType=\"Diagnostic Result\";document.documentname=\"\".concat(order.serviceInfo.name,\" Result\");// document.documentClassId=state.DocumentClassModule.selectedDocumentClass._id\ndocument.location=state.employeeLocation.locationName+\" \"+state.employeeLocation.locationType;document.locationId=state.employeeLocation.locationId;document.client=order.orderInfo.orderObj.clientId;document.createdBy=user._id;document.createdByname=user.firstname+\" \"+user.lastname;document.status=reportStatus;document.billId=order._id;// document.formType=choosenForm\n//  console.log(document)\n//  console.log(order)\nif(!(document.location===undefined||!document.createdByname||!document.facilityname)){_context19.next=19;break;}toast({message:' Documentation data missing, requires location and facility details',type:'is-danger',dismissible:true,pauseOnHover:true});return _context19.abrupt(\"return\");case 19:if(bill_report_status===\"Pending\"){document.labFormType=state.labFormType;ClientServ.create(document).then(function(res){e.target.reset();setSuccess(true);toast({message:'Lab Result created succesfully',type:'is-success',dismissible:true,pauseOnHover:true});setSuccess(false);}).catch(function(err){toast({message:'Error creating Lab Result '+err,type:'is-danger',dismissible:true,pauseOnHover:true});});}if(bill_report_status===\"Draft\"){ClientServ.patch(order.resultDetail._id,document).then(function(res){e.target.reset();setSuccess(true);toast({message:'Lab Result updated succesfully',type:'is-success',dismissible:true,pauseOnHover:true});setSuccess(false);}).catch(function(err){toast({message:'Error updating Lab Result '+err,type:'is-danger',dismissible:true,pauseOnHover:true});});}newProductEntryModule={selectedFinance:order,show:'show'// report_status:order.report_status\n};_context19.next=24;return setState(function(prevstate){return _objectSpread(_objectSpread({},prevstate),{},{financeModule:newProductEntryModule});});case 24:case\"end\":return _context19.stop();}}},_callee19);}));return function onSubmit(_x25,_x26){return _ref33.apply(this,arguments);};}();var handleChangeStatus=/*#__PURE__*/function(){var _ref34=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee20(e){return _regeneratorRuntime.wrap(function _callee20$(_context20){while(1){switch(_context20.prev=_context20.next){case 0:// await setAppointment_type(e.target.value)\nsetDocStatus(e.target.value);//console.log(e.target.value)\ncase 1:case\"end\":return _context20.stop();}}},_callee20);}));return function handleChangeStatus(_x27){return _ref34.apply(this,arguments);};}();var handleChangePart=/*#__PURE__*/function(){var _ref35=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee21(e){return _regeneratorRuntime.wrap(function _callee21$(_context21){while(1){switch(_context21.prev=_context21.next){case 0:console.log(e.target.value);_context21.next=3;return setReportStatus(e.target.value);case 3:case\"end\":return _context21.stop();}}},_callee21);}));return function handleChangePart(_x28){return _ref35.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small\",children:\"STOOL\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small\",children:\"Macro\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"textarea\",{ref:register,name:\"macro\",className:\"textarea is-small\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small\",children:\"Micro\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"textarea\",{ref:register,name:\"micro\",className:\"textarea is-small\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small\",children:\"Culture\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"textarea\",{ref:register,name:\"culture2\",className:\"textarea is-small\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"field is-horizontal\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsx(\"div\",{className:\"control has-icons-left has-icons-right\",children:/*#__PURE__*/_jsx(\"textarea\",{className:\"textarea is-small\",ref:register(),name:\"Recommendation\",type:\"text\",placeholder:\"Recommendation\"})})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\" is-small\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"status\",value:\"Draft\",checked:reportStatus===\"Draft\"||reportStatus===\"Pending\",onChange:function onChange(e){handleChangePart(e);},disabled:bill_report_status===\"Final\"}),/*#__PURE__*/_jsx(\"span\",{children:\" Draft\"})]}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{className:\" is-small\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"status\",value:\"Final\",checked:reportStatus===\"Final\",onChange:function onChange(e){return handleChangePart(e);},disabled:bill_report_status===\"Final\"}),/*#__PURE__*/_jsx(\"span\",{children:\" Final \"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"field  is-grouped mt-2\",children:/*#__PURE__*/_jsx(\"p\",{className:\"control\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"button is-success is-small\",disabled:bill_report_status===\"Final\",children:bill_report_status===\"Pending\"?\"Save\":\"Update\"})})})]})});}export function HVS(){var _useForm9=useForm(),register=_useForm9.register,handleSubmit=_useForm9.handleSubmit,setValue=_useForm9.setValue;//, watch, errors, reset \nvar _useState105=useState(false),_useState106=_slicedToArray(_useState105,2),error=_useState106[0],setError=_useState106[1];var _useState107=useState(false),_useState108=_slicedToArray(_useState107,2),success=_useState108[0],setSuccess=_useState108[1];var _useState109=useState(\"\"),_useState110=_slicedToArray(_useState109,2),message=_useState110[0],setMessage=_useState110[1];// eslint-disable-next-line\nvar _useState111=useState(),_useState112=_slicedToArray(_useState111,2),facility=_useState112[0],setFacility=_useState112[1];var dClientServ=client.service('clinicaldocument');//const history = useHistory()\nvar _useContext16=useContext(UserContext),user=_useContext16.user;//,setUser\n// eslint-disable-next-line\nvar _useState113=useState(),_useState114=_slicedToArray(_useState113,2),currentUser=_useState114[0],setCurrentUser=_useState114[1];var _useContext17=useContext(ObjectContext),state=_useContext17.state,setState=_useContext17.setState;var _useState115=useState(\"Draft\"),_useState116=_slicedToArray(_useState115,2),reportStatus=_useState116[0],setReportStatus=_useState116[1];var ClientServ=client.service('labresults');var order=state.financeModule.selectedFinance;var bill_report_status=state.financeModule.report_status;var _useState117=useState(\"Draft\"),_useState118=_slicedToArray(_useState117,2),docStatus=_useState118[0],setDocStatus=_useState118[1];var draftDoc=state.DocumentClassModule.selectedDocumentClass.document;useEffect(function(){var _order$resultDetail9;if(!((_order$resultDetail9=order.resultDetail)===null||_order$resultDetail9===void 0?void 0:_order$resultDetail9.documentdetail)){setValue(\"Finding\",\"\",{shouldValidate:true,shouldDirty:true});setValue(\"Recommendation\",\"\",{shouldValidate:true,shouldDirty:true});// setReportStatus(order.report_status)\nreturn;}if(order.report_status!==\"Pending\"){console.log(order.resultDetail.documentdetail);Object.entries(order.resultDetail.documentdetail).map(function(_ref36,i){var _ref37=_slicedToArray(_ref36,2),keys=_ref37[0],value=_ref37[1];return setValue(keys,value,{shouldValidate:true,shouldDirty:true});});}return function(){};},[order]);var getSearchfacility=function getSearchfacility(obj){setValue(\"facility\",obj._id,{shouldValidate:true,shouldDirty:true});};useEffect(function(){setCurrentUser(user);//console.log(currentUser)\nreturn function(){};},[user]);//check user for facility or get list of facility  \nuseEffect(function(){//setFacility(user.activeClient.FacilityId)//\nif(!user.stacker){/*    console.log(currentUser)\n      setValue(\"facility\", user.currentEmployee.facilityDetail._id,  {\n          shouldValidate: true,\n          shouldDirty: true\n      })  */}});var onSubmit=/*#__PURE__*/function(){var _ref38=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee22(data,e){var document,newProductEntryModule;return _regeneratorRuntime.wrap(function _callee22$(_context22){while(1){switch(_context22.prev=_context22.next){case 0:e.preventDefault();setMessage(\"\");setError(false);setSuccess(false);document={};// data.createdby=user._id\n//  console.log(data);\nif(user.currentEmployee){document.facility=user.currentEmployee.facilityDetail._id;document.facilityname=user.currentEmployee.facilityDetail.facilityName;// or from facility dropdown\n}document.documentdetail=data;document.documentType=\"Diagnostic Result\";document.documentname=\"\".concat(order.serviceInfo.name,\" Result\");// document.documentClassId=state.DocumentClassModule.selectedDocumentClass._id\ndocument.location=state.employeeLocation.locationName+\" \"+state.employeeLocation.locationType;document.locationId=state.employeeLocation.locationId;document.client=order.orderInfo.orderObj.clientId;document.createdBy=user._id;document.createdByname=user.firstname+\" \"+user.lastname;document.status=reportStatus;document.billId=order._id;// document.formType=choosenForm\n//  console.log(document)\n//  console.log(order)\nif(!(document.location===undefined||!document.createdByname||!document.facilityname)){_context22.next=19;break;}toast({message:' Documentation data missing, requires location and facility details',type:'is-danger',dismissible:true,pauseOnHover:true});return _context22.abrupt(\"return\");case 19:if(bill_report_status===\"Pending\"){document.labFormType=state.labFormType;ClientServ.create(document).then(function(res){e.target.reset();setSuccess(true);toast({message:'Lab Result created succesfully',type:'is-success',dismissible:true,pauseOnHover:true});setSuccess(false);}).catch(function(err){toast({message:'Error creating Lab Result '+err,type:'is-danger',dismissible:true,pauseOnHover:true});});}if(bill_report_status===\"Draft\"){ClientServ.patch(order.resultDetail._id,document).then(function(res){e.target.reset();setSuccess(true);toast({message:'Lab Result updated succesfully',type:'is-success',dismissible:true,pauseOnHover:true});setSuccess(false);}).catch(function(err){toast({message:'Error updating Lab Result '+err,type:'is-danger',dismissible:true,pauseOnHover:true});});}newProductEntryModule={selectedFinance:order,show:'show'// report_status:order.report_status\n};_context22.next=24;return setState(function(prevstate){return _objectSpread(_objectSpread({},prevstate),{},{financeModule:newProductEntryModule});});case 24:case\"end\":return _context22.stop();}}},_callee22);}));return function onSubmit(_x29,_x30){return _ref38.apply(this,arguments);};}();var handleChangePart=/*#__PURE__*/function(){var _ref39=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee23(e){return _regeneratorRuntime.wrap(function _callee23$(_context23){while(1){switch(_context23.prev=_context23.next){case 0:console.log(e.target.value);setReportStatus(e.target.value);case 2:case\"end\":return _context23.stop();}}},_callee23);}));return function handleChangePart(_x31){return _ref39.apply(this,arguments);};}();useEffect(function(){var _order$resultDetail10;if(!((_order$resultDetail10=order.resultDetail)===null||_order$resultDetail10===void 0?void 0:_order$resultDetail10.documentdetail)){setValue(\"Finding\",\"\",{shouldValidate:true,shouldDirty:true});setValue(\"Recommendation\",\"\",{shouldValidate:true,shouldDirty:true});// setReportStatus(order.report_status)\nreturn;}if(order.report_status!==\"Pending\"){console.log(order.resultDetail.documentdetail);Object.entries(order.resultDetail.documentdetail).map(function(_ref40,i){var _ref41=_slicedToArray(_ref40,2),keys=_ref41[0],value=_ref41[1];return setValue(keys,value,{shouldValidate:true,shouldDirty:true});});}return function(){};},[order]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small\",children:\"HVS CULTURE\"}),/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mt-3\",children:\"Wet Prep\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"columns\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"column is-half\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"field-body mb-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex \",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"Pus cells' hpf\"}),/*#__PURE__*/_jsx(\"p\",{className:\"control is-expanded\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"pusCells\",className:\"input is-small\",type:\"text\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field-body mb-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"Rbcs/hpf\"}),/*#__PURE__*/_jsx(\"p\",{className:\"control is-expanded\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"rbcsOrHpf\",className:\"input is-small\",type:\"text\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field-body mb-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"Yeast Cells\"}),/*#__PURE__*/_jsx(\"p\",{className:\"control is-expanded\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"yeastCells\",className:\"input is-small\",type:\"text\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field-body mb-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"Bacteria\"}),/*#__PURE__*/_jsx(\"p\",{className:\"control is-expanded\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"bacteria2\",className:\"input is-small\",type:\"text\"})})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"column is-half\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"field-body mb-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"Casts\"}),/*#__PURE__*/_jsx(\"p\",{className:\"control is-expanded\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"casts\",className:\"input is-small\",type:\"text\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field-body mb-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"Epith Cells\"}),/*#__PURE__*/_jsx(\"p\",{className:\"control is-expanded\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"epithCells2\",className:\"input is-small\",type:\"text\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field-body mb-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"Crystals\"}),/*#__PURE__*/_jsx(\"p\",{className:\"control is-expanded\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"crystals2\",className:\"input is-small\",type:\"text\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field is-flex mb-1\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label is-small mr-2\",children:\"T.V\"}),/*#__PURE__*/_jsx(\"p\",{className:\"control is-expanded\",children:/*#__PURE__*/_jsx(\"input\",{ref:register,name:\"tv2\",className:\"input is-small\",type:\"text\"})})]})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"field is-horizontal\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body mb-1\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsx(\"div\",{className:\"control has-icons-left has-icons-right\",children:/*#__PURE__*/_jsx(\"textarea\",{className:\"textarea is-small\",ref:register(),name:\"Recommendation\",type:\"text\",placeholder:\"Recommendation\"})})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\" is-small\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"status\",value:\"Draft\",checked:reportStatus===\"Draft\"||reportStatus===\"Pending\",onChange:function onChange(e){handleChangePart(e);},disabled:bill_report_status===\"Final\"}),/*#__PURE__*/_jsx(\"span\",{children:\" Draft\"})]}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{className:\" is-small\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"status\",value:\"Final\",checked:reportStatus===\"Final\",onChange:function onChange(e){return handleChangePart(e);},disabled:bill_report_status===\"Final\"}),/*#__PURE__*/_jsx(\"span\",{children:\" Final \"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"field  is-grouped mt-2\",children:/*#__PURE__*/_jsx(\"p\",{className:\"control\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"button is-success is-small\",disabled:bill_report_status===\"Final\",children:bill_report_status===\"Pending\"?\"Save\":\"Update\"})})})]})});}export function LabNoteGeneric(){var _useForm10=useForm(),register=_useForm10.register,handleSubmit=_useForm10.handleSubmit,setValue=_useForm10.setValue;//, watch, errors, reset \nvar _useState119=useState(false),_useState120=_slicedToArray(_useState119,2),error=_useState120[0],setError=_useState120[1];var _useState121=useState(false),_useState122=_slicedToArray(_useState121,2),success=_useState122[0],setSuccess=_useState122[1];var _useState123=useState(\"\"),_useState124=_slicedToArray(_useState123,2),message=_useState124[0],setMessage=_useState124[1];// eslint-disable-next-line\nvar _useState125=useState(),_useState126=_slicedToArray(_useState125,2),facility=_useState126[0],setFacility=_useState126[1];var dClientServ=client.service('clinicaldocument');//const history = useHistory()\nvar _useContext18=useContext(UserContext),user=_useContext18.user;//,setUser\n// eslint-disable-next-line\nvar _useState127=useState(),_useState128=_slicedToArray(_useState127,2),currentUser=_useState128[0],setCurrentUser=_useState128[1];var _useContext19=useContext(ObjectContext),state=_useContext19.state,setState=_useContext19.setState;var _useState129=useState(\"Draft\"),_useState130=_slicedToArray(_useState129,2),docStatus=_useState130[0],setDocStatus=_useState130[1];var _useState131=useState(\"Draft\"),_useState132=_slicedToArray(_useState131,2),reportStatus=_useState132[0],setReportStatus=_useState132[1];var ClientServ=client.service('labresults');var order=state.financeModule.selectedFinance;var bill_report_status=state.financeModule.report_status;var draftDoc=state.DocumentClassModule.selectedDocumentClass.document;useEffect(function(){var _order$resultDetail11;if(!((_order$resultDetail11=order.resultDetail)===null||_order$resultDetail11===void 0?void 0:_order$resultDetail11.documentdetail)){setValue(\"Finding\",\"\",{shouldValidate:true,shouldDirty:true});setValue(\"Recommendation\",\"\",{shouldValidate:true,shouldDirty:true});// setReportStatus(order.report_status)\nreturn;}if(order.report_status!==\"Pending\"){console.log(order.resultDetail.documentdetail);Object.entries(order.resultDetail.documentdetail).map(function(_ref42,i){var _ref43=_slicedToArray(_ref42,2),keys=_ref43[0],value=_ref43[1];return setValue(keys,value,{shouldValidate:true,shouldDirty:true});});}return function(){};},[order]);var getSearchfacility=function getSearchfacility(obj){setValue(\"facility\",obj._id,{shouldValidate:true,shouldDirty:true});};useEffect(function(){setCurrentUser(user);//console.log(currentUser)\nreturn function(){};},[user]);//check user for facility or get list of facility  \nuseEffect(function(){//setFacility(user.activeClient.FacilityId)//\nif(!user.stacker){/*    console.log(currentUser)\n      setValue(\"facility\", user.currentEmployee.facilityDetail._id,  {\n          shouldValidate: true,\n          shouldDirty: true\n      })  */}});var onSubmit=/*#__PURE__*/function(){var _ref44=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee24(data,e){var document,newProductEntryModule;return _regeneratorRuntime.wrap(function _callee24$(_context24){while(1){switch(_context24.prev=_context24.next){case 0:e.preventDefault();setMessage(\"\");setError(false);setSuccess(false);document={};// data.createdby=user._id\n//  console.log(data);\nif(user.currentEmployee){document.facility=user.currentEmployee.facilityDetail._id;document.facilityname=user.currentEmployee.facilityDetail.facilityName;// or from facility dropdown\n}document.documentdetail=data;document.documentType=\"Diagnostic Result\";document.documentname=\"\".concat(order.serviceInfo.name,\" Result\");// document.documentClassId=state.DocumentClassModule.selectedDocumentClass._id\ndocument.location=state.employeeLocation.locationName+\" \"+state.employeeLocation.locationType;document.locationId=state.employeeLocation.locationId;document.client=order.orderInfo.orderObj.clientId;document.createdBy=user._id;document.createdByname=user.firstname+\" \"+user.lastname;document.status=reportStatus;document.billId=order._id;// document.formType=choosenForm\n//  console.log(document)\n//  console.log(order)\nif(!(document.location===undefined||!document.createdByname||!document.facilityname)){_context24.next=19;break;}toast({message:' Documentation data missing, requires location and facility details',type:'is-danger',dismissible:true,pauseOnHover:true});return _context24.abrupt(\"return\");case 19:if(bill_report_status===\"Pending\"){document.labFormType=state.labFormType;ClientServ.create(document).then(function(res){e.target.reset();setSuccess(true);toast({message:'Lab Result created succesfully',type:'is-success',dismissible:true,pauseOnHover:true});setSuccess(false);}).catch(function(err){toast({message:'Error creating Lab Result '+err,type:'is-danger',dismissible:true,pauseOnHover:true});});}if(bill_report_status===\"Draft\"){ClientServ.patch(order.resultDetail._id,document).then(function(res){e.target.reset();setSuccess(true);toast({message:'Lab Result updated succesfully',type:'is-success',dismissible:true,pauseOnHover:true});setSuccess(false);}).catch(function(err){toast({message:'Error updating Lab Result '+err,type:'is-danger',dismissible:true,pauseOnHover:true});});}newProductEntryModule={selectedFinance:order,show:'show'// report_status:order.report_status\n};_context24.next=24;return setState(function(prevstate){return _objectSpread(_objectSpread({},prevstate),{},{financeModule:newProductEntryModule});});case 24:case\"end\":return _context24.stop();}}},_callee24);}));return function onSubmit(_x32,_x33){return _ref44.apply(this,arguments);};}();var handleChangeStatus=/*#__PURE__*/function(){var _ref45=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee25(e){return _regeneratorRuntime.wrap(function _callee25$(_context25){while(1){switch(_context25.prev=_context25.next){case 0:// await setAppointment_type(e.target.value)\nsetDocStatus(e.target.value);//console.log(e.target.value)\ncase 1:case\"end\":return _context25.stop();}}},_callee25);}));return function handleChangeStatus(_x34){return _ref45.apply(this,arguments);};}();var handleChangePart=/*#__PURE__*/function(){var _ref46=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee26(e){return _regeneratorRuntime.wrap(function _callee26$(_context26){while(1){switch(_context26.prev=_context26.next){case 0:console.log(e.target.value);_context26.next=3;return setReportStatus(e.target.value);case 3:case\"end\":return _context26.stop();}}},_callee26);}));return function handleChangePart(_x35){return _ref46.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control has-icons-left has-icons-right\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input is-small\",ref:register(),name:\"Investigation\",type:\"text\",placeholder:\"Investigation\"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-small is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-hospital\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field is-horizontal\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsx(\"p\",{className:\"control has-icons-left has-icons-right\",children:/*#__PURE__*/_jsx(\"textarea\",{className:\"textarea is-small\",ref:register(),name:\"Finding\",type:\"text\",placeholder:\"Findings\"})})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"field is-horizontal\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsx(\"div\",{className:\"control has-icons-left has-icons-right\",children:/*#__PURE__*/_jsx(\"textarea\",{className:\"textarea is-small\",ref:register(),name:\"Recommendation\",type:\"text\",placeholder:\"Recommendation\"})})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\" is-small\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"status\",value:\"Draft\",checked:reportStatus===\"Draft\"||reportStatus===\"Pending\",onChange:function onChange(e){handleChangePart(e);},disabled:bill_report_status===\"Final\"}),/*#__PURE__*/_jsx(\"span\",{children:\" Draft\"})]}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{className:\" is-small\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"status\",value:\"Final\",checked:reportStatus===\"Final\",onChange:function onChange(e){return handleChangePart(e);},disabled:bill_report_status===\"Final\"}),/*#__PURE__*/_jsx(\"span\",{children:\" Final \"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"field  is-grouped mt-2\",children:/*#__PURE__*/_jsx(\"p\",{className:\"control\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"button is-success is-small\",disabled:bill_report_status===\"Final\",children:bill_report_status===\"Pending\"?\"Save\":\"Update\"})})})]})});}export function LabNoteCreate(){var _useForm11=useForm(),register=_useForm11.register,handleSubmit=_useForm11.handleSubmit,setValue=_useForm11.setValue;//, watch, errors, reset \nvar _useState133=useState(false),_useState134=_slicedToArray(_useState133,2),error=_useState134[0],setError=_useState134[1];var _useState135=useState(false),_useState136=_slicedToArray(_useState135,2),success=_useState136[0],setSuccess=_useState136[1];var _useState137=useState(\"\"),_useState138=_slicedToArray(_useState137,2),message=_useState138[0],setMessage=_useState138[1];// eslint-disable-next-line\nvar _useState139=useState(),_useState140=_slicedToArray(_useState139,2),facility=_useState140[0],setFacility=_useState140[1];var ClientServ=client.service('labresults');//const history = useHistory()\nvar _useContext20=useContext(UserContext),user=_useContext20.user;//,setUser\n// eslint-disable-next-line\nvar _useState141=useState(),_useState142=_slicedToArray(_useState141,2),currentUser=_useState142[0],setCurrentUser=_useState142[1];var _useState143=useState(\"Draft\"),_useState144=_slicedToArray(_useState143,2),reportStatus=_useState144[0],setReportStatus=_useState144[1];var _useContext21=useContext(ObjectContext),state=_useContext21.state,setState=_useContext21.setState;var order=state.financeModule.selectedFinance;var bill_report_status=state.financeModule.report_status;var getSearchfacility=function getSearchfacility(obj){setValue(\"facility\",obj._id,{shouldValidate:true,shouldDirty:true});};useEffect(function(){setCurrentUser(user);//console.log(currentUser)\nreturn function(){};},[user]);var onSubmit=/*#__PURE__*/function(){var _ref47=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee27(data,e){var document,newProductEntryModule;return _regeneratorRuntime.wrap(function _callee27$(_context27){while(1){switch(_context27.prev=_context27.next){case 0:e.preventDefault();setMessage(\"\");setError(false);setSuccess(false);document={};// data.createdby=user._id\n//  console.log(data);\nif(user.currentEmployee){document.facility=user.currentEmployee.facilityDetail._id;document.facilityname=user.currentEmployee.facilityDetail.facilityName;// or from facility dropdown\n}document.documentdetail=data;document.documentType=\"Diagnostic Result\";document.documentname=\"\".concat(order.serviceInfo.name,\" Result\");// document.documentClassId=state.DocumentClassModule.selectedDocumentClass._id\ndocument.location=state.employeeLocation.locationName+\" \"+state.employeeLocation.locationType;document.locationId=state.employeeLocation.locationId;document.client=order.orderInfo.orderObj.clientId;document.createdBy=user._id;document.createdByname=user.firstname+\" \"+user.lastname;document.status=reportStatus;document.billId=order._id;// document.formType=choosenForm\n//  console.log(document)\n//  console.log(order)\nif(!(document.location===undefined||!document.createdByname||!document.facilityname)){_context27.next=19;break;}toast({message:' Documentation data missing, requires location and facility details',type:'is-danger',dismissible:true,pauseOnHover:true});return _context27.abrupt(\"return\");case 19:if(bill_report_status===\"Pending\"){document.labFormType=state.labFormType;ClientServ.create(document).then(function(res){e.target.reset();setSuccess(true);toast({message:'Lab Result created succesfully',type:'is-success',dismissible:true,pauseOnHover:true});setSuccess(false);}).catch(function(err){toast({message:'Error creating Lab Result '+err,type:'is-danger',dismissible:true,pauseOnHover:true});});}if(bill_report_status===\"Draft\"){ClientServ.patch(order.resultDetail._id,document).then(function(res){e.target.reset();setSuccess(true);toast({message:'Lab Result updated succesfully',type:'is-success',dismissible:true,pauseOnHover:true});setSuccess(false);}).catch(function(err){toast({message:'Error updating Lab Result '+err,type:'is-danger',dismissible:true,pauseOnHover:true});});}newProductEntryModule={selectedFinance:order,show:'show'// report_status:order.report_status\n};_context27.next=24;return setState(function(prevstate){return _objectSpread(_objectSpread({},prevstate),{},{financeModule:newProductEntryModule});});case 24:case\"end\":return _context27.stop();}}},_callee27);}));return function onSubmit(_x36,_x37){return _ref47.apply(this,arguments);};}();var handleChangePart=/*#__PURE__*/function(){var _ref48=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee28(e){return _regeneratorRuntime.wrap(function _callee28$(_context28){while(1){switch(_context28.prev=_context28.next){case 0:console.log(e.target.value);_context28.next=3;return setReportStatus(e.target.value);case 3:case\"end\":return _context28.stop();}}},_callee28);}));return function handleChangePart(_x38){return _ref48.apply(this,arguments);};}();useEffect(function(){var _order$resultDetail12;if(!((_order$resultDetail12=order.resultDetail)===null||_order$resultDetail12===void 0?void 0:_order$resultDetail12.documentdetail)){setValue(\"Finding\",\"\",{shouldValidate:true,shouldDirty:true});setValue(\"Recommendation\",\"\",{shouldValidate:true,shouldDirty:true});// setReportStatus(order.report_status)\nreturn;}if(order.report_status!==\"Pending\"){console.log(order.resultDetail.documentdetail);Object.entries(order.resultDetail.documentdetail).map(function(_ref49,i){var _ref50=_slicedToArray(_ref49,2),keys=_ref50[0],value=_ref50[1];return setValue(keys,value,{shouldValidate:true,shouldDirty:true});});}return function(){};},[order]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsx(\"div\",{className:\"field is-horizontal\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsx(\"p\",{className:\"control has-icons-left has-icons-right\",children:/*#__PURE__*/_jsx(\"textarea\",{className:\"textarea is-small\",ref:register(),name:\"Finding\",type:\"text\",placeholder:\"Findings\",disabled:bill_report_status===\"Final\"})})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"field is-horizontal\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field-body\",children:/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsx(\"div\",{className:\"control has-icons-left has-icons-right\",children:/*#__PURE__*/_jsx(\"textarea\",{className:\"textarea is-small\",ref:register(),name:\"Recommendation\",type:\"text\",placeholder:\"Recommendation\",disabled:bill_report_status===\"Final\"})})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\" is-small\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"status\",value:\"Draft\",checked:reportStatus===\"Draft\"||reportStatus===\"Pending\",onChange:function onChange(e){handleChangePart(e);},disabled:bill_report_status===\"Final\"}),/*#__PURE__*/_jsx(\"span\",{children:\" Draft\"})]}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{className:\" is-small\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"status\",value:\"Final\",checked:reportStatus===\"Final\",onChange:function onChange(e){return handleChangePart(e);},disabled:bill_report_status===\"Final\"}),/*#__PURE__*/_jsx(\"span\",{children:\" Final \"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"field  is-grouped mt-2\",children:/*#__PURE__*/_jsx(\"p\",{className:\"control\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"button is-success is-small\",disabled:bill_report_status===\"Final\",children:bill_report_status===\"Pending\"?\"Save\":\"Update\"})})})]})});}","map":{"version":3,"sources":["/home/mfybaby/Documents/HealthStack2/HS-frontend/src/components/clientForm/forms/laboratoryReportForm.jsx"],"names":["React","useState","useContext","useEffect","useRef","useForm","client","Encounter","UserContext","ObjectContext","toast","LaboratoryReportForm","register","handleSubmit","state","setState","reportStatus","setReportStatus","choosenForm","setChoosenForm","productModal","setProductModal","formtype","order","financeModule","selectedFinance","bill_report_status","report_status","handleChangeMode","value","prevstate","labFormType","resultDetail","console","log","showDocumentation","handlecloseModal","serviceInfo","name","orderInfo","orderObj","clientname","required","e","target","map","option","i","Haematology","setValue","error","setError","success","setSuccess","message","setMessage","facility","setFacility","dClientServ","service","user","currentUser","setCurrentUser","docStatus","setDocStatus","ClientServ","documentdetail","shouldValidate","shouldDirty","Object","entries","keys","getSearchfacility","obj","_id","stacker","onSubmit","data","preventDefault","document","currentEmployee","facilityDetail","facilityname","facilityName","documentType","documentname","location","employeeLocation","locationName","locationType","locationId","clientId","createdBy","createdByname","firstname","lastname","status","billId","undefined","type","dismissible","pauseOnHover","create","then","res","reset","catch","err","patch","newProductEntryModule","show","handleChangePart","Serology","draftDoc","DocumentClassModule","selectedDocumentClass","handleChangeStatus","Biochemistry","Microbiology","Urine","Urinalysis","Stool","HVS","LabNoteGeneric","LabNoteCreate"],"mappings":"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","sourcesContent":["import React, {useState,useContext, useEffect,useRef} from 'react'\nimport { useForm } from \"react-hook-form\";\nimport client from '../../../feathers'\nimport Encounter from '../../EncounterMgt/Encounter';\nimport {UserContext,ObjectContext} from '../../../context'\nimport {toast} from 'bulma-toast'\n\n\nexport default  function LaboratoryReportForm () {\n\n  const { register, handleSubmit } = useForm();\n\n  const {state, setState}=useContext(ObjectContext)\n  const [reportStatus,setReportStatus] = useState(\"Draft\")\n  const [choosenForm, setChoosenForm] = useState(\"\");\n  const [productModal, setProductModal]=useState(false)\n  \n  const formtype= [\"Haematology\", \"Serology\", \"Biochemistry\", \"Microbiology\", \"Urine\", \"Urinalysis\",\"Stool\", \"HVS Culture\", \"Generic\" ]\n  const order=state.financeModule.selectedFinance\n  const bill_report_status=state.financeModule.report_status\n\nconst handleChangeMode=(value)=>{\n  setChoosenForm(value)\n  \n  setState((prevstate)=>({...prevstate, labFormType:value}))\n \n}\n\nuseEffect(() => {\n \n\n   if (order.resultDetail?.labFormType == null){\n    console.log(\"null\")\n    //setChoosenForm(\"unknown\")\n    setState((prevstate)=>({...prevstate, labFormType:\"unknown\"}))\n    \n   }else{\n    console.log(\"not null\")\n    //setChoosenForm(state.financeModule.selectedFinance.resultDetail.labFormType)\n    setState((prevstate)=>({...prevstate, labFormType:state.financeModule.selectedFinance.resultDetail.labFormType}))\n   }\n   if (order.resultDetail == null){\n    console.log(\"does not exist\")\n  // setChoosenForm(\"\")\n   setState((prevstate)=>({...prevstate, labFormType:\"\"}))\n   \n   \n  }\n  \n\n  return () => {\n   \n  }\n},[order])\nconst showDocumentation = async (value)=>{\n  setProductModal(true)\n}\nconst handlecloseModal =()=>{\n  setProductModal(false)\n // handleSearch(val)\n  }\n  \n\n  return (\n    \n      <div className=\"card\">\n        <div className=\"card-header mb-0\" >\n          <p className=\"card-header-title\">{order.serviceInfo.name} for {order.orderInfo.orderObj.clientname}</p>\n          <p>\n       {/* disable dropdown if status is not pending; add flag to know form chosen */}\n        \n              </p>\n      { (bill_report_status===\"Pending\") &&  <div className=\"control mt-2 mr-2\">\n                      <div className=\"select is-small \">\n                          <select name=\"FormType\"  ref={register({ required: true })}  onChange={(e)=>handleChangeMode(e.target.value)} className=\"selectadd\" >\n                          <option value=\"\">Choose Form </option>\n                            {formtype.map((option,i)=>(\n                                <option key={i} value={option}> {option}</option>\n                            ))}\n                          </select>\n                      </div>  \n                  </div>}\n                  <button className=\"button is-success is-small btnheight mt-2\" onClick={showDocumentation}>Documentation</button>\n        </div>\n       \n        <div className=\"card-content mb-0 vscrollable\">\n         \n            <div>     \n                                                                                                                                                                                                                      \n              {( state.labFormType===\"Haematology\") && <Haematology />}\n              {  ( state.labFormType===\"Serology\") && <Serology /> }\n               { ( state.labFormType===\"Biochemistry\") && <Biochemistry />}\n               {( state.labFormType===\"Microbiology\") && <Microbiology /> }\n               { ( state.labFormType===\"Urine\") && <Urine />}\n               { ( state.labFormType===\"Urinalysis\") && <Urinalysis />}\n               { ( state.labFormType===\"Stool\") && <Stool />}\n               { (state.labFormType===\"HVS Culture\") && <HVS />}\n               { ( state.labFormType===\"Generic\") && <LabNoteGeneric /> }\n               { ( state.labFormType ===\"unknown\") && <LabNoteCreate /> }\n            </div>   \n            \n        </div>\n        <div className={`modal ${productModal?\"is-active\":\"\"}` }>\n                                    <div className=\"modal-background\"></div>\n                                    <div className=\"modal-card  modalbkgrnd\">\n                                        <header className=\"modal-card-head  btnheight\">\n                                        <p className=\"modal-card-title\">Documentation</p>\n                                        <button className=\"delete\" aria-label=\"close\"  onClick={handlecloseModal}></button>\n                                        </header>\n                                        <section className=\"modal-card-body modalcolor\">\n                                      \n                                         <Encounter standalone=\"true\" />\n                                        </section> \n                                        {/* <footer className=\"modal-card-foot\">\n                                        <button className=\"button is-success\">Save changes</button>\n                                        <button className=\"button\">Cancel</button>\n                                        </footer>  */}\n                                   </div>\n        </div>    \n      </div>\n    \n  );\n};\n\n\nexport  function Haematology() {\n  const { register, handleSubmit,setValue} = useForm(); //, watch, errors, reset \n  const [error, setError] =useState(false)\n  const [success, setSuccess] =useState(false)\n  const [message,setMessage] = useState(\"\")\n  // eslint-disable-next-line\n  const [facility,setFacility] = useState()\n  const dClientServ=client.service('clinicaldocument')\n  //const history = useHistory()\n  const {user} = useContext(UserContext) //,setUser\n  // eslint-disable-next-line\n  const [currentUser,setCurrentUser] = useState()\n  const {state, setState}=useContext(ObjectContext)\n\n  const [docStatus,setDocStatus] = useState(\"Draft\")\n  const [reportStatus,setReportStatus] = useState(\"Draft\")\n    const ClientServ=client.service('labresults')\n    const order=state.financeModule.selectedFinance\n    const bill_report_status=state.financeModule.report_status\n\n // let draftDoc=state.DocumentClassModule.selectedDocumentClass.document\n\n  useEffect(() => {\n   // setState((prevstate)=>({...prevstate, labFormType:value}))\n    if (!order.resultDetail?.documentdetail ){\n        setValue(\"Finding\", \"\",  {\n            shouldValidate: true,\n            shouldDirty: true\n        })\n        setValue(\"Recommendation\",\"\",  {\n            shouldValidate: true,\n            shouldDirty: true\n        })\n       // setReportStatus(order.report_status)\n       \n        return\n\n    }\n    if (order.report_status !==\"Pending\"){\n        console.log(order.resultDetail.documentdetail)\n\n        \n       Object.entries(order.resultDetail.documentdetail).map(([keys,value],i)=>(\n        setValue(keys, value,  {\n            shouldValidate: true,\n            shouldDirty: true\n        })\n\n    ))\n\n\n}\n    \n    return () => {\n        \n    }\n}, [order])\n\n  const getSearchfacility=(obj)=>{\n      setValue(\"facility\", obj._id,  {\n          shouldValidate: true,\n          shouldDirty: true\n      })\n  }\n  \n  useEffect(() => {\n      setCurrentUser(user)\n      //console.log(currentUser)\n      return () => {\n      \n      }\n  }, [user])\n\n//check user for facility or get list of facility  \n  useEffect(()=>{\n      //setFacility(user.activeClient.FacilityId)//\n    if (!user.stacker){\n     /*    console.log(currentUser)\n      setValue(\"facility\", user.currentEmployee.facilityDetail._id,  {\n          shouldValidate: true,\n          shouldDirty: true\n      })  */\n    }\n  })\n\n  const onSubmit = async(data,e) =>{\n    e.preventDefault();\n    setMessage(\"\")\n    setError(false)\n    setSuccess(false)\n    let document={}\n     // data.createdby=user._id\n    //  console.log(data);\n      if (user.currentEmployee){\n      document.facility=user.currentEmployee.facilityDetail._id \n      document.facilityname=user.currentEmployee.facilityDetail.facilityName // or from facility dropdown\n      }\n     document.documentdetail=data\n     document.documentType=\"Diagnostic Result\"\n      document.documentname= `${order.serviceInfo.name} Result`\n     // document.documentClassId=state.DocumentClassModule.selectedDocumentClass._id\n      document.location=state.employeeLocation.locationName +\" \"+ state.employeeLocation.locationType\n      document.locationId=state.employeeLocation.locationId\n      document.client=order.orderInfo.orderObj.clientId\n      document.createdBy=user._id\n      document.createdByname=user.firstname+ \" \"+user.lastname\n      document.status=reportStatus\n      document.billId=order._id\n     // document.formType=choosenForm\n    //  console.log(document)\n    //  console.log(order)\n\n      if (\n        document.location===undefined ||!document.createdByname || !document.facilityname ){\n        toast({\n            message: ' Documentation data missing, requires location and facility details' ,\n            type: 'is-danger',\n            dismissible: true,\n            pauseOnHover: true,\n          })\n          return\n      }\n\n    if (bill_report_status===\"Pending\"){\n      document.labFormType=state.labFormType\n        ClientServ.create(document)\n        .then((res)=>{\n              \n                e.target.reset();\n              \n                setSuccess(true)\n                toast({\n                    message: 'Lab Result created succesfully',\n                    type: 'is-success',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n                  setSuccess(false)\n            })\n            .catch((err)=>{\n                toast({\n                    message: 'Error creating Lab Result ' + err,\n                    type: 'is-danger',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n            })  \n    }\n\n    if (bill_report_status===\"Draft\"){\n     ClientServ.patch(order.resultDetail._id, document)\n    .then((res)=>{\n          \n            e.target.reset();\n          \n            setSuccess(true)\n            toast({\n                message: 'Lab Result updated succesfully',\n                type: 'is-success',\n                dismissible: true,\n                pauseOnHover: true,\n              })\n              setSuccess(false)\n        })\n        .catch((err)=>{\n            toast({\n                message: 'Error updating Lab Result ' + err,\n                type: 'is-danger',\n                dismissible: true,\n                pauseOnHover: true,\n              })\n        }) \n    }\n    const    newProductEntryModule={\n        selectedFinance:order,\n        show :'show',\n       // report_status:order.report_status\n       \n    }\n  await setState((prevstate)=>({...prevstate, financeModule:newProductEntryModule}))\n  } \n\n\n\n  const handleChangePart=async (e)=>{\n    console.log(e.target.value)\n    await setReportStatus(e.target.value)\n\n}\n  return (\n    <form onSubmit={handleSubmit(onSubmit)}>\n    <div>\n       <label className=\"label is-small\" >HEAMATOLOGY</label>\n       \n    <div className=\"columns mt-3 is-flex-wrap-wrap\">\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">HB</label>\n            <p className=\"control is-expanded\">\n              <input ref={register} name=\"hb\" className=\"input is-small\" type=\"text\" />\n            </p>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">PCV</label>\n            <div className=\"control\">\n              <input ref={register} name=\"pcv\" className=\"input is-small\" type=\"text\" />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">WBC</label>\n            <div className=\"control\">\n              <input ref={register} name=\"wbc\" className=\"input is-small\" type=\"text\" />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">ESR</label>\n            <div className=\"control\">\n              <input ref={register} name=\"esr\" className=\"input is-small\" type=\"text\" />\n            </div>\n          </div>\n        </div>\n      </div>\n\n    </div>\n\n    <div className=\"columns mt-3 is-flex-wrap-wrap\">\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">Platelets</label>\n            <p className=\"control is-expanded\">\n              <input ref={register} name=\"platelets\" className=\"input is-small\" type=\"text\" />\n            </p>\n          </div>\n        </div>\n      </div>\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">Rectics</label>\n            <div className=\"control\">\n              <input ref={register} name=\"rectics\" className=\"input is-small\" type=\"text\" />\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">RBC</label>\n            <div className=\"control\">\n              <input ref={register} name=\"rbc\" className=\"input is-small\" type=\"text\" />\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">MCV</label>\n            <div className=\"control\">\n              <input ref={register} name=\"mcv\" className=\"input is-small\" type=\"text\" />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    \n    <div className=\"columns mt-3 is-flex-wrap-wrap\">\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">MCHC</label>\n            <p className=\"control is-expanded\">\n              <input ref={register} name=\"mchc\" className=\"input is-small\" type=\"text\" />\n            </p>\n          </div>\n        </div>\n      </div>\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">MCH</label>\n            <div className=\"control\">\n              <input ref={register} name=\"mch\" className=\"input is-small\" type=\"text\" />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">Neutrophils</label>\n            <div className=\"control\">\n              <input ref={register} name=\"neutrophils\" className=\"input is-small\" type=\"text\" />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">Lymphocytes</label>\n            <div className=\"control\">\n              <input ref={register} name=\"lymphocytes\" className=\"input is-small\" type=\"text\" />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div className=\"columns mt-3 is-flex-wrap-wrap\">\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">Monocytes</label>\n            <p className=\"control is-expanded\">\n              <input ref={register} name=\"monocytes\" className=\"input is-small\" type=\"text\" />\n            </p>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">Eosinophils</label>\n            <div className=\"control\">\n              <input ref={register} name=\"eosinophils\" className=\"input is-small\" type=\"text\" />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">Basophils</label>\n            <div className=\"control\">\n              <input ref={register} name=\"basophils\" className=\"input is-small\" type=\"text\" />\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">Pro-Myelocyte</label>\n            <div className=\"control\">\n              <input ref={register} name=\"proMyelocyte\" className=\"input is-small\" type=\"text\" />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div className=\"columns mt-3 is-flex-wrap-wrap\">\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">Meta-Myelocyte</label>\n            <p className=\"control is-expanded\">\n              <input ref={register} name=\"metaMyelocyte\" className=\"input is-small\" type=\"text\" />\n            </p>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">Nucleated RBC</label>\n            <div className=\"control\">\n              <input ref={register} name=\"nucleatedRbc\" className=\"input is-small\" type=\"text\" />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">Genotype</label>\n            <div className=\"control\">\n              <input ref={register} name=\"genotype\" className=\"input is-small\" type=\"text\" />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">Blood Group</label>\n            <div className=\"control\">\n              <input ref={register} name=\"bldGroup\" className=\"input is-small\" type=\"text\" />\n            </div>\n          </div>\n        </div>\n      </div>\n\n    </div>\n    <div className=\"field is-horizontal\">\n              <div className=\"field-body\">\n                  <div className=\"field\">\n                      <div className=\"control has-icons-left has-icons-right\">\n                      <textarea className=\"textarea is-small\" ref={register()}  name=\"Recommendation\" type=\"text\" placeholder=\"Recommendation\" />\n                      </div>\n                  </div>\n                  </div>\n                  </div>\n                  <div className=\"field\">\n                  <label className=\" is-small\">\n                           <input  type=\"radio\" name=\"status\" value=\"Draft\"   checked={reportStatus===\"Draft\"||reportStatus===\"Pending\"} onChange={(e)=>{handleChangePart(e)}} disabled={bill_report_status===\"Final\"}/>\n                             <span > Draft</span>\n                            </label> <br/>\n                            <label className=\" is-small\">\n                           <input type=\"radio\" name=\"status\"  value=\"Final\"   checked={reportStatus===\"Final\"} onChange={(e)=>handleChangePart(e)} disabled={bill_report_status===\"Final\"}/>\n                           <span> Final </span>\n                            </label>\n                            </div>  \n              \n      <div className=\"field  is-grouped mt-2\" >\n          <p className=\"control\">\n                    <button type=\"submit\" className=\"button is-success is-small\" disabled={bill_report_status===\"Final\"} >\n                    {bill_report_status===\"Pending\"? \"Save\":\"Update\"}\n                    </button>\n                </p>\n               {/*  <p className=\"control\">\n                    <button className=\"button is-warning is-small\" onClick={(e)=>e.target.reset()}>\n                        Cancel\n                    </button>\n                </p> */}\n             \n          </div>\n\n  \n  </div>\n  </form>\n  )\n}\n\nexport  function Serology() {\n  const { register, handleSubmit,setValue} = useForm(); //, watch, errors, reset \n  const [error, setError] =useState(false)\n  const [success, setSuccess] =useState(false)\n  const [message,setMessage] = useState(\"\")\n  // eslint-disable-next-line\n  const [facility,setFacility] = useState()\n  const dClientServ=client.service('clinicaldocument')\n  //const history = useHistory()\n  const {user} = useContext(UserContext) //,setUser\n  // eslint-disable-next-line\n  const [currentUser,setCurrentUser] = useState()\n  const {state, setState}=useContext(ObjectContext)\n\n  const [docStatus,setDocStatus] = useState(\"Draft\")\n  const [reportStatus,setReportStatus] = useState(\"Draft\")\n  const ClientServ=client.service('labresults')\n  const order=state.financeModule.selectedFinance\n  const bill_report_status=state.financeModule.report_status\n\n  let draftDoc=state.DocumentClassModule.selectedDocumentClass.document\n\n  useEffect(() => {\n    if (!order.resultDetail?.documentdetail ){\n        setValue(\"Finding\", \"\",  {\n            shouldValidate: true,\n            shouldDirty: true\n        })\n        setValue(\"Recommendation\",\"\",  {\n            shouldValidate: true,\n            shouldDirty: true\n        })\n       // setReportStatus(order.report_status)\n       \n        return\n\n    }\n    if (order.report_status !==\"Pending\"){\n        console.log(order.resultDetail.documentdetail)\n\n        \n       Object.entries(order.resultDetail.documentdetail).map(([keys,value],i)=>(\n        setValue(keys, value,  {\n            shouldValidate: true,\n            shouldDirty: true\n        })\n\n    ))\n\n\n}\n    \n    return () => {\n        \n    }\n}, [order])\n\n  const getSearchfacility=(obj)=>{\n      setValue(\"facility\", obj._id,  {\n          shouldValidate: true,\n          shouldDirty: true\n      })\n  }\n  \n  useEffect(() => {\n      setCurrentUser(user)\n      //console.log(currentUser)\n      return () => {\n      \n      }\n  }, [user])\n\n//check user for facility or get list of facility  \n  useEffect(()=>{\n      //setFacility(user.activeClient.FacilityId)//\n    if (!user.stacker){\n     /*    console.log(currentUser)\n      setValue(\"facility\", user.currentEmployee.facilityDetail._id,  {\n          shouldValidate: true,\n          shouldDirty: true\n      })  */\n    }\n  })\n\n  const onSubmit = async(data,e) =>{\n    e.preventDefault();\n    setMessage(\"\")\n    setError(false)\n    setSuccess(false)\n    let document={}\n     // data.createdby=user._id\n    //  console.log(data);\n      if (user.currentEmployee){\n      document.facility=user.currentEmployee.facilityDetail._id \n      document.facilityname=user.currentEmployee.facilityDetail.facilityName // or from facility dropdown\n      }\n     document.documentdetail=data\n     document.documentType=\"Diagnostic Result\"\n      document.documentname= `${order.serviceInfo.name} Result`\n     // document.documentClassId=state.DocumentClassModule.selectedDocumentClass._id\n      document.location=state.employeeLocation.locationName +\" \"+ state.employeeLocation.locationType\n      document.locationId=state.employeeLocation.locationId\n      document.client=order.orderInfo.orderObj.clientId\n      document.createdBy=user._id\n      document.createdByname=user.firstname+ \" \"+user.lastname\n      document.status=reportStatus\n      document.billId=order._id\n     // document.formType=choosenForm\n    //  console.log(document)\n    //  console.log(order)\n\n      if (\n        document.location===undefined ||!document.createdByname || !document.facilityname ){\n        toast({\n            message: ' Documentation data missing, requires location and facility details' ,\n            type: 'is-danger',\n            dismissible: true,\n            pauseOnHover: true,\n          })\n          return\n      }\n\n    if (bill_report_status===\"Pending\"){\n      document.labFormType=state.labFormType\n        ClientServ.create(document)\n        .then((res)=>{\n              \n                e.target.reset();\n              \n                setSuccess(true)\n                toast({\n                    message: 'Lab Result created succesfully',\n                    type: 'is-success',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n                  setSuccess(false)\n            })\n            .catch((err)=>{\n                toast({\n                    message: 'Error creating Lab Result ' + err,\n                    type: 'is-danger',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n            })  \n    }\n\n    if (bill_report_status===\"Draft\"){\n     ClientServ.patch(order.resultDetail._id, document)\n    .then((res)=>{\n          \n            e.target.reset();\n          \n            setSuccess(true)\n            toast({\n                message: 'Lab Result updated succesfully',\n                type: 'is-success',\n                dismissible: true,\n                pauseOnHover: true,\n              })\n              setSuccess(false)\n        })\n        .catch((err)=>{\n            toast({\n                message: 'Error updating Lab Result ' + err,\n                type: 'is-danger',\n                dismissible: true,\n                pauseOnHover: true,\n              })\n        }) \n    }\n    const    newProductEntryModule={\n        selectedFinance:order,\n        show :'show',\n       // report_status:order.report_status\n       \n    }\n  await setState((prevstate)=>({...prevstate, financeModule:newProductEntryModule}))\n  } \n\nconst handleChangeStatus=async (e)=>{\n  // await setAppointment_type(e.target.value)\n \n  setDocStatus(e.target.value)\n\n  //console.log(e.target.value)\n\n  }\n  const handleChangePart=async (e)=>{\n    console.log(e.target.value)\n    await setReportStatus(e.target.value)\n\n}\n  return (\n    <><form onSubmit={handleSubmit(onSubmit)}>\n     <label className=\"label is-small\" >SEROLOGY</label>\n    <div className=\"columns mt-3 is-flex-wrap-wrap\">\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">HBsAG</label>\n            <p className=\"control is-expanded\">\n              <input ref={register} name=\"hbsag\" className=\"input is-small\" type=\"text\" />\n            </p>\n          </div>\n        </div>\n      </div>\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">HCV</label>\n            <div className=\"control\">\n              <input ref={register} name=\"hcv\" className=\"input is-small\" type=\"text\" />\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">VDRL</label>\n            <div className=\"control\">\n              <input ref={register} name=\"vdrl\" className=\"input is-small\" type=\"text\" />\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">RPHA</label>\n            <div className=\"control\">\n              <input ref={register} name=\"rpha\" className=\"input is-small\" type=\"text\" />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div className=\"columns mt-3 is-flex-wrap-wrap\">\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">COOMBS</label>\n            <p className=\"control is-expanded\">\n              <input ref={register} name=\"coombs\" className=\"input is-small\" type=\"text\" />\n            </p>\n          </div>\n        </div>\n      </div>\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">A.S.O Titre</label>\n            <div className=\"control\">\n              <input ref={register} name=\"asoTitre\" className=\"input is-small\" type=\"text\" />\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">SLE</label>\n            <div className=\"control\">\n              <input ref={register} name=\"sle\" className=\"input is-small\" type=\"text\" />\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">R.A Factor</label>\n            <div className=\"control\">\n              <input ref={register} name=\"raFactor\" className=\"input is-small\" type=\"text\" />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div className=\"columns mt-3 is-flex-wrap-wrap\">\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">B-HCG</label>\n            <p className=\"control is-expanded\">\n              <input ref={register} name=\"bHcg\" className=\"input is-small\" type=\"text\" />\n            </p>\n          </div>\n        </div>\n      </div>\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">MANTOUX</label>\n            <div className=\"control\">\n              <input ref={register} name=\"mantoux\" className=\"input is-small\" type=\"text\" />\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">Blood Preg. Test</label>\n            <div className=\"control\">\n              <input ref={register} name=\"bldPregTest\" className=\"input is-small\" type=\"text\" />\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">XYZ</label>\n            <div className=\"control\">\n              <input ref={register} name=\"xyz\" className=\"input is-small\" type=\"text\" />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div className=\"field is-horizontal\">\n              <div className=\"field-body\">\n                  <div className=\"field\">\n                      <div className=\"control has-icons-left has-icons-right\">\n                      <textarea className=\"textarea is-small\" ref={register()}  name=\"Recommendation\" type=\"text\" placeholder=\"Recommendation\" />\n                      </div>\n                  </div>\n                  </div>\n                  </div>\n                  <div className=\"field\">\n                  <label className=\" is-small\">\n                           <input  type=\"radio\" name=\"status\" value=\"Draft\"   checked={reportStatus===\"Draft\"||reportStatus===\"Pending\"} onChange={(e)=>{handleChangePart(e)}} disabled={bill_report_status===\"Final\"}/>\n                             <span > Draft</span>\n                            </label> <br/>\n                            <label className=\" is-small\">\n                           <input type=\"radio\" name=\"status\"  value=\"Final\"   checked={reportStatus===\"Final\"} onChange={(e)=>handleChangePart(e)} disabled={bill_report_status===\"Final\"}/>\n                           <span> Final </span>\n                            </label>\n                            </div>  \n              \n      <div className=\"field  is-grouped mt-2\" >\n      <p className=\"control\">\n                    <button type=\"submit\" className=\"button is-success is-small\" disabled={bill_report_status===\"Final\"} >\n                    {bill_report_status===\"Pending\"? \"Save\":\"Update\"}\n                    </button>\n                </p>\n               {/*  <p className=\"control\">\n                    <button className=\"button is-warning is-small\" onClick={(e)=>e.target.reset()}>\n                        Cancel\n                    </button>\n                </p> */}\n             \n          </div>\n  </form></>\n  )\n}\n\nexport  function Biochemistry() {\n  const { register, handleSubmit,setValue} = useForm(); //, watch, errors, reset \n  const [error, setError] =useState(false)\n  const [success, setSuccess] =useState(false)\n  const [message,setMessage] = useState(\"\")\n  // eslint-disable-next-line\n  const [facility,setFacility] = useState()\n  const dClientServ=client.service('clinicaldocument')\n  //const history = useHistory()\n  const {user} = useContext(UserContext) //,setUser\n  // eslint-disable-next-line\n  const [currentUser,setCurrentUser] = useState()\n  const {state, setState}=useContext(ObjectContext)\n\n  const [docStatus,setDocStatus] = useState(\"Draft\")\n  const [reportStatus,setReportStatus] = useState(\"Draft\")\n  const ClientServ=client.service('labresults')\n  const order=state.financeModule.selectedFinance\n  const bill_report_status=state.financeModule.report_status\n\n  let draftDoc=state.DocumentClassModule.selectedDocumentClass.document\n\n  useEffect(() => {\n    if (!order.resultDetail?.documentdetail ){\n        setValue(\"Finding\", \"\",  {\n            shouldValidate: true,\n            shouldDirty: true\n        })\n        setValue(\"Recommendation\",\"\",  {\n            shouldValidate: true,\n            shouldDirty: true\n        })\n       // setReportStatus(order.report_status)\n       \n        return\n\n    }\n    if (order.report_status !==\"Pending\"){\n        console.log(order.resultDetail.documentdetail)\n\n        \n       Object.entries(order.resultDetail.documentdetail).map(([keys,value],i)=>(\n        setValue(keys, value,  {\n            shouldValidate: true,\n            shouldDirty: true\n        })\n\n    ))\n\n\n}\n    \n    return () => {\n        \n    }\n}, [order])\n\n  const getSearchfacility=(obj)=>{\n      setValue(\"facility\", obj._id,  {\n          shouldValidate: true,\n          shouldDirty: true\n      })\n  }\n  \n  useEffect(() => {\n      setCurrentUser(user)\n      //console.log(currentUser)\n      return () => {\n      \n      }\n  }, [user])\n\n//check user for facility or get list of facility  \n  useEffect(()=>{\n      //setFacility(user.activeClient.FacilityId)//\n    if (!user.stacker){\n     /*    console.log(currentUser)\n      setValue(\"facility\", user.currentEmployee.facilityDetail._id,  {\n          shouldValidate: true,\n          shouldDirty: true\n      })  */\n    }\n  })\n  const onSubmit = async(data,e) =>{\n    e.preventDefault();\n    setMessage(\"\")\n    setError(false)\n    setSuccess(false)\n    let document={}\n     // data.createdby=user._id\n    //  console.log(data);\n      if (user.currentEmployee){\n      document.facility=user.currentEmployee.facilityDetail._id \n      document.facilityname=user.currentEmployee.facilityDetail.facilityName // or from facility dropdown\n      }\n     document.documentdetail=data\n     document.documentType=\"Diagnostic Result\"\n      document.documentname= `${order.serviceInfo.name} Result`\n     // document.documentClassId=state.DocumentClassModule.selectedDocumentClass._id\n      document.location=state.employeeLocation.locationName +\" \"+ state.employeeLocation.locationType\n      document.locationId=state.employeeLocation.locationId\n      document.client=order.orderInfo.orderObj.clientId\n      document.createdBy=user._id\n      document.createdByname=user.firstname+ \" \"+user.lastname\n      document.status=reportStatus\n      document.billId=order._id\n     // document.formType=choosenForm\n    //  console.log(document)\n    //  console.log(order)\n\n      if (\n        document.location===undefined ||!document.createdByname || !document.facilityname ){\n        toast({\n            message: ' Documentation data missing, requires location and facility details' ,\n            type: 'is-danger',\n            dismissible: true,\n            pauseOnHover: true,\n          })\n          return\n      }\n\n    if (bill_report_status===\"Pending\"){\n      document.labFormType=state.labFormType\n        ClientServ.create(document)\n        .then((res)=>{\n              \n                e.target.reset();\n              \n                setSuccess(true)\n                toast({\n                    message: 'Lab Result created succesfully',\n                    type: 'is-success',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n                  setSuccess(false)\n            })\n            .catch((err)=>{\n                toast({\n                    message: 'Error creating Lab Result ' + err,\n                    type: 'is-danger',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n            })  \n    }\n\n    if (bill_report_status===\"Draft\"){\n     ClientServ.patch(order.resultDetail._id, document)\n    .then((res)=>{\n          \n            e.target.reset();\n          \n            setSuccess(true)\n            toast({\n                message: 'Lab Result updated succesfully',\n                type: 'is-success',\n                dismissible: true,\n                pauseOnHover: true,\n              })\n              setSuccess(false)\n        })\n        .catch((err)=>{\n            toast({\n                message: 'Error updating Lab Result ' + err,\n                type: 'is-danger',\n                dismissible: true,\n                pauseOnHover: true,\n              })\n        }) \n    }\n    const    newProductEntryModule={\n        selectedFinance:order,\n        show :'show',\n       // report_status:order.report_status\n       \n    }\n  await setState((prevstate)=>({...prevstate, financeModule:newProductEntryModule}))\n  } \n\nconst handleChangeStatus=async (e)=>{\n  // await setAppointment_type(e.target.value)\n \n  setDocStatus(e.target.value)\n\n  //console.log(e.target.value)\n\n  }\n  const handleChangePart=async (e)=>{\n    console.log(e.target.value)\n    await setReportStatus(e.target.value)\n\n}\n  return (\n    <><form onSubmit={handleSubmit(onSubmit)}>\n    <label className=\"label is-small\" >BIOCHEMISTRY</label>\n    <div className=\"columns mt-3 is-flex-wrap-wrap\">\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">Glucose (Fasting)</label>\n            <p className=\"control is-expanded\">\n              <input ref={register} name=\"glucoseFasting\" className=\"input is-small\" type=\"text\" />\n            </p>\n          </div>\n        </div>\n      </div>\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">Glucose (Random)</label>\n            <div className=\"control\">\n              <input ref={register} name=\"glucoseRandom\" className=\"input is-small\" type=\"text\" />\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">Urea</label>\n            <div className=\"control\">\n              <input ref={register} name=\"urea\" className=\"input is-small\" type=\"text\" />\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">Creatinine</label>\n            <div className=\"control\">\n              <input ref={register} name=\"creatinine\" className=\"input is-small\" type=\"text\" />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div className=\"columns mt-3\">\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">Uric Acid</label>\n            <p className=\"control is-expanded\">\n              <input ref={register} name=\"uricAcid\" className=\"input is-small\" type=\"text\" />\n            </p>\n          </div>\n        </div>\n      </div>\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">Sodium</label>\n            <div className=\"control\">\n              <input ref={register} name=\"sodium\" className=\"input is-small\" type=\"text\" />\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">Potassium</label>\n            <div className=\"control\">\n              <input ref={register} name=\"potassium\" className=\"input is-small\" type=\"text\" />\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">Bicarbonate</label>\n            <div className=\"control\">\n              <input ref={register} name=\"bicarbonate\" className=\"input is-small\" type=\"text\" />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div className=\"columns mt-3\">\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">Chloride</label>\n            <p className=\"control is-expanded\">\n              <input ref={register} name=\"chloride\" className=\"input is-small\" type=\"text\" />\n            </p>\n          </div>\n        </div>\n      </div>\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">Total Protein</label>\n            <div className=\"control\">\n              <input ref={register} name=\"totalProtein\" className=\"input is-small\" type=\"text\" />\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">Albumin</label>\n            <div className=\"control\">\n              <input ref={register} name=\"albumin\" className=\"input is-small\" type=\"text\" />\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">T. Bilirubin</label>\n            <div className=\"control\">\n              <input ref={register} name=\"tBilirubin\" className=\"input is-small\" type=\"text\" />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div className=\"columns mt-3\">\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">D.Bilirubin</label>\n            <p className=\"control is-expanded\">\n              <input ref={register} name=\"dBilirubin\" className=\"input is-small\" type=\"text\" />\n            </p>\n          </div>\n        </div>\n      </div>\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">Cholesterol</label>\n            <div className=\"control\">\n              <input ref={register} name=\"cholesterol\" className=\"input is-small\" type=\"text\" />\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">Triglyceride</label>\n            <div className=\"control\">\n              <input ref={register} name=\"triglyceride\" className=\"input is-small\" type=\"text\" />\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">Phos</label>\n            <div className=\"control\">\n              <input ref={register} name=\"phos\" className=\"input is-small\" type=\"text\" />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div className=\"columns mt-3\">\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">Calcium</label>\n            <p className=\"control is-expanded\">\n              <input ref={register} name=\"calcium\" className=\"input is-small\" type=\"text\" />\n            </p>\n          </div>\n        </div>\n      </div>\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">SGOT</label>\n            <div className=\"control\">\n              <input ref={register} name=\"sgot\" className=\"input is-small\" type=\"text\" />\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">SGPT</label>\n            <div className=\"control\">\n              <input ref={register} name=\"sgpt\" className=\"input is-small\" type=\"text\" />\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">OGTT</label>\n            <div className=\"control\">\n              <input ref={register} name=\"ogtt\" className=\"input is-small\" type=\"text\" />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div className=\"columns mt-3\">\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">Alk Phos</label>\n            <p className=\"control is-expanded\">\n              <input ref={register} name=\"alkPhos\" className=\"input is-small\" type=\"text\" />\n            </p>\n          </div>\n        </div>\n      </div>\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">Acid Phos</label>\n            <div className=\"control\">\n              <input ref={register} name=\"acidPhos\" className=\"input is-small\" type=\"text\" />\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">ADH</label>\n            <div className=\"control\">\n              <input ref={register} name=\"adh\" className=\"input is-small\" type=\"text\" />\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">APK</label>\n            <div className=\"control\">\n              <input ref={register} name=\"apk\" className=\"input is-small\" type=\"text\" />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div className=\"columns mt-3\">\n      <div className=\"column\">\n        <div className=\"field-body\">\n          <div className=\"field\">\n            <label className=\"label is-small\">Amylase</label>\n            <p className=\"control is-expanded\">\n              <input ref={register} name=\"amylase\" className=\"input is-small\" type=\"text\" />\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div className=\"field is-horizontal\">\n              <div className=\"field-body\">\n                  <div className=\"field\">\n                      <div className=\"control has-icons-left has-icons-right\">\n                      <textarea className=\"textarea is-small\" ref={register()}  name=\"Recommendation\" type=\"text\" placeholder=\"Recommendation\" />\n                      </div>\n                  </div>\n                  </div>\n                  </div>\n                  <div className=\"field\">\n                  <label className=\" is-small\">\n                           <input  type=\"radio\" name=\"status\" value=\"Draft\"   checked={reportStatus===\"Draft\"||reportStatus===\"Pending\"} onChange={(e)=>{handleChangePart(e)}} disabled={bill_report_status===\"Final\"}/>\n                             <span > Draft</span>\n                            </label> <br/>\n                            <label className=\" is-small\">\n                           <input type=\"radio\" name=\"status\"  value=\"Final\"   checked={reportStatus===\"Final\"} onChange={(e)=>handleChangePart(e)} disabled={bill_report_status===\"Final\"}/>\n                           <span> Final </span>\n                            </label>\n                            </div> \n              \n      <div className=\"field  is-grouped mt-2\" >\n        <p className=\"control\">\n                    <button type=\"submit\" className=\"button is-success is-small\" disabled={bill_report_status===\"Final\"} >\n                    {bill_report_status===\"Pending\"? \"Save\":\"Update\"}\n                    </button>\n                </p>\n               {/*  <p className=\"control\">\n                    <button className=\"button is-warning is-small\" onClick={(e)=>e.target.reset()}>\n                        Cancel\n                    </button>\n                </p> */}\n             \n          </div>\n</form></>\n  )\n}\n\nexport  function Microbiology() {\n  const { register, handleSubmit,setValue} = useForm(); //, watch, errors, reset \n  const [error, setError] =useState(false)\n  const [success, setSuccess] =useState(false)\n  const [message,setMessage] = useState(\"\")\n  // eslint-disable-next-line\n  const [facility,setFacility] = useState()\n  const dClientServ=client.service('clinicaldocument')\n  //const history = useHistory()\n  const {user} = useContext(UserContext) //,setUser\n  // eslint-disable-next-line\n  const [currentUser,setCurrentUser] = useState()\n  const {state, setState}=useContext(ObjectContext)\n\n  const [docStatus,setDocStatus] = useState(\"Draft\")\n  const [reportStatus,setReportStatus] = useState(\"Draft\")\n  const ClientServ=client.service('labresults')\n  const order=state.financeModule.selectedFinance\n  const bill_report_status=state.financeModule.report_status\n\n  let draftDoc=state.DocumentClassModule.selectedDocumentClass.document\n\n  useEffect(() => {\n    if (!order.resultDetail?.documentdetail ){\n        setValue(\"Finding\", \"\",  {\n            shouldValidate: true,\n            shouldDirty: true\n        })\n        setValue(\"Recommendation\",\"\",  {\n            shouldValidate: true,\n            shouldDirty: true\n        })\n       // setReportStatus(order.report_status)\n       \n        return\n\n    }\n    if (order.report_status !==\"Pending\"){\n        console.log(order.resultDetail.documentdetail)\n\n        \n       Object.entries(order.resultDetail.documentdetail).map(([keys,value],i)=>(\n        setValue(keys, value,  {\n            shouldValidate: true,\n            shouldDirty: true\n        })\n\n    ))\n\n\n}\n    \n    return () => {\n        \n    }\n}, [order])\n\n  const getSearchfacility=(obj)=>{\n      setValue(\"facility\", obj._id,  {\n          shouldValidate: true,\n          shouldDirty: true\n      })\n  }\n  \n  useEffect(() => {\n      setCurrentUser(user)\n      //console.log(currentUser)\n      return () => {\n      \n      }\n  }, [user])\n\n//check user for facility or get list of facility  \n  useEffect(()=>{\n      //setFacility(user.activeClient.FacilityId)//\n    if (!user.stacker){\n     /*    console.log(currentUser)\n      setValue(\"facility\", user.currentEmployee.facilityDetail._id,  {\n          shouldValidate: true,\n          shouldDirty: true\n      })  */\n    }\n  })\n\n  const onSubmit = async(data,e) =>{\n    e.preventDefault();\n    setMessage(\"\")\n    setError(false)\n    setSuccess(false)\n    let document={}\n     // data.createdby=user._id\n    //  console.log(data);\n      if (user.currentEmployee){\n      document.facility=user.currentEmployee.facilityDetail._id \n      document.facilityname=user.currentEmployee.facilityDetail.facilityName // or from facility dropdown\n      }\n     document.documentdetail=data\n     document.documentType=\"Diagnostic Result\"\n      document.documentname= `${order.serviceInfo.name} Result`\n     // document.documentClassId=state.DocumentClassModule.selectedDocumentClass._id\n      document.location=state.employeeLocation.locationName +\" \"+ state.employeeLocation.locationType\n      document.locationId=state.employeeLocation.locationId\n      document.client=order.orderInfo.orderObj.clientId\n      document.createdBy=user._id\n      document.createdByname=user.firstname+ \" \"+user.lastname\n      document.status=reportStatus\n      document.billId=order._id\n     // document.formType=choosenForm\n    //  console.log(document)\n    //  console.log(order)\n\n      if (\n        document.location===undefined ||!document.createdByname || !document.facilityname ){\n        toast({\n            message: ' Documentation data missing, requires location and facility details' ,\n            type: 'is-danger',\n            dismissible: true,\n            pauseOnHover: true,\n          })\n          return\n      }\n\n    if (bill_report_status===\"Pending\"){\n      document.labFormType=state.labFormType\n        ClientServ.create(document)\n        .then((res)=>{\n              \n                e.target.reset();\n              \n                setSuccess(true)\n                toast({\n                    message: 'Lab Result created succesfully',\n                    type: 'is-success',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n                  setSuccess(false)\n            })\n            .catch((err)=>{\n                toast({\n                    message: 'Error creating Lab Result ' + err,\n                    type: 'is-danger',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n            })  \n    }\n\n    if (bill_report_status===\"Draft\"){\n     ClientServ.patch(order.resultDetail._id, document)\n    .then((res)=>{\n          \n            e.target.reset();\n          \n            setSuccess(true)\n            toast({\n                message: 'Lab Result updated succesfully',\n                type: 'is-success',\n                dismissible: true,\n                pauseOnHover: true,\n              })\n              setSuccess(false)\n        })\n        .catch((err)=>{\n            toast({\n                message: 'Error updating Lab Result ' + err,\n                type: 'is-danger',\n                dismissible: true,\n                pauseOnHover: true,\n              })\n        }) \n    }\n    const    newProductEntryModule={\n        selectedFinance:order,\n        show :'show',\n       // report_status:order.report_status\n       \n    }\n  await setState((prevstate)=>({...prevstate, financeModule:newProductEntryModule}))\n  } \n\n\nconst handleChangeStatus=async (e)=>{\n  // await setAppointment_type(e.target.value)\n \n  setDocStatus(e.target.value)\n\n  //console.log(e.target.value)\n\n  }\n  const handleChangePart=async (e)=>{\n    console.log(e.target.value)\n    await setReportStatus(e.target.value)\n\n}\n  return (\n    <><form onSubmit={handleSubmit(onSubmit)}>\n    <div className=\"field\">\n      <label className=\"label is-small\">MICROBIOLOGY</label>\n    <label class=\"checkbox me-3\">\n      <input ref={register} name=\"urinalysisOrMicro\" type=\"checkbox\" />\n      <span className=\"ms-2 is-small\">Urinanalysis/Microscope</span>\n    </label>\n    <label class=\"checkbox me-3\">\n      <input ref={register} name=\"stoolAnalysis\" type=\"checkbox\" />\n      <span className=\"ms-2 is-small\">Stool Analysis</span>\n    </label>\n    <label class=\"checkbox me-3\">\n      <input ref={register} name=\"stoolOccult\" type=\"checkbox\" />\n      <span className=\"ms-2 is-small\">Stool Occult</span>\n    </label>\n    <label class=\"checkbox me-3\">\n      <input ref={register} name=\"semenAnalysis\" type=\"checkbox\" />\n      <span className=\"ms-2 is-small\">Semen Analysis</span>\n    </label>\n    <label class=\"checkbox me-3\">\n      <input ref={register} name=\"gramStain\" type=\"checkbox\" />\n      <span className=\"ms-2 is-small\">Gram Stain</span>\n    </label>\n    <label class=\"checkbox me-3\">\n      <input ref={register} name=\"znStain\" type=\"checkbox\" />\n      <span className=\"ms-2 is-small\">ZN Stain</span>\n    </label>\n    <label class=\"checkbox me-3\">\n      <input ref={register} name=\"mantouxTest\" type=\"checkbox\" />\n      <span className=\"ms-2 is-small\">Mantoux Test</span>\n    </label>\n    <label class=\"checkbox me-3\">\n      <input ref={register} name=\"fungalStudies\" type=\"checkbox\" />\n      <span className=\"ms-2 is-small\">Fungal Studies</span>\n    </label>\n    <label class=\"checkbox me-3\">\n      <input ref={register} name=\"urine\" type=\"checkbox\" />\n      <span className=\"ms-2 is-small\">M/C/S Urine</span>\n    </label>\n    <label class=\"checkbox me-3\">\n      <input ref={register} name=\"throatSwab\" type=\"checkbox\" />\n      <span className=\"ms-2 is-small\">M/C/S Throat Swab</span>\n    </label>\n    <label class=\"checkbox me-3\">\n      <input ref={register} name=\"aspirateAndDischarge\" type=\"checkbox\" />\n      <span className=\"ms-2 is-small\">C/S/PUS/Aspirate/Discharge</span>\n    </label>\n    <label class=\"checkbox me-3\">\n      <input ref={register} name=\"woundSwab\" type=\"checkbox\" />\n      <span className=\"ms-2 is-small\">C/S Wound Swab</span>\n    </label>\n    <label class=\"checkbox me-3\">\n      <input ref={register} name=\"semen\" type=\"checkbox\" />\n      <span className=\"ms-2 is-small\">M/C/S Semen</span>\n    </label>\n    <label class=\"checkbox me-3\">\n      <input ref={register} name=\"fluid\" type=\"checkbox\" />\n      <span className=\"ms-2 is-small\">M/C/S Fluid</span>\n    </label>\n    <label class=\"checkbox me-3\">\n      <input ref={register} name=\"stool2\" type=\"checkbox\" />\n      <span className=\"ms-2 is-small\">M/C/S Stool</span>\n    </label>\n    <label class=\"checkbox me-3\">\n      <input ref={register} name=\"endocerviclSwab\" type=\"checkbox\" />\n      <span className=\"ms-2 is-small\">C/S Endocervical Swab</span>\n    </label>\n    <label class=\"checkbox me-3\">\n      <input ref={register} name=\"hvs\" type=\"checkbox\" />\n      <span className=\"ms-2 is-small\">M/C/S HVS</span>\n    </label>\n    <label class=\"checkbox me-3\">\n      <input ref={register} name=\"sputum\" type=\"checkbox\" />\n      <span className=\"ms-2 is-small\">M/C/S Sputum</span>\n    </label>\n    <label class=\"checkbox me-3\">\n      <input ref={register} name=\"csBld\" type=\"checkbox\" />\n      <span className=\"ms-2 is-small\">C/S Blood</span>\n    </label>\n    <label class=\"checkbox me-3\">\n      <input ref={register} name=\"microfilariaSkin\" type=\"checkbox\" />\n      <span className=\"ms-2 is-small\">Microfilaria-Skin Snip</span>\n    </label>\n    <label class=\"checkbox me-3\">\n      <input ref={register} name=\"otherSwab\" type=\"checkbox\" />\n      <span className=\"ms-2 is-small\">Other Swab (Specify)</span>\n    </label>\n    <label class=\"checkbox me-3\">\n      <input ref={register} name=\"faecalOccultBld\" type=\"checkbox\" />\n      <span className=\"ms-2 is-small\">Faecal Occult Blood</span>\n    </label>\n    <label class=\"checkbox me-3\">\n      <input ref={register} name=\"salmoOrshigella\" type=\"checkbox\" />\n      <span className=\"ms-2 is-small\">Salmonella/Shigella</span>\n    </label>\n  </div>\n  <div className=\"field is-horizontal\">\n  <div className=\"field-body\">\n      <div className=\"field\">\n          <div className=\"control has-icons-left has-icons-right\">\n          <textarea className=\"textarea is-small\" ref={register()}  name=\"Recommendation\" type=\"text\" placeholder=\"Recommendation\" />\n          </div>\n      </div>\n      </div>\n      </div>\n      <div className=\"field\">\n                  <label className=\" is-small\">\n                           <input  type=\"radio\" name=\"status\" value=\"Draft\"   checked={reportStatus===\"Draft\"||reportStatus===\"Pending\"} onChange={(e)=>{handleChangePart(e)}} disabled={bill_report_status===\"Final\"}/>\n                             <span > Draft</span>\n                            </label> <br/>\n                            <label className=\" is-small\">\n                           <input type=\"radio\" name=\"status\"  value=\"Final\"   checked={reportStatus===\"Final\"} onChange={(e)=>handleChangePart(e)} disabled={bill_report_status===\"Final\"}/>\n                           <span> Final </span>\n                            </label>\n                            </div> \n  \n<div className=\"field  is-grouped mt-2\" >\n  <p className=\"control\">\n                    <button type=\"submit\" className=\"button is-success is-small\" disabled={bill_report_status===\"Final\"} >\n                    {bill_report_status===\"Pending\"? \"Save\":\"Update\"}\n                    </button>\n                </p>\n               {/*  <p className=\"control\">\n                    <button className=\"button is-warning is-small\" onClick={(e)=>e.target.reset()}>\n                        Cancel\n                    </button>\n                </p> */}\n \n</div>\n</form></>\n  )\n}\n\nexport  function Urine() {\n  const { register, handleSubmit,setValue} = useForm(); //, watch, errors, reset \n  const [error, setError] =useState(false)\n  const [success, setSuccess] =useState(false)\n  const [message,setMessage] = useState(\"\")\n  // eslint-disable-next-line\n  const [facility,setFacility] = useState()\n  const dClientServ=client.service('clinicaldocument')\n  //const history = useHistory()\n  const {user} = useContext(UserContext) //,setUser\n  // eslint-disable-next-line\n  const [currentUser,setCurrentUser] = useState()\n  const {state, setState}=useContext(ObjectContext)\n  const [reportStatus,setReportStatus] = useState(\"Draft\")\n  const ClientServ=client.service('labresults')\n  const order=state.financeModule.selectedFinance\n  const bill_report_status=state.financeModule.report_status\n\n  const [docStatus,setDocStatus] = useState(\"Draft\")\n\n  let draftDoc=state.DocumentClassModule.selectedDocumentClass.document\n\n  useEffect(() => {\n    if (!order.resultDetail?.documentdetail ){\n        setValue(\"Finding\", \"\",  {\n            shouldValidate: true,\n            shouldDirty: true\n        })\n        setValue(\"Recommendation\",\"\",  {\n            shouldValidate: true,\n            shouldDirty: true\n        })\n       // setReportStatus(order.report_status)\n       \n        return\n\n    }\n    if (order.report_status !==\"Pending\"){\n        console.log(order.resultDetail.documentdetail)\n\n        \n       Object.entries(order.resultDetail.documentdetail).map(([keys,value],i)=>(\n        setValue(keys, value,  {\n            shouldValidate: true,\n            shouldDirty: true\n        })\n\n    ))\n\n\n}\n    \n    return () => {\n        \n    }\n}, [order])\n\n  const getSearchfacility=(obj)=>{\n      setValue(\"facility\", obj._id,  {\n          shouldValidate: true,\n          shouldDirty: true\n      })\n  }\n  \n  useEffect(() => {\n      setCurrentUser(user)\n      //console.log(currentUser)\n      return () => {\n      \n      }\n  }, [user])\n\n//check user for facility or get list of facility  \n  useEffect(()=>{\n      //setFacility(user.activeClient.FacilityId)//\n    if (!user.stacker){\n     /*    console.log(currentUser)\n      setValue(\"facility\", user.currentEmployee.facilityDetail._id,  {\n          shouldValidate: true,\n          shouldDirty: true\n      })  */\n    }\n  })\n  const onSubmit = async(data,e) =>{\n    e.preventDefault();\n    setMessage(\"\")\n    setError(false)\n    setSuccess(false)\n    let document={}\n     // data.createdby=user._id\n    //  console.log(data);\n      if (user.currentEmployee){\n      document.facility=user.currentEmployee.facilityDetail._id \n      document.facilityname=user.currentEmployee.facilityDetail.facilityName // or from facility dropdown\n      }\n     document.documentdetail=data\n     document.documentType=\"Diagnostic Result\"\n      document.documentname= `${order.serviceInfo.name} Result`\n     // document.documentClassId=state.DocumentClassModule.selectedDocumentClass._id\n      document.location=state.employeeLocation.locationName +\" \"+ state.employeeLocation.locationType\n      document.locationId=state.employeeLocation.locationId\n      document.client=order.orderInfo.orderObj.clientId\n      document.createdBy=user._id\n      document.createdByname=user.firstname+ \" \"+user.lastname\n      document.status=reportStatus\n      document.billId=order._id\n     // document.formType=choosenForm\n    //  console.log(document)\n    //  console.log(order)\n\n      if (\n        document.location===undefined ||!document.createdByname || !document.facilityname ){\n        toast({\n            message: ' Documentation data missing, requires location and facility details' ,\n            type: 'is-danger',\n            dismissible: true,\n            pauseOnHover: true,\n          })\n          return\n      }\n\n    if (bill_report_status===\"Pending\"){\n      document.labFormType=state.labFormType\n        ClientServ.create(document)\n        .then((res)=>{\n              \n                e.target.reset();\n              \n                setSuccess(true)\n                toast({\n                    message: 'Lab Result created succesfully',\n                    type: 'is-success',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n                  setSuccess(false)\n            })\n            .catch((err)=>{\n                toast({\n                    message: 'Error creating Lab Result ' + err,\n                    type: 'is-danger',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n            })  \n    }\n\n    if (bill_report_status===\"Draft\"){\n     ClientServ.patch(order.resultDetail._id, document)\n    .then((res)=>{\n          \n            e.target.reset();\n          \n            setSuccess(true)\n            toast({\n                message: 'Lab Result updated succesfully',\n                type: 'is-success',\n                dismissible: true,\n                pauseOnHover: true,\n              })\n              setSuccess(false)\n        })\n        .catch((err)=>{\n            toast({\n                message: 'Error updating Lab Result ' + err,\n                type: 'is-danger',\n                dismissible: true,\n                pauseOnHover: true,\n              })\n        }) \n    }\n    const    newProductEntryModule={\n        selectedFinance:order,\n        show :'show',\n       // report_status:order.report_status\n       \n    }\n  await setState((prevstate)=>({...prevstate, financeModule:newProductEntryModule}))\n  } \n\n\nconst handleChangeStatus=async (e)=>{\n  // await setAppointment_type(e.target.value)\n \n  setDocStatus(e.target.value)\n\n  //console.log(e.target.value)\n\n  }\n  const handleChangePart=async (e)=>{\n    console.log(e.target.value)\n    await setReportStatus(e.target.value)\n\n}\n  return (\n    <><form onSubmit={handleSubmit(onSubmit)}>\n     <label className=\"label is-small\" >URINE</label>\n    <div className=\"columns\">\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">Macroscopy</label>\n            <p className=\"control is-expanded\">\n              <input ref={register} name=\"macroscopy\" className=\"input is-small\" type=\"text\" />\n            </p>\n          </div>\n        </div>\n      </div>\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">Microscopy</label>\n            <p className=\"control is-expanded\">\n              <input ref={register} name=\"microscopy\" className=\"input is-small\" type=\"text\" />\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div className=\"columns\">\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">Pus Cells/hof</label>\n            <p className=\"control is-expanded\">\n              <input ref={register} name=\"pusCellsOrhof\" className=\"input is-small\" type=\"text\" />\n            </p>\n          </div>\n        </div>\n      </div>\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">Rbs/hpf</label>\n            <p className=\"control is-expanded\">\n              <input ref={register} name=\"rbsOrHpf\" className=\"input is-small\" type=\"text\" />\n            </p>\n          </div>\n        </div>\n      </div>\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">Yeast Cells</label>\n            <p className=\"control is-expanded\">\n              <input ref={register} name=\"yeastCells\" className=\"input is-small\" type=\"text\" />\n            </p>\n          </div>\n        </div>\n      </div>\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">Bacteria</label>\n            <p className=\"control is-expanded\">\n              <input ref={register} name=\"bacteria\" className=\"input is-small\" type=\"text\" />\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div className=\"columns\">\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">Casts</label>\n            <p className=\"control is-expanded\">\n              <input ref={register} name=\"casts\" className=\"input is-small\" type=\"text\" />\n            </p>\n          </div>\n        </div>\n      </div>\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">Epith Cells</label>\n            <p className=\"control is-expanded\">\n              <input ref={register} name=\"epithCells\" className=\"input is-small\" type=\"text\" />\n            </p>\n          </div>\n        </div>\n      </div>\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">Crystals</label>\n            <p className=\"control is-expanded\">\n              <input ref={register} name=\"crystals\" className=\"input is-small\" type=\"text\" />\n            </p>\n          </div>\n        </div>\n      </div>\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">T.V</label>\n            <p className=\"control is-expanded\">\n              <input ref={register} name=\"tv\" className=\"input is-small\" type=\"text\" />\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div className=\"field\">\n      <label className=\"label is-small\">Culture Yielded</label>\n      <div className=\"control\">\n        <textarea ref={register} name=\"cultureYielded\" className=\"textarea is-small\"></textarea>\n      </div>\n    </div>\n    <div className=\"field\">\n      <label className=\"label is-small\">Malaria Parasite</label>\n      <div className=\"control\">\n        <textarea ref={register} name=\"malariaParasite\" className=\"textarea is-small\"></textarea>\n      </div>\n    </div>\n    <div className=\"field is-horizontal\">\n              <div className=\"field-body\">\n                  <div className=\"field\">\n                      <div className=\"control has-icons-left has-icons-right\">\n                      <textarea className=\"textarea is-small\" ref={register()}  name=\"Recommendation\" type=\"text\" placeholder=\"Recommendation\" />\n                      </div>\n                  </div>\n                  </div>\n                  </div>\n                  <div className=\"field\">\n                  <label className=\" is-small\">\n                           <input  type=\"radio\" name=\"status\" value=\"Draft\"   checked={reportStatus===\"Draft\"||reportStatus===\"Pending\"} onChange={(e)=>{handleChangePart(e)}} disabled={bill_report_status===\"Final\"}/>\n                             <span > Draft</span>\n                            </label> <br/>\n                            <label className=\" is-small\">\n                           <input type=\"radio\" name=\"status\"  value=\"Final\"   checked={reportStatus===\"Final\"} onChange={(e)=>handleChangePart(e)} disabled={bill_report_status===\"Final\"}/>\n                           <span> Final </span>\n                            </label>\n                            </div>  \n              \n      <div className=\"field  is-grouped mt-2\" >\n      <p className=\"control\">\n                    <button type=\"submit\" className=\"button is-success is-small\" disabled={bill_report_status===\"Final\"} >\n                    {bill_report_status===\"Pending\"? \"Save\":\"Update\"}\n                    </button>\n                </p>\n               {/*  <p className=\"control\">\n                    <button className=\"button is-warning is-small\" onClick={(e)=>e.target.reset()}>\n                        Cancel\n                    </button>\n                </p> */}\n          </div>\n    </form></>\n  )\n}\n\nexport  function Urinalysis() {\n  const { register, handleSubmit,setValue} = useForm(); //, watch, errors, reset \n  const [error, setError] =useState(false)\n  const [success, setSuccess] =useState(false)\n  const [message,setMessage] = useState(\"\")\n  // eslint-disable-next-line\n  const [facility,setFacility] = useState()\n  const dClientServ=client.service('clinicaldocument')\n  //const history = useHistory()\n  const {user} = useContext(UserContext) //,setUser\n  // eslint-disable-next-line\n  const [currentUser,setCurrentUser] = useState()\n  const {state, setState}=useContext(ObjectContext)\n  const [reportStatus,setReportStatus] = useState(\"Draft\")\n  const ClientServ=client.service('labresults')\n  const order=state.financeModule.selectedFinance\n  const bill_report_status=state.financeModule.report_status\n\n  const [docStatus,setDocStatus] = useState(\"Draft\")\n\n  let draftDoc=state.DocumentClassModule.selectedDocumentClass.document\n\n  useEffect(() => {\n    if (!order.resultDetail?.documentdetail ){\n        setValue(\"Finding\", \"\",  {\n            shouldValidate: true,\n            shouldDirty: true\n        })\n        setValue(\"Recommendation\",\"\",  {\n            shouldValidate: true,\n            shouldDirty: true\n        })\n       // setReportStatus(order.report_status)\n       \n        return\n\n    }\n    if (order.report_status !==\"Pending\"){\n        console.log(order.resultDetail.documentdetail)\n\n        \n       Object.entries(order.resultDetail.documentdetail).map(([keys,value],i)=>(\n        setValue(keys, value,  {\n            shouldValidate: true,\n            shouldDirty: true\n        })\n\n    ))\n\n\n}\n    \n    return () => {\n        \n    }\n}, [order])\n\n  const getSearchfacility=(obj)=>{\n      setValue(\"facility\", obj._id,  {\n          shouldValidate: true,\n          shouldDirty: true\n      })\n  }\n  \n  useEffect(() => {\n      setCurrentUser(user)\n      //console.log(currentUser)\n      return () => {\n      \n      }\n  }, [user])\n\n//check user for facility or get list of facility  \n  useEffect(()=>{\n      //setFacility(user.activeClient.FacilityId)//\n    if (!user.stacker){\n     /*    console.log(currentUser)\n      setValue(\"facility\", user.currentEmployee.facilityDetail._id,  {\n          shouldValidate: true,\n          shouldDirty: true\n      })  */\n    }\n  })\n  const onSubmit = async(data,e) =>{\n    e.preventDefault();\n    setMessage(\"\")\n    setError(false)\n    setSuccess(false)\n    let document={}\n     // data.createdby=user._id\n    //  console.log(data);\n      if (user.currentEmployee){\n      document.facility=user.currentEmployee.facilityDetail._id \n      document.facilityname=user.currentEmployee.facilityDetail.facilityName // or from facility dropdown\n      }\n     document.documentdetail=data\n     document.documentType=\"Diagnostic Result\"\n      document.documentname= `${order.serviceInfo.name} Result`\n     // document.documentClassId=state.DocumentClassModule.selectedDocumentClass._id\n      document.location=state.employeeLocation.locationName +\" \"+ state.employeeLocation.locationType\n      document.locationId=state.employeeLocation.locationId\n      document.client=order.orderInfo.orderObj.clientId\n      document.createdBy=user._id\n      document.createdByname=user.firstname+ \" \"+user.lastname\n      document.status=reportStatus\n      document.billId=order._id\n     // document.formType=choosenForm\n    //  console.log(document)\n    //  console.log(order)\n\n      if (\n        document.location===undefined ||!document.createdByname || !document.facilityname ){\n        toast({\n            message: ' Documentation data missing, requires location and facility details' ,\n            type: 'is-danger',\n            dismissible: true,\n            pauseOnHover: true,\n          })\n          return\n      }\n\n    if (bill_report_status===\"Pending\"){\n      document.labFormType=state.labFormType\n        ClientServ.create(document)\n        .then((res)=>{\n              \n                e.target.reset();\n              \n                setSuccess(true)\n                toast({\n                    message: 'Lab Result created succesfully',\n                    type: 'is-success',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n                  setSuccess(false)\n            })\n            .catch((err)=>{\n                toast({\n                    message: 'Error creating Lab Result ' + err,\n                    type: 'is-danger',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n            })  \n    }\n\n    if (bill_report_status===\"Draft\"){\n     ClientServ.patch(order.resultDetail._id, document)\n    .then((res)=>{\n          \n            e.target.reset();\n          \n            setSuccess(true)\n            toast({\n                message: 'Lab Result updated succesfully',\n                type: 'is-success',\n                dismissible: true,\n                pauseOnHover: true,\n              })\n              setSuccess(false)\n        })\n        .catch((err)=>{\n            toast({\n                message: 'Error updating Lab Result ' + err,\n                type: 'is-danger',\n                dismissible: true,\n                pauseOnHover: true,\n              })\n        }) \n    }\n    const    newProductEntryModule={\n        selectedFinance:order,\n        show :'show',\n       // report_status:order.report_status\n       \n    }\n  await setState((prevstate)=>({...prevstate, financeModule:newProductEntryModule}))\n  } \n\n\nconst handleChangeStatus=async (e)=>{\n  // await setAppointment_type(e.target.value)\n \n  setDocStatus(e.target.value)\n\n  //console.log(e.target.value)\n\n  }\n\n  const handleChangePart=async (e)=>{\n    console.log(e.target.value)\n    await setReportStatus(e.target.value)\n\n}\n  return (\n    <><form onSubmit={handleSubmit(onSubmit)}>\n     <label className=\"label is-small\" >URINALYSIS</label>\n    <div className=\"columns\">\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">Appearance</label>\n            <p className=\"control is-expanded\">\n              <input ref={register} name=\"appearance\" className=\"input is-small\" type=\"text\" />\n            </p>\n          </div>\n        </div>\n      </div>\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">Color</label>\n            <p className=\"control is-expanded\">\n              <input ref={register} name=\"color\" className=\"input is-small\" type=\"text\" />\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div className=\"columns\">\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">PH</label>\n            <p className=\"control is-expanded\">\n              <input ref={register} name=\"ph\" className=\"input is-small\" type=\"text\" />\n            </p>\n          </div>\n        </div>\n      </div>\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">Protein</label>\n            <p className=\"control is-expanded\">\n              <input ref={register} name=\"protein\" className=\"input is-small\" type=\"text\" />\n            </p>\n          </div>\n        </div>\n      </div>\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">Sugar</label>\n            <p className=\"control is-expanded\">\n              <input ref={register} name=\"sugar\" className=\"input is-small\" type=\"text\" />\n            </p>\n          </div>\n        </div>\n      </div>\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">Ketones</label>\n            <p className=\"control is-expanded\">\n              <input ref={register} name=\"ketones\" className=\"input is-small\" type=\"text\" />\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div className=\"columns\">\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">Blood</label>\n            <p className=\"control is-expanded\">\n              <input ref={register} name=\"blood\" className=\"input is-small\" type=\"text\" />\n            </p>\n          </div>\n        </div>\n      </div>\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">Billirubin</label>\n            <p className=\"control is-expanded\">\n              <input ref={register} name=\"billirubin\" className=\"input is-small\" type=\"text\" />\n            </p>\n          </div>\n        </div>\n      </div>\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">S.G</label>\n            <p className=\"control is-expanded\">\n              <input ref={register} name=\"sg\" className=\"input is-small\" type=\"text\" />\n            </p>\n          </div>\n        </div>\n      </div>\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">Nitrite</label>\n            <p className=\"control is-expanded\">\n              <input ref={register} name=\"nitrite\" className=\"input is-small\" type=\"text\" />\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div className=\"columns\">\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">Urobilin</label>\n            <p className=\"control is-expanded\">\n              <input ref={register} name=\"urobilin\" className=\"input is-small\" type=\"text\" />\n            </p>\n          </div>\n        </div>\n      </div>\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">Urobilinogen</label>\n            <p className=\"control is-expanded\">\n              <input ref={register} name=\"urobilinogin\" className=\"input is-small\" type=\"text\" />\n            </p>\n          </div>\n        </div>\n      </div>\n      <div className=\"column is-half\">\n        <div className=\"field-body\">\n          <div className=\"field is-flex\">\n            <label className=\"label is-small mr-2\">Leucocyte</label>\n            <p className=\"control is-expanded\">\n              <input ref={register} name=\"leucocyte\" className=\"input is-small\" type=\"text\" />\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div className=\"field is-horizontal\">\n              <div className=\"field-body\">\n                  <div className=\"field\">\n                      <div className=\"control has-icons-left has-icons-right\">\n                      <textarea className=\"textarea is-small\" ref={register()}  name=\"Recommendation\" type=\"text\" placeholder=\"Recommendation\" />\n                      </div>\n                  </div>\n                  </div>\n                  </div>\n                  <div className=\"field\">\n                  <label className=\" is-small\">\n                           <input  type=\"radio\" name=\"status\" value=\"Draft\"   checked={reportStatus===\"Draft\"||reportStatus===\"Pending\"} onChange={(e)=>{handleChangePart(e)}} disabled={bill_report_status===\"Final\"}/>\n                             <span > Draft</span>\n                            </label> <br/>\n                            <label className=\" is-small\">\n                           <input type=\"radio\" name=\"status\"  value=\"Final\"   checked={reportStatus===\"Final\"} onChange={(e)=>handleChangePart(e)} disabled={bill_report_status===\"Final\"}/>\n                           <span> Final </span>\n                            </label>\n                            </div> \n              \n      <div className=\"field  is-grouped mt-2\" >\n      <p className=\"control\">\n                    <button type=\"submit\" className=\"button is-success is-small\" disabled={bill_report_status===\"Final\"} >\n                    {bill_report_status===\"Pending\"? \"Save\":\"Update\"}\n                    </button>\n                </p>\n               {/*  <p className=\"control\">\n                    <button className=\"button is-warning is-small\" onClick={(e)=>e.target.reset()}>\n                        Cancel\n                    </button>\n                </p> */}\n             \n          </div>\n    </form></>\n  )\n}\n\nexport  function Stool() {\n  const { register, handleSubmit,setValue} = useForm(); //, watch, errors, reset \n  const [error, setError] =useState(false)\n  const [success, setSuccess] =useState(false)\n  const [message,setMessage] = useState(\"\")\n  // eslint-disable-next-line\n  const [facility,setFacility] = useState()\n  const dClientServ=client.service('clinicaldocument')\n  //const history = useHistory()\n  const {user} = useContext(UserContext) //,setUser\n  // eslint-disable-next-line\n  const [currentUser,setCurrentUser] = useState()\n  const {state, setState}=useContext(ObjectContext)\n  const [reportStatus,setReportStatus] = useState(\"Draft\")\n  const ClientServ=client.service('labresults')\n  const order=state.financeModule.selectedFinance\n  const bill_report_status=state.financeModule.report_status\n\n  const [docStatus,setDocStatus] = useState(\"Draft\")\n\n  let draftDoc=state.DocumentClassModule.selectedDocumentClass.document\n\n  useEffect(() => {\n    if (!order.resultDetail?.documentdetail ){\n        setValue(\"Finding\", \"\",  {\n            shouldValidate: true,\n            shouldDirty: true\n        })\n        setValue(\"Recommendation\",\"\",  {\n            shouldValidate: true,\n            shouldDirty: true\n        })\n       // setReportStatus(order.report_status)\n       \n        return\n\n    }\n    if (order.report_status !==\"Pending\"){\n        console.log(order.resultDetail.documentdetail)\n\n        \n       Object.entries(order.resultDetail.documentdetail).map(([keys,value],i)=>(\n        setValue(keys, value,  {\n            shouldValidate: true,\n            shouldDirty: true\n        })\n\n    ))\n\n\n}\n    \n    return () => {\n        \n    }\n}, [order])\n\n  const getSearchfacility=(obj)=>{\n      setValue(\"facility\", obj._id,  {\n          shouldValidate: true,\n          shouldDirty: true\n      })\n  }\n  \n  useEffect(() => {\n      setCurrentUser(user)\n      //console.log(currentUser)\n      return () => {\n      \n      }\n  }, [user])\n\n//check user for facility or get list of facility  \n  useEffect(()=>{\n      //setFacility(user.activeClient.FacilityId)//\n    if (!user.stacker){\n     /*    console.log(currentUser)\n      setValue(\"facility\", user.currentEmployee.facilityDetail._id,  {\n          shouldValidate: true,\n          shouldDirty: true\n      })  */\n    }\n  })\n\n  const onSubmit = async(data,e) =>{\n    e.preventDefault();\n    setMessage(\"\")\n    setError(false)\n    setSuccess(false)\n    let document={}\n     // data.createdby=user._id\n    //  console.log(data);\n      if (user.currentEmployee){\n      document.facility=user.currentEmployee.facilityDetail._id \n      document.facilityname=user.currentEmployee.facilityDetail.facilityName // or from facility dropdown\n      }\n     document.documentdetail=data\n     document.documentType=\"Diagnostic Result\"\n      document.documentname= `${order.serviceInfo.name} Result`\n     // document.documentClassId=state.DocumentClassModule.selectedDocumentClass._id\n      document.location=state.employeeLocation.locationName +\" \"+ state.employeeLocation.locationType\n      document.locationId=state.employeeLocation.locationId\n      document.client=order.orderInfo.orderObj.clientId\n      document.createdBy=user._id\n      document.createdByname=user.firstname+ \" \"+user.lastname\n      document.status=reportStatus\n      document.billId=order._id\n     // document.formType=choosenForm\n    //  console.log(document)\n    //  console.log(order)\n\n      if (\n        document.location===undefined ||!document.createdByname || !document.facilityname ){\n        toast({\n            message: ' Documentation data missing, requires location and facility details' ,\n            type: 'is-danger',\n            dismissible: true,\n            pauseOnHover: true,\n          })\n          return\n      }\n\n    if (bill_report_status===\"Pending\"){\n      document.labFormType=state.labFormType\n        ClientServ.create(document)\n        .then((res)=>{\n              \n                e.target.reset();\n              \n                setSuccess(true)\n                toast({\n                    message: 'Lab Result created succesfully',\n                    type: 'is-success',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n                  setSuccess(false)\n            })\n            .catch((err)=>{\n                toast({\n                    message: 'Error creating Lab Result ' + err,\n                    type: 'is-danger',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n            })  \n    }\n\n    if (bill_report_status===\"Draft\"){\n     ClientServ.patch(order.resultDetail._id, document)\n    .then((res)=>{\n          \n            e.target.reset();\n          \n            setSuccess(true)\n            toast({\n                message: 'Lab Result updated succesfully',\n                type: 'is-success',\n                dismissible: true,\n                pauseOnHover: true,\n              })\n              setSuccess(false)\n        })\n        .catch((err)=>{\n            toast({\n                message: 'Error updating Lab Result ' + err,\n                type: 'is-danger',\n                dismissible: true,\n                pauseOnHover: true,\n              })\n        }) \n    }\n    const    newProductEntryModule={\n        selectedFinance:order,\n        show :'show',\n       // report_status:order.report_status\n       \n    }\n  await setState((prevstate)=>({...prevstate, financeModule:newProductEntryModule}))\n  } \n\nconst handleChangeStatus=async (e)=>{\n  // await setAppointment_type(e.target.value)\n \n  setDocStatus(e.target.value)\n\n  //console.log(e.target.value)\n\n  }\n  const handleChangePart=async (e)=>{\n    console.log(e.target.value)\n    await setReportStatus(e.target.value)\n\n}\n  return (\n    <><form onSubmit={handleSubmit(onSubmit)}>\n     <label className=\"label is-small\" >STOOL</label>\n    <div className=\"field\">\n      <label className=\"label is-small\">Macro</label>\n      <div className=\"control\">\n        <textarea ref={register} name=\"macro\" className=\"textarea is-small\"></textarea>\n      </div>\n    </div>\n    <div className=\"field\">\n      <label className=\"label is-small\">Micro</label>\n      <div className=\"control\">\n        <textarea ref={register} name=\"micro\" className=\"textarea is-small\"></textarea>\n      </div>\n    </div>\n    <div className=\"field\">\n      <label className=\"label is-small\">Culture</label>\n      <div className=\"control\">\n        <textarea ref={register} name=\"culture2\" className=\"textarea is-small\"></textarea>\n      </div>\n    </div>\n    <div className=\"field is-horizontal\">\n              <div className=\"field-body\">\n                  <div className=\"field\">\n                      <div className=\"control has-icons-left has-icons-right\">\n                      <textarea className=\"textarea is-small\" ref={register()}  name=\"Recommendation\" type=\"text\" placeholder=\"Recommendation\" />\n                      </div>\n                  </div>\n                  </div>\n                  </div>\n                  <div className=\"field\">\n                  <label className=\" is-small\">\n                           <input  type=\"radio\" name=\"status\" value=\"Draft\"   checked={reportStatus===\"Draft\"||reportStatus===\"Pending\"} onChange={(e)=>{handleChangePart(e)}} disabled={bill_report_status===\"Final\"}/>\n                             <span > Draft</span>\n                            </label> <br/>\n                            <label className=\" is-small\">\n                           <input type=\"radio\" name=\"status\"  value=\"Final\"   checked={reportStatus===\"Final\"} onChange={(e)=>handleChangePart(e)} disabled={bill_report_status===\"Final\"}/>\n                           <span> Final </span>\n                            </label>\n                            </div> \n              \n      <div className=\"field  is-grouped mt-2\" >\n      <p className=\"control\">\n                    <button type=\"submit\" className=\"button is-success is-small\" disabled={bill_report_status===\"Final\"} >\n                    {bill_report_status===\"Pending\"? \"Save\":\"Update\"}\n                    </button>\n                </p>\n               {/*  <p className=\"control\">\n                    <button className=\"button is-warning is-small\" onClick={(e)=>e.target.reset()}>\n                        Cancel\n                    </button>\n                </p> */}\n             \n          </div>\n    </form></>\n  )\n}\n\nexport  function HVS() {\n  const { register, handleSubmit,setValue} = useForm(); //, watch, errors, reset \n  const [error, setError] =useState(false)\n  const [success, setSuccess] =useState(false)\n  const [message,setMessage] = useState(\"\")\n  // eslint-disable-next-line\n  const [facility,setFacility] = useState()\n  const dClientServ=client.service('clinicaldocument')\n  //const history = useHistory()\n  const {user} = useContext(UserContext) //,setUser\n  // eslint-disable-next-line\n  const [currentUser,setCurrentUser] = useState()\n  const {state, setState}=useContext(ObjectContext)\n  const [reportStatus,setReportStatus] = useState(\"Draft\")\n  const ClientServ=client.service('labresults')\n  const order=state.financeModule.selectedFinance\n  const bill_report_status=state.financeModule.report_status\n\n  const [docStatus,setDocStatus] = useState(\"Draft\")\n\n  let draftDoc=state.DocumentClassModule.selectedDocumentClass.document\n\n  useEffect(() => {\n    if (!order.resultDetail?.documentdetail ){\n        setValue(\"Finding\", \"\",  {\n            shouldValidate: true,\n            shouldDirty: true\n        })\n        setValue(\"Recommendation\",\"\",  {\n            shouldValidate: true,\n            shouldDirty: true\n        })\n       // setReportStatus(order.report_status)\n       \n        return\n\n    }\n    if (order.report_status !==\"Pending\"){\n        console.log(order.resultDetail.documentdetail)\n\n        \n       Object.entries(order.resultDetail.documentdetail).map(([keys,value],i)=>(\n        setValue(keys, value,  {\n            shouldValidate: true,\n            shouldDirty: true\n        })\n\n    ))\n\n\n}\n    \n    return () => {\n        \n    }\n}, [order])\n\n  const getSearchfacility=(obj)=>{\n      setValue(\"facility\", obj._id,  {\n          shouldValidate: true,\n          shouldDirty: true\n      })\n  }\n  \n  useEffect(() => {\n      setCurrentUser(user)\n      //console.log(currentUser)\n      return () => {\n      \n      }\n  }, [user])\n\n//check user for facility or get list of facility  \n  useEffect(()=>{\n      //setFacility(user.activeClient.FacilityId)//\n    if (!user.stacker){\n     /*    console.log(currentUser)\n      setValue(\"facility\", user.currentEmployee.facilityDetail._id,  {\n          shouldValidate: true,\n          shouldDirty: true\n      })  */\n    }\n  })\n\n  const onSubmit = async(data,e) =>{\n    e.preventDefault();\n    setMessage(\"\")\n    setError(false)\n    setSuccess(false)\n    let document={}\n     // data.createdby=user._id\n    //  console.log(data);\n      if (user.currentEmployee){\n      document.facility=user.currentEmployee.facilityDetail._id \n      document.facilityname=user.currentEmployee.facilityDetail.facilityName // or from facility dropdown\n      }\n     document.documentdetail=data\n     document.documentType=\"Diagnostic Result\"\n      document.documentname= `${order.serviceInfo.name} Result`\n     // document.documentClassId=state.DocumentClassModule.selectedDocumentClass._id\n      document.location=state.employeeLocation.locationName +\" \"+ state.employeeLocation.locationType\n      document.locationId=state.employeeLocation.locationId\n      document.client=order.orderInfo.orderObj.clientId\n      document.createdBy=user._id\n      document.createdByname=user.firstname+ \" \"+user.lastname\n      document.status=reportStatus\n      document.billId=order._id\n     // document.formType=choosenForm\n    //  console.log(document)\n    //  console.log(order)\n\n      if (\n        document.location===undefined ||!document.createdByname || !document.facilityname ){\n        toast({\n            message: ' Documentation data missing, requires location and facility details' ,\n            type: 'is-danger',\n            dismissible: true,\n            pauseOnHover: true,\n          })\n          return\n      }\n\n    if (bill_report_status===\"Pending\"){\n      document.labFormType=state.labFormType\n        ClientServ.create(document)\n        .then((res)=>{\n              \n                e.target.reset();\n              \n                setSuccess(true)\n                toast({\n                    message: 'Lab Result created succesfully',\n                    type: 'is-success',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n                  setSuccess(false)\n            })\n            .catch((err)=>{\n                toast({\n                    message: 'Error creating Lab Result ' + err,\n                    type: 'is-danger',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n            })  \n    }\n\n    if (bill_report_status===\"Draft\"){\n     ClientServ.patch(order.resultDetail._id, document)\n    .then((res)=>{\n          \n            e.target.reset();\n          \n            setSuccess(true)\n            toast({\n                message: 'Lab Result updated succesfully',\n                type: 'is-success',\n                dismissible: true,\n                pauseOnHover: true,\n              })\n              setSuccess(false)\n        })\n        .catch((err)=>{\n            toast({\n                message: 'Error updating Lab Result ' + err,\n                type: 'is-danger',\n                dismissible: true,\n                pauseOnHover: true,\n              })\n        }) \n    }\n    const    newProductEntryModule={\n        selectedFinance:order,\n        show :'show',\n       // report_status:order.report_status\n       \n    }\n  await setState((prevstate)=>({...prevstate, financeModule:newProductEntryModule}))\n  } \n\n\n  const handleChangePart=async (e)=>{\n      console.log(e.target.value)\n       setReportStatus(e.target.value)\n\n  }\n\n  useEffect(() => {\n      if (!order.resultDetail?.documentdetail ){\n          setValue(\"Finding\", \"\",  {\n              shouldValidate: true,\n              shouldDirty: true\n          })\n          setValue(\"Recommendation\",\"\",  {\n              shouldValidate: true,\n              shouldDirty: true\n          })\n         // setReportStatus(order.report_status)\n         \n          return\n\n      }\n      if (order.report_status !==\"Pending\"){\n          console.log(order.resultDetail.documentdetail)\n\n          \n         Object.entries(order.resultDetail.documentdetail).map(([keys,value],i)=>(\n          setValue(keys, value,  {\n              shouldValidate: true,\n              shouldDirty: true\n          })\n\n      ))\n\n  \n  }\n      \n      return () => {\n          \n      }\n  }, [order])\n  return (\n    <><form onSubmit={handleSubmit(onSubmit)}>\n      <label className=\"label is-small\">HVS CULTURE</label>\n    <label className=\"label is-small mt-3\">Wet Prep</label>\n    \n        <div className=\"columns\">\n          <div className=\"column is-half\">\n            <div className=\"field-body mb-1\">\n              <div className=\"field is-flex \">\n                <label className=\"label is-small mr-2\">Pus cells' hpf</label>\n                <p className=\"control is-expanded\">\n                  <input ref={register} name=\"pusCells\" className=\"input is-small\" type=\"text\" />\n                </p>\n              </div>\n            </div>\n          \n            <div className=\"field-body mb-1\">\n              <div className=\"field is-flex\">\n                <label className=\"label is-small mr-2\">Rbcs/hpf</label>\n                <p className=\"control is-expanded\">\n                  <input ref={register} name=\"rbcsOrHpf\" className=\"input is-small\" type=\"text\" />\n                </p>\n              </div>\n            </div>\n          \n            <div className=\"field-body mb-1\">\n              <div className=\"field is-flex\">\n                <label className=\"label is-small mr-2\">Yeast Cells</label>\n                <p className=\"control is-expanded\">\n                  <input ref={register} name=\"yeastCells\" className=\"input is-small\" type=\"text\" />\n                </p>\n              </div>\n            </div>\n            <div className=\"field-body mb-1\">\n              <div className=\"field is-flex\">\n                <label className=\"label is-small mr-2\">Bacteria</label>\n                <p className=\"control is-expanded\">\n                  <input ref={register} name=\"bacteria2\" className=\"input is-small\" type=\"text\" />\n                </p>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"column is-half\">\n            <div className=\"field-body mb-1\">\n              <div className=\"field is-flex\">\n                <label className=\"label is-small mr-2\">Casts</label>\n                <p className=\"control is-expanded\">\n                  <input ref={register} name=\"casts\" className=\"input is-small\" type=\"text\" />\n                </p>\n              </div>\n            </div>\n       \n            <div className=\"field-body mb-1\">\n              <div className=\"field is-flex\">\n                <label className=\"label is-small mr-2\">Epith Cells</label>\n                <p className=\"control is-expanded\">\n                  <input ref={register} name=\"epithCells2\" className=\"input is-small\" type=\"text\" />\n                </p>\n              </div>\n            </div>\n        \n            <div className=\"field-body mb-1\">\n              <div className=\"field is-flex\">\n                <label className=\"label is-small mr-2\">Crystals</label>\n                <p className=\"control is-expanded\">\n                  <input ref={register} name=\"crystals2\" className=\"input is-small\" type=\"text\" />\n                </p>\n              </div>\n            </div>\n        \n            <div className=\"field-body\">\n              <div className=\"field is-flex mb-1\">\n                <label className=\"label is-small mr-2\">T.V</label>\n                <p className=\"control is-expanded\">\n                  <input ref={register} name=\"tv2\" className=\"input is-small\" type=\"text\" />\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"field is-horizontal\">\n              <div className=\"field-body mb-1\">\n                  <div className=\"field\">\n                      <div className=\"control has-icons-left has-icons-right\">\n                      <textarea className=\"textarea is-small\" ref={register()}  name=\"Recommendation\" type=\"text\" placeholder=\"Recommendation\" />\n                      </div>\n                  </div>\n                  </div>\n                  </div>\n                  <div className=\"field\">\n                  <label className=\" is-small\">\n                           <input  type=\"radio\" name=\"status\" value=\"Draft\"   checked={reportStatus===\"Draft\"||reportStatus===\"Pending\"} onChange={(e)=>{handleChangePart(e)}} disabled={bill_report_status===\"Final\"}/>\n                             <span > Draft</span>\n                            </label> <br/>\n                            <label className=\" is-small\">\n                           <input type=\"radio\" name=\"status\"  value=\"Final\"   checked={reportStatus===\"Final\"} onChange={(e)=>handleChangePart(e)} disabled={bill_report_status===\"Final\"}/>\n                           <span> Final </span>\n                            </label>\n                            </div>  \n              \n      <div className=\"field  is-grouped mt-2\" >\n      <p className=\"control\">\n                    <button type=\"submit\" className=\"button is-success is-small\" disabled={bill_report_status===\"Final\"} >\n                    {bill_report_status===\"Pending\"? \"Save\":\"Update\"}\n                    </button>\n                </p>\n               {/*  <p className=\"control\">\n                    <button className=\"button is-warning is-small\" onClick={(e)=>e.target.reset()}>\n                        Cancel\n                    </button>\n                </p> */}\n          </div>\n      </form></>\n  )\n}\n\nexport function LabNoteGeneric(){\n  const { register, handleSubmit,setValue} = useForm(); //, watch, errors, reset \n  const [error, setError] =useState(false)\n  const [success, setSuccess] =useState(false)\n  const [message,setMessage] = useState(\"\")\n  // eslint-disable-next-line\n  const [facility,setFacility] = useState()\n  const dClientServ=client.service('clinicaldocument')\n  //const history = useHistory()\n  const {user} = useContext(UserContext) //,setUser\n  // eslint-disable-next-line\n  const [currentUser,setCurrentUser] = useState()\n  const {state, setState}=useContext(ObjectContext)\n\n  const [docStatus,setDocStatus] = useState(\"Draft\")\n  const [reportStatus,setReportStatus] = useState(\"Draft\")\n  const ClientServ=client.service('labresults')\n  const order=state.financeModule.selectedFinance\n  const bill_report_status=state.financeModule.report_status\n\n  let draftDoc=state.DocumentClassModule.selectedDocumentClass.document\n\n  useEffect(() => {\n    if (!order.resultDetail?.documentdetail ){\n        setValue(\"Finding\", \"\",  {\n            shouldValidate: true,\n            shouldDirty: true\n        })\n        setValue(\"Recommendation\",\"\",  {\n            shouldValidate: true,\n            shouldDirty: true\n        })\n       // setReportStatus(order.report_status)\n       \n        return\n\n    }\n    if (order.report_status !==\"Pending\"){\n        console.log(order.resultDetail.documentdetail)\n\n        \n       Object.entries(order.resultDetail.documentdetail).map(([keys,value],i)=>(\n        setValue(keys, value,  {\n            shouldValidate: true,\n            shouldDirty: true\n        })\n\n    ))\n\n\n}\n    \n    return () => {\n        \n    }\n}, [order])\n\n  const getSearchfacility=(obj)=>{\n      setValue(\"facility\", obj._id,  {\n          shouldValidate: true,\n          shouldDirty: true\n      })\n  }\n  \n  useEffect(() => {\n      setCurrentUser(user)\n      //console.log(currentUser)\n      return () => {\n      \n      }\n  }, [user])\n\n//check user for facility or get list of facility  \n  useEffect(()=>{\n      //setFacility(user.activeClient.FacilityId)//\n    if (!user.stacker){\n     /*    console.log(currentUser)\n      setValue(\"facility\", user.currentEmployee.facilityDetail._id,  {\n          shouldValidate: true,\n          shouldDirty: true\n      })  */\n    }\n  })\n\n  const onSubmit = async(data,e) =>{\n    e.preventDefault();\n    setMessage(\"\")\n    setError(false)\n    setSuccess(false)\n    let document={}\n     // data.createdby=user._id\n    //  console.log(data);\n      if (user.currentEmployee){\n      document.facility=user.currentEmployee.facilityDetail._id \n      document.facilityname=user.currentEmployee.facilityDetail.facilityName // or from facility dropdown\n      }\n     document.documentdetail=data\n     document.documentType=\"Diagnostic Result\"\n      document.documentname= `${order.serviceInfo.name} Result`\n     // document.documentClassId=state.DocumentClassModule.selectedDocumentClass._id\n      document.location=state.employeeLocation.locationName +\" \"+ state.employeeLocation.locationType\n      document.locationId=state.employeeLocation.locationId\n      document.client=order.orderInfo.orderObj.clientId\n      document.createdBy=user._id\n      document.createdByname=user.firstname+ \" \"+user.lastname\n      document.status=reportStatus\n      document.billId=order._id\n     // document.formType=choosenForm\n    //  console.log(document)\n    //  console.log(order)\n\n      if (\n        document.location===undefined ||!document.createdByname || !document.facilityname ){\n        toast({\n            message: ' Documentation data missing, requires location and facility details' ,\n            type: 'is-danger',\n            dismissible: true,\n            pauseOnHover: true,\n          })\n          return\n      }\n\n    if (bill_report_status===\"Pending\"){\n      document.labFormType=state.labFormType\n        ClientServ.create(document)\n        .then((res)=>{\n              \n                e.target.reset();\n              \n                setSuccess(true)\n                toast({\n                    message: 'Lab Result created succesfully',\n                    type: 'is-success',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n                  setSuccess(false)\n            })\n            .catch((err)=>{\n                toast({\n                    message: 'Error creating Lab Result ' + err,\n                    type: 'is-danger',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n            })  \n    }\n\n    if (bill_report_status===\"Draft\"){\n     ClientServ.patch(order.resultDetail._id, document)\n    .then((res)=>{\n          \n            e.target.reset();\n          \n            setSuccess(true)\n            toast({\n                message: 'Lab Result updated succesfully',\n                type: 'is-success',\n                dismissible: true,\n                pauseOnHover: true,\n              })\n              setSuccess(false)\n        })\n        .catch((err)=>{\n            toast({\n                message: 'Error updating Lab Result ' + err,\n                type: 'is-danger',\n                dismissible: true,\n                pauseOnHover: true,\n              })\n        }) \n    }\n    const    newProductEntryModule={\n        selectedFinance:order,\n        show :'show',\n       // report_status:order.report_status\n       \n    }\n  await setState((prevstate)=>({...prevstate, financeModule:newProductEntryModule}))\n  } \n\n\nconst handleChangeStatus=async (e)=>{\n  // await setAppointment_type(e.target.value)\n \n  setDocStatus(e.target.value)\n\n  //console.log(e.target.value)\n\n  }\n  const handleChangePart=async (e)=>{\n    console.log(e.target.value)\n    await setReportStatus(e.target.value)\n\n}\n  return (\n      <>\n          \n         \n\n            {/*   <label className=\"label is-size-7\">\n                Client:  {order.orderInfo.orderObj.clientname}\n              </label>\n              <label className=\"label is-size-7\">\n               Test:  {order.serviceInfo.name}\n              </label> */}\n          <form onSubmit={handleSubmit(onSubmit)}>\n          <div className=\"field\">\n                      <p className=\"control has-icons-left has-icons-right\">\n                          <input className=\"input is-small\" ref={register()}  name=\"Investigation\" type=\"text\" placeholder=\"Investigation\" />\n                          <span className=\"icon is-small is-left\">\n                              <i className=\"fas fa-hospital\"></i>\n                          </span>                    \n                      </p>\n                  </div>\n          <div className=\"field is-horizontal\">\n              <div className=\"field-body\">\n                  <div className=\"field\">\n                      <p className=\"control has-icons-left has-icons-right\">\n                          <textarea className=\"textarea is-small\" ref={register()}  name=\"Finding\" type=\"text\" placeholder=\"Findings\" />                 \n                      </p>\n                  </div>\n                  </div>\n                  </div>\n          <div className=\"field is-horizontal\">\n              <div className=\"field-body\">\n                  <div className=\"field\">\n                      <div className=\"control has-icons-left has-icons-right\">\n                      <textarea className=\"textarea is-small\" ref={register()}  name=\"Recommendation\" type=\"text\" placeholder=\"Recommendation\" />\n                      </div>\n                  </div>\n                  </div>\n                  </div>\n                  <div className=\"field\">\n                  <label className=\" is-small\">\n                           <input  type=\"radio\" name=\"status\" value=\"Draft\"   checked={reportStatus===\"Draft\"||reportStatus===\"Pending\"} onChange={(e)=>{handleChangePart(e)}} disabled={bill_report_status===\"Final\"}/>\n                             <span > Draft</span>\n                            </label> <br/>\n                            <label className=\" is-small\">\n                           <input type=\"radio\" name=\"status\"  value=\"Final\"   checked={reportStatus===\"Final\"} onChange={(e)=>handleChangePart(e)} disabled={bill_report_status===\"Final\"}/>\n                           <span> Final </span>\n                            </label>\n                            </div> \n              \n      <div className=\"field  is-grouped mt-2\" >\n      <p className=\"control\">\n                    <button type=\"submit\" className=\"button is-success is-small\" disabled={bill_report_status===\"Final\"} >\n                    {bill_report_status===\"Pending\"? \"Save\":\"Update\"}\n                    </button>\n                </p>\n               {/*  <p className=\"control\">\n                    <button className=\"button is-warning is-small\" onClick={(e)=>e.target.reset()}>\n                        Cancel\n                    </button>\n                </p> */}\n             \n          </div>\n   \n          </form>\n        \n       \n               \n      </>\n  )\n \n}\n\nexport function LabNoteCreate(){\n  const { register, handleSubmit,setValue} = useForm(); //, watch, errors, reset \n  const [error, setError] =useState(false)\n  const [success, setSuccess] =useState(false)\n  const [message,setMessage] = useState(\"\")\n  // eslint-disable-next-line\n  const [facility,setFacility] = useState()\n  const ClientServ=client.service('labresults')\n  //const history = useHistory()\n  const {user} = useContext(UserContext) //,setUser\n  // eslint-disable-next-line\n  const [currentUser,setCurrentUser] = useState()\n  const [reportStatus,setReportStatus] = useState(\"Draft\")\n  const {state, setState}=useContext(ObjectContext)\n\n  const order = state.financeModule.selectedFinance\n  const bill_report_status=state.financeModule.report_status\n\n  const getSearchfacility=(obj)=>{\n      setValue(\"facility\", obj._id,  {\n          shouldValidate: true,\n          shouldDirty: true\n      })\n  }\n  \n  useEffect(() => {\n      setCurrentUser(user)\n      //console.log(currentUser)\n      return () => {\n      \n      }\n  }, [user])\n\n\n\n  const onSubmit = async(data,e) =>{\n      e.preventDefault();\n      setMessage(\"\")\n      setError(false)\n      setSuccess(false)\n      let document={}\n       // data.createdby=user._id\n      //  console.log(data);\n        if (user.currentEmployee){\n        document.facility=user.currentEmployee.facilityDetail._id \n        document.facilityname=user.currentEmployee.facilityDetail.facilityName // or from facility dropdown\n        }\n       document.documentdetail=data\n       document.documentType=\"Diagnostic Result\"\n        document.documentname= `${order.serviceInfo.name} Result`\n       // document.documentClassId=state.DocumentClassModule.selectedDocumentClass._id\n        document.location=state.employeeLocation.locationName +\" \"+ state.employeeLocation.locationType\n        document.locationId=state.employeeLocation.locationId\n        document.client=order.orderInfo.orderObj.clientId\n        document.createdBy=user._id\n        document.createdByname=user.firstname+ \" \"+user.lastname\n        document.status=reportStatus\n        document.billId=order._id\n       // document.formType=choosenForm\n      //  console.log(document)\n      //  console.log(order)\n\n        if (\n          document.location===undefined ||!document.createdByname || !document.facilityname ){\n          toast({\n              message: ' Documentation data missing, requires location and facility details' ,\n              type: 'is-danger',\n              dismissible: true,\n              pauseOnHover: true,\n            })\n            return\n        }\n\n      if (bill_report_status===\"Pending\"){\n        document.labFormType=state.labFormType\n          ClientServ.create(document)\n          .then((res)=>{\n                \n                  e.target.reset();\n                \n                  setSuccess(true)\n                  toast({\n                      message: 'Lab Result created succesfully',\n                      type: 'is-success',\n                      dismissible: true,\n                      pauseOnHover: true,\n                    })\n                    setSuccess(false)\n              })\n              .catch((err)=>{\n                  toast({\n                      message: 'Error creating Lab Result ' + err,\n                      type: 'is-danger',\n                      dismissible: true,\n                      pauseOnHover: true,\n                    })\n              })  \n      }\n\n      if (bill_report_status===\"Draft\"){\n       ClientServ.patch(order.resultDetail._id, document)\n      .then((res)=>{\n            \n              e.target.reset();\n            \n              setSuccess(true)\n              toast({\n                  message: 'Lab Result updated succesfully',\n                  type: 'is-success',\n                  dismissible: true,\n                  pauseOnHover: true,\n                })\n                setSuccess(false)\n          })\n          .catch((err)=>{\n              toast({\n                  message: 'Error updating Lab Result ' + err,\n                  type: 'is-danger',\n                  dismissible: true,\n                  pauseOnHover: true,\n                })\n          }) \n      }\n      const    newProductEntryModule={\n          selectedFinance:order,\n          show :'show',\n         // report_status:order.report_status\n         \n      }\n    await setState((prevstate)=>({...prevstate, financeModule:newProductEntryModule}))\n    } \n\n  const handleChangePart=async (e)=>{\n      console.log(e.target.value)\n      await setReportStatus(e.target.value)\n\n  }\n\n  useEffect(() => {\n      if (!order.resultDetail?.documentdetail ){\n          setValue(\"Finding\", \"\",  {\n              shouldValidate: true,\n              shouldDirty: true\n          })\n          setValue(\"Recommendation\",\"\",  {\n              shouldValidate: true,\n              shouldDirty: true\n          })\n         // setReportStatus(order.report_status)\n         \n          return\n\n      }\n      if (order.report_status !==\"Pending\"){\n          console.log(order.resultDetail.documentdetail)\n\n          \n         Object.entries(order.resultDetail.documentdetail).map(([keys,value],i)=>(\n          setValue(keys, value,  {\n              shouldValidate: true,\n              shouldDirty: true\n          })\n\n      ))\n\n  \n  }\n      \n      return () => {\n          \n      }\n  }, [order])\n\n  return (\n      <>\n          \n          <form onSubmit={handleSubmit(onSubmit)}>\n          <div className=\"field is-horizontal\">\n              <div className=\"field-body\">\n                  <div className=\"field\">\n                      <p className=\"control has-icons-left has-icons-right\">\n                          <textarea className=\"textarea is-small\" ref={register()}  name=\"Finding\" type=\"text\" placeholder=\"Findings\" disabled={bill_report_status===\"Final\"}/>                 \n                      </p>\n                  </div>\n                  </div>\n                  </div>\n          <div className=\"field is-horizontal\">\n              <div className=\"field-body\">\n                  <div className=\"field\">\n                      <div className=\"control has-icons-left has-icons-right\">\n                      <textarea className=\"textarea is-small\" ref={register()}  name=\"Recommendation\" type=\"text\" placeholder=\"Recommendation\" disabled={bill_report_status===\"Final\"}/>\n                      </div>\n                  </div>\n                  </div>\n                  </div>\n                  <div className=\"field\">\n                  <label className=\" is-small\">\n                           <input  type=\"radio\" name=\"status\" value=\"Draft\"   checked={reportStatus===\"Draft\"||reportStatus===\"Pending\"} onChange={(e)=>{handleChangePart(e)}} disabled={bill_report_status===\"Final\"}/>\n                             <span > Draft</span>\n                            </label> <br/>\n                            <label className=\" is-small\">\n                           <input type=\"radio\" name=\"status\"  value=\"Final\"   checked={reportStatus===\"Final\"} onChange={(e)=>handleChangePart(e)} disabled={bill_report_status===\"Final\"}/>\n                           <span> Final </span>\n                            </label>\n                            </div> \n           <div className=\"field  is-grouped mt-2\" >\n              <p className=\"control\">\n                  <button type=\"submit\" className=\"button is-success is-small\" disabled={bill_report_status===\"Final\"} >\n                  {bill_report_status===\"Pending\"? \"Save\":\"Update\"}\n                  </button>\n              </p>\n             {/*  <p className=\"control\">\n                  <button className=\"button is-warning is-small\" onClick={(e)=>e.target.reset()}>\n                      Cancel\n                  </button>\n              </p> */}\n             \n          </div>\n   \n          </form>\n          \n               \n      </>\n  )\n \n}"]},"metadata":{},"sourceType":"module"}