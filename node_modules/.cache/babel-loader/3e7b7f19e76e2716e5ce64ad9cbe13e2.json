{"ast":null,"code":"import _defineProperty from \"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _objectSpread from \"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _asyncToGenerator from \"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _slicedToArray from \"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/home/mfybaby/Documents/HealthStack2/HS-frontend/src/components/helpers/FacilityPopup.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$();\n\nimport React, { useState, useContext, useEffect } from 'react';\nimport client from '../../feathers';\nimport { DebounceInput } from 'react-debounce-input';\nimport { useForm } from \"react-hook-form\"; //import {useHistory} from 'react-router-dom'\n\nimport { UserContext, ObjectContext } from '../../context';\nexport function Facility() {\n  _s();\n\n  var _useContext = useContext(ObjectContext),\n      state = _useContext.state; //,setState\n  // eslint-disable-next-line\n\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      selectedFacility = _useState2[0],\n      setSelectedFacility = _useState2[1]; //const [showState,setShowState]=useState() //create|modify|detail\n  //console.log(\"facility parent\", state)\n\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"section remPadTop\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"columns \",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"column is-8 \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"column is-4 \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Facility, \"W2A6XerdiAvb8VoZjNVNF1Lc4BU=\");\n\n_c = Facility;\nexport function FacilityCreate() {\n  _s2();\n\n  var _useForm = useForm(),\n      register = _useForm.register,\n      handleSubmit = _useForm.handleSubmit; //, watch, errors, reset \n\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      error = _useState4[0],\n      setError = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      success = _useState6[0],\n      setSuccess = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      message = _useState8[0],\n      setMessage = _useState8[1];\n\n  var facilityServ = client.service('/facility'); //const history = useHistory()\n\n  var _useContext2 = useContext(UserContext),\n      user = _useContext2.user; //,setUser\n\n\n  var onSubmit = function onSubmit(data, e) {\n    e.preventDefault();\n    setMessage(\"\");\n    setError(false);\n    setSuccess(false);\n    data.createdby = user._id; //console.log(data);\n\n    facilityServ.create(data).then(function (res) {\n      //console.log(JSON.stringify(res))\n      e.target.reset();\n      setMessage(\"Created facility successfully\");\n      setSuccess(true);\n    }).catch(function (err) {\n      setMessage(\"Error creating facility, probable network issues \" + err);\n      setError(true);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"section remPadTop\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"columns \",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card \",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-header\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"card-header-title\",\n                children: \"Create Facility\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-content vscrollable\",\n              children: [success && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"message\",\n                children: [\" \", message]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 26\n              }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n                onSubmit: handleSubmit(onSubmit),\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"field\",\n                  children: /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"control has-icons-left has-icons-right\",\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      className: \"input is-small\",\n                      ref: register({\n                        required: true\n                      }),\n                      name: \"facilityName\",\n                      type: \"text\",\n                      placeholder: \"Name of Facility\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 89,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"icon is-small is-left\",\n                      children: /*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"fas fa-hospital\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 91,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 90,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 88,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 87,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"field\",\n                  children: /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"control has-icons-left has-icons-right\",\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      className: \"input is-small\",\n                      ref: register({\n                        required: true\n                      }),\n                      name: \"facilityAddress\",\n                      type: \"text\",\n                      placeholder: \"Address of Facility\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 97,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"icon is-small is-left\",\n                      children: /*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"fas fa-map-signs\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 99,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 98,\n                      columnNumber: 21\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 96,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 95,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"field\",\n                  children: /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"control has-icons-left\",\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      className: \"input is-small\",\n                      ref: register({\n                        required: true\n                      }),\n                      name: \"facilityCity\",\n                      type: \"text\",\n                      placeholder: \"City/Town\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 106,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"icon is-small is-left\",\n                      children: /*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"fas fa-map-marker-alt\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 108,\n                        columnNumber: 21\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 107,\n                      columnNumber: 21\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 105,\n                    columnNumber: 17\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 104,\n                  columnNumber: 13\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"field\",\n                  children: /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"control has-icons-left\",\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      className: \"input is-small\",\n                      ref: register({\n                        required: true\n                      }),\n                      name: \"facilityContactPhone\",\n                      type: \"text\",\n                      placeholder: \"Contact Phone No\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 114,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"icon is-small is-left\",\n                      children: /*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"fas fa-phone-alt\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 116,\n                        columnNumber: 21\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 115,\n                      columnNumber: 21\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 113,\n                    columnNumber: 17\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 112,\n                  columnNumber: 13\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"field\",\n                  children: /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"control has-icons-left\",\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      className: \"input is-small\",\n                      ref: register({\n                        required: true\n                      }),\n                      name: \"facilityEmail\",\n                      type: \"email\",\n                      placeholder: \"Facility Email\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 123,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"icon is-small is-left\",\n                      children: /*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"fas fa-envelope\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 125,\n                        columnNumber: 21\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 124,\n                      columnNumber: 21\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 122,\n                    columnNumber: 17\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 121,\n                  columnNumber: 13\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"field\",\n                  children: /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"control has-icons-left\",\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      className: \"input is-small\",\n                      ref: register({\n                        required: true\n                      }),\n                      name: \"facilityOwner\",\n                      type: \"text\",\n                      placeholder: \"Facility Owner\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 131,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"icon is-small is-left\",\n                      children: /*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"fas fa-user-md\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 133,\n                        columnNumber: 21\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 132,\n                      columnNumber: 21\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 130,\n                    columnNumber: 17\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 129,\n                  columnNumber: 13\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"field\",\n                  children: /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"control has-icons-left\",\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      className: \"input is-small\",\n                      ref: register({\n                        required: true\n                      }),\n                      name: \"facilityType\",\n                      type: \"text\",\n                      placeholder: \"Facility Type\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 139,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"icon is-small is-left\",\n                      children: /*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"fas fa-hospital-symbol\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 141,\n                        columnNumber: 21\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 140,\n                      columnNumber: 21\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 138,\n                    columnNumber: 17\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 137,\n                  columnNumber: 13\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"field\",\n                  children: /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"control has-icons-left\",\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      className: \"input is-small\",\n                      ref: register({\n                        required: true\n                      }),\n                      name: \"facilityCategory\",\n                      type: \"text\",\n                      placeholder: \"Facility Category\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 147,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"icon is-small is-left\",\n                      children: /*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"fas fa-clinic-medical\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 149,\n                        columnNumber: 21\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 148,\n                      columnNumber: 21\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 146,\n                    columnNumber: 17\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 145,\n                  columnNumber: 13\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"field\",\n                  children: /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"control\",\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"button is-success is-small\",\n                      children: \"Create\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 155,\n                      columnNumber: 21\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 154,\n                    columnNumber: 17\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 13\n                }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"message\",\n                  children: [\" \", message]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 160,\n                  columnNumber: 24\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n\n_s2(FacilityCreate, \"t7vnb7idaBvbr0CU9TntkXk8zj4=\", false, function () {\n  return [useForm];\n});\n\n_c2 = FacilityCreate;\nexport default function FacilityPopup(_ref) {\n  _s3();\n\n  var _this = this;\n\n  var facilityType = _ref.facilityType,\n      closeModal = _ref.closeModal;\n\n  // const { register, handleSubmit, watch, errors } = useForm();\n  // eslint-disable-next-line\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      error = _useState10[0],\n      setError = _useState10[1]; // eslint-disable-next-line\n\n\n  var _useState11 = useState(false),\n      _useState12 = _slicedToArray(_useState11, 2),\n      success = _useState12[0],\n      setSuccess = _useState12[1]; // eslint-disable-next-line\n\n\n  var _useState13 = useState(\"\"),\n      _useState14 = _slicedToArray(_useState13, 2),\n      message = _useState14[0],\n      setMessage = _useState14[1];\n\n  var facilityServ = client.service('facility'); //const history = useHistory()\n  // const {user,setUser} = useContext(UserContext)\n\n  var _useState15 = useState([]),\n      _useState16 = _slicedToArray(_useState15, 2),\n      facilities = _useState16[0],\n      setFacilities = _useState16[1]; // eslint-disable-next-line\n\n\n  var _useState17 = useState(),\n      _useState18 = _slicedToArray(_useState17, 2),\n      selectedFacility = _useState18[0],\n      setSelectedFacility = _useState18[1]; //\n  // eslint-disable-next-line\n\n\n  var _useContext3 = useContext(ObjectContext),\n      state = _useContext3.state,\n      setState = _useContext3.setState;\n  /*   const handleCreateNew = async()=>{\n        const    newfacilityModule={\n            selectedFacility:{},\n            show :'create'\n            }\n       await setState((prevstate)=>({...prevstate, facilityModule:newfacilityModule}))\n       //console.log(state)\n        \n     } */\n\n\n  var handleRow = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(facility) {\n      var newfacilityModule;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return setSelectedFacility(facility);\n\n            case 2:\n              newfacilityModule = {\n                selectedDestination: facility,\n                show: 'detail'\n              };\n              _context.next = 5;\n              return setState(function (prevstate) {\n                return _objectSpread(_objectSpread({}, prevstate), {}, {\n                  DestinationModule: newfacilityModule\n                });\n              });\n\n            case 5:\n              //console.log(state)\n              closeModal();\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleRow(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var handleSearch = function handleSearch(val) {\n    var _query;\n\n    var field = 'facilityName';\n    console.log(val);\n    facilityServ.find({\n      query: (_query = {}, _defineProperty(_query, field, {\n        $regex: val,\n        $options: 'i'\n      }), _defineProperty(_query, \"facilityType\", facilityType), _defineProperty(_query, \"$limit\", 10), _defineProperty(_query, \"$sort\", {\n        facilityName: 1\n      }), _query)\n    }).then(function (res) {\n      console.log(res);\n      setFacilities(res.data);\n      setMessage(\" facility  fetched successfully\");\n      setSuccess(true);\n    }).catch(function (err) {\n      console.log(err);\n      setMessage(\"Error creating facility, probable network issues \" + err);\n      setError(true);\n    });\n  };\n  /*  if (val.length>2){\n       console.log(\"in\")\n      \n   }\n  }\n  */\n\n\n  var getFacilities = function getFacilities() {\n    facilityServ.find({\n      query: {\n        facilityType: facilityType,\n        $limit: 20,\n        $sort: {\n          facilityName: 1\n        }\n      }\n    }).then(function (res) {\n      console.log(res);\n      setFacilities(res.data);\n      setMessage(\" facility  fetched successfully\");\n      setSuccess(true);\n    }).catch(function (err) {\n      setMessage(\"Error creating facility, probable network issues \" + err);\n      setError(true);\n    });\n  };\n\n  useEffect(function () {\n    getFacilities();\n    facilityServ.on('created', function (obj) {\n      return getFacilities();\n    });\n    facilityServ.on('updated', function (obj) {\n      return getFacilities();\n    });\n    facilityServ.on('patched', function (obj) {\n      return getFacilities();\n    });\n    facilityServ.on('removed', function (obj) {\n      return getFacilities();\n    });\n    return function () {};\n  }, []); //todo: pagination and vertical scroll bar\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"section remPadTop\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"level\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"level-left\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"level-item\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"field\",\n                  children: /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"control has-icons-left  \",\n                    children: [/*#__PURE__*/_jsxDEV(DebounceInput, {\n                      className: \"input is-small \",\n                      type: \"text\",\n                      placeholder: \"Search Facilities\",\n                      minLength: 3,\n                      debounceTimeout: 400,\n                      onChange: function onChange(e) {\n                        return handleSearch(e.target.value);\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 298,\n                      columnNumber: 37\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"icon is-small is-left\",\n                      children: /*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"fas fa-search\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 304,\n                        columnNumber: 41\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 303,\n                      columnNumber: 37\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 297,\n                    columnNumber: 33\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 296,\n                  columnNumber: 29\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 295,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"level-item\",\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"is-size-6 has-text-weight-medium\",\n                children: \"List of Facilities \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 310,\n                columnNumber: 50\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"table-container pullup \",\n            children: /*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"table is-striped is-narrow is-hoverable is-fullwidth is-scrollable \",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    children: /*#__PURE__*/_jsxDEV(\"abbr\", {\n                      title: \"S/No\",\n                      children: \"S/No\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 322,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 322,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Facility Name\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 323,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: /*#__PURE__*/_jsxDEV(\"abbr\", {\n                      title: \"Address\",\n                      children: \" Address\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 324,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 324,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: /*#__PURE__*/_jsxDEV(\"abbr\", {\n                      title: \"City\",\n                      children: \"City\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 325,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 325,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: /*#__PURE__*/_jsxDEV(\"abbr\", {\n                      title: \"Phone\",\n                      children: \"Phone\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 326,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 326,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: /*#__PURE__*/_jsxDEV(\"abbr\", {\n                      title: \"Email\",\n                      children: \"Email\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 327,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 327,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: /*#__PURE__*/_jsxDEV(\"abbr\", {\n                      title: \"Type\",\n                      children: \"Type\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 328,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 328,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: /*#__PURE__*/_jsxDEV(\"abbr\", {\n                      title: \"Category\",\n                      children: \"Category\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 329,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 329,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: /*#__PURE__*/_jsxDEV(\"abbr\", {\n                      title: \"Actions\",\n                      children: \"Actions\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 330,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 330,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 321,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 320,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"tfoot\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 333,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: facilities.map(function (facility, i) {\n                  return /*#__PURE__*/_jsxDEV(\"tr\", {\n                    onClick: function onClick() {\n                      return handleRow(facility);\n                    },\n                    className: facility._id === ((selectedFacility === null || selectedFacility === void 0 ? void 0 : selectedFacility._id) || null) ? \"is-selected\" : \"\",\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      children: i + 1\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 340,\n                      columnNumber: 45\n                    }, _this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: facility.facilityName\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 341,\n                      columnNumber: 45\n                    }, _this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: facility.facilityAddress\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 342,\n                      columnNumber: 45\n                    }, _this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: facility.facilityCity\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 343,\n                      columnNumber: 45\n                    }, _this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: facility.facilityContactPhone\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 344,\n                      columnNumber: 45\n                    }, _this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: facility.facilityEmail\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 345,\n                      columnNumber: 45\n                    }, _this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: facility.facilityType\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 346,\n                      columnNumber: 45\n                    }, _this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: facility.facilityCategory\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 347,\n                      columnNumber: 45\n                    }, _this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"showAction\",\n                        children: \"...\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 349,\n                        columnNumber: 49\n                      }, _this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 349,\n                      columnNumber: 45\n                    }, _this)]\n                  }, facility._id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 339,\n                    columnNumber: 45\n                  }, _this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 336,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n\n_s3(FacilityPopup, \"wTCbHNXju1mspV51m06gtok0dys=\");\n\n_c3 = FacilityPopup;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Facility\");\n$RefreshReg$(_c2, \"FacilityCreate\");\n$RefreshReg$(_c3, \"FacilityPopup\");","map":{"version":3,"sources":["/home/mfybaby/Documents/HealthStack2/HS-frontend/src/components/helpers/FacilityPopup.js"],"names":["React","useState","useContext","useEffect","client","DebounceInput","useForm","UserContext","ObjectContext","Facility","state","selectedFacility","setSelectedFacility","FacilityCreate","register","handleSubmit","error","setError","success","setSuccess","message","setMessage","facilityServ","service","user","onSubmit","data","e","preventDefault","createdby","_id","create","then","res","target","reset","catch","err","required","FacilityPopup","facilityType","closeModal","facilities","setFacilities","setState","handleRow","facility","newfacilityModule","selectedDestination","show","prevstate","DestinationModule","handleSearch","val","field","console","log","find","query","$regex","$options","facilityName","getFacilities","$limit","$sort","on","obj","value","map","i","facilityAddress","facilityCity","facilityContactPhone","facilityEmail","facilityCategory"],"mappings":"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","sourcesContent":["import React, {useState,useContext, useEffect} from 'react'\nimport client from '../../feathers'\nimport {DebounceInput} from 'react-debounce-input';\nimport { useForm } from \"react-hook-form\";\n//import {useHistory} from 'react-router-dom'\nimport {UserContext,ObjectContext} from '../../context'\n\n\nexport function Facility() {\n    const {state}=useContext(ObjectContext) //,setState\n    // eslint-disable-next-line\n    const [selectedFacility,setSelectedFacility]=useState()\n    //const [showState,setShowState]=useState() //create|modify|detail\n    \n    //console.log(\"facility parent\", state)\n    \n\n    return(\n        <section className= \"section remPadTop\">\n           {/*  <div className=\"level\">\n            <div className=\"level-item\"> <span className=\"is-size-6 has-text-weight-medium\">Facility  Module</span></div>\n            </div> */}\n            <div className=\"columns \">\n            <div className=\"column is-8 \">\n              {/*   <FacilityList /> */}\n                </div>\n            <div className=\"column is-4 \">\n               {/*  {(state.facilityModule.show ==='create')&&<FacilityCreate />}\n                {(state.facilityModule.show ==='detail')&&<FacilityDetail  />}\n                {(state.facilityModule.show ==='modify')&&<FacilityModify facility={selectedFacility} />} */}\n               \n            </div>\n\n            </div>                            \n            </section>\n       \n    )\n    \n}\n\nexport function FacilityCreate(){\n    const { register, handleSubmit} = useForm(); //, watch, errors, reset \n    const [error, setError] =useState(false)\n    const [success, setSuccess] =useState(false)\n    const [message,setMessage] = useState(\"\")\n    const facilityServ=client.service('/facility')\n    //const history = useHistory()\n    const {user} = useContext(UserContext) //,setUser\n\n    \n    const onSubmit = (data,e) =>{\n        e.preventDefault();\n        setMessage(\"\")\n        setError(false)\n        setSuccess(false)\n          data.createdby=user._id\n          //console.log(data);\n          \n        facilityServ.create(data)\n        .then((res)=>{\n                //console.log(JSON.stringify(res))\n                e.target.reset();\n                setMessage(\"Created facility successfully\")\n                setSuccess(true)\n            })\n            .catch((err)=>{\n                setMessage(\"Error creating facility, probable network issues \"+ err )\n                setError(true)\n            })\n\n      } \n\n    return (\n        <>\n        <section className= \"section remPadTop\">\n        <div className=\"columns \">\n        <div /* className=\"column is-4 \" */>\n        <div className=\"card \">\n            <div className=\"card-header\">\n                <p className=\"card-header-title\">\n                    Create Facility\n                </p>\n            </div>\n            <div className=\"card-content vscrollable\">\n            { success && <div className=\"message\"> {message}</div>}\n            <form onSubmit={handleSubmit(onSubmit)}>\n                <div className=\"field\">\n                    <p className=\"control has-icons-left has-icons-right\">\n                        <input className=\"input is-small\" ref={register({ required: true })}  name=\"facilityName\" type=\"text\" placeholder=\"Name of Facility\" />\n                        <span className=\"icon is-small is-left\">\n                            <i className=\"fas fa-hospital\"></i>\n                        </span>                    \n                    </p>\n                </div>\n                <div className=\"field\">\n                    <p className=\"control has-icons-left has-icons-right\">\n                    <input className=\"input is-small\" ref={register({ required: true })}  name=\"facilityAddress\" type=\"text\" placeholder=\"Address of Facility\" />\n                    <span className=\"icon is-small is-left\">\n                        <i className=\"fas fa-map-signs\"></i>\n                    </span>\n                    \n                </p>\n            </div>\n            <div className=\"field\">\n                <p className=\"control has-icons-left\">\n                    <input className=\"input is-small\" ref={register({ required: true })} name=\"facilityCity\" type=\"text\" placeholder=\"City/Town\"/>\n                    <span className=\"icon is-small is-left\">\n                    <i className=\"fas fa-map-marker-alt\"></i>\n                    </span>\n                </p>\n            </div>\n            <div className=\"field\">\n                <p className=\"control has-icons-left\">\n                    <input className=\"input is-small\" ref={register({ required: true })} name=\"facilityContactPhone\" type=\"text\" placeholder=\"Contact Phone No\"/>\n                    <span className=\"icon is-small is-left\">\n                    <i className=\"fas fa-phone-alt\"></i>\n                    </span>\n                </p>\n            </div>\n           \n            <div className=\"field\">\n                <p className=\"control has-icons-left\">\n                    <input className=\"input is-small\" ref={register({ required: true })} name=\"facilityEmail\" type=\"email\" placeholder=\"Facility Email\"/>\n                    <span className=\"icon is-small is-left\">\n                    <i className=\"fas fa-envelope\"></i>\n                    </span>\n                </p>\n            </div>\n            <div className=\"field\">\n                <p className=\"control has-icons-left\">\n                    <input className=\"input is-small\" ref={register({ required: true })} name=\"facilityOwner\" type=\"text\" placeholder=\"Facility Owner\"/>\n                    <span className=\"icon is-small is-left\">\n                    <i className=\"fas fa-user-md\"></i>\n                    </span>\n                </p>\n            </div>\n            <div className=\"field\">\n                <p className=\"control has-icons-left\">\n                    <input className=\"input is-small\" ref={register({ required: true })} name=\"facilityType\" type=\"text\" placeholder=\"Facility Type\"/>\n                    <span className=\"icon is-small is-left\">\n                    <i className=\"fas fa-hospital-symbol\"></i>\n                    </span>\n                </p>\n            </div>\n            <div className=\"field\">\n                <p className=\"control has-icons-left\">\n                    <input className=\"input is-small\" ref={register({ required: true })} name=\"facilityCategory\" type=\"text\" placeholder=\"Facility Category\"/>\n                    <span className=\"icon is-small is-left\">\n                    <i className=\"fas fa-clinic-medical\"></i>\n                    </span>\n                </p>\n            </div>\n            <div className=\"field\">\n                <p className=\"control\">\n                    <button className=\"button is-success is-small\">\n                        Create\n                    </button>\n                </p>\n            </div>\n            { error && <div className=\"message\"> {message}</div>}\n            </form>\n        </div>\n        </div>\n        </div>\n        </div>\n        </section>\n        </>\n    )\n   \n}\n\nexport default function FacilityPopup({facilityType,closeModal}){\n   // const { register, handleSubmit, watch, errors } = useForm();\n    // eslint-disable-next-line\n    const [error, setError] =useState(false)\n     // eslint-disable-next-line\n    const [success, setSuccess] =useState(false)\n     // eslint-disable-next-line\n   const [message, setMessage] = useState(\"\") \n    const facilityServ=client.service('facility')\n    //const history = useHistory()\n   // const {user,setUser} = useContext(UserContext)\n    const [facilities,setFacilities]=useState([])\n     // eslint-disable-next-line\n   const [selectedFacility, setSelectedFacility]=useState() //\n    // eslint-disable-next-line\n    const {state,setState}=useContext(ObjectContext)\n\n   \n\n  /*   const handleCreateNew = async()=>{\n        const    newfacilityModule={\n            selectedFacility:{},\n            show :'create'\n            }\n       await setState((prevstate)=>({...prevstate, facilityModule:newfacilityModule}))\n       //console.log(state)\n        \n\n    } */\n    const handleRow= async(facility)=>{\n        //console.log(\"b4\",state)\n\n        //console.log(\"handlerow\",facility)\n\n        await setSelectedFacility(facility)\n\n        const    newfacilityModule={\n            selectedDestination:facility,\n            show :'detail'\n        }\n       await setState((prevstate)=>({...prevstate, DestinationModule:newfacilityModule}))\n       //console.log(state)\n       closeModal()\n\n    }\n\n   const handleSearch=(val)=>{\n       const field='facilityName'\n       console.log(val)\n       facilityServ.find({query: {\n                [field]: {\n                    $regex:val,\n                    $options:'i'\n                   \n                },\n                facilityType,\n                $limit:10,\n                $sort: {\n                    facilityName: 1\n                  }\n                    }}).then((res)=>{\n                console.log(res)\n               setFacilities(res.data)\n                setMessage(\" facility  fetched successfully\")\n                setSuccess(true) \n            })\n            .catch((err)=>{\n                console.log(err)\n                setMessage(\"Error creating facility, probable network issues \"+ err )\n                setError(true)\n            })\n        }\n\n           /*  if (val.length>2){\n                console.log(\"in\")\n               \n            }\n\n        }\n     */\n        const getFacilities=()=>{\n            facilityServ.find({query: {\n                facilityType,\n                $limit:20,\n                $sort: {\n                    facilityName: 1\n                  }\n                    }})\n            .then((res)=>{\n                console.log(res)\n                    setFacilities(res.data)\n                    setMessage(\" facility  fetched successfully\")\n                    setSuccess(true)\n                })\n                .catch((err)=>{\n                   \n                    setMessage(\"Error creating facility, probable network issues \"+ err )\n                    setError(true)\n                })\n\n        }\n\n    useEffect(() => {\n        getFacilities()\n\n        facilityServ.on('created', (obj)=>getFacilities())\n        facilityServ.on('updated', (obj)=>getFacilities())\n        facilityServ.on('patched', (obj)=>getFacilities())\n        facilityServ.on('removed', (obj)=>getFacilities())\n        return () => {\n           \n        }\n    },[])\n\n    //todo: pagination and vertical scroll bar\n\n    return(\n            <>  \n            <section className= \"section remPadTop\">\n            <div /* className=\"columns \" */>\n            <div /* className=\"column is-4 \" */>  \n                <div className=\"level\">\n                    <div className=\"level-left\">\n                        <div className=\"level-item\">\n                            <div className=\"field\">\n                                <p className=\"control has-icons-left  \">\n                                    <DebounceInput className=\"input is-small \" \n                                        type=\"text\" placeholder=\"Search Facilities\"\n                                        minLength={3}\n                                        debounceTimeout={400}\n                                        onChange={(e)=>handleSearch(e.target.value)} />\n                                    <span className=\"icon is-small is-left\">\n                                        <i className=\"fas fa-search\"></i>\n                                    </span>\n                                </p>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"level-item\"> <span className=\"is-size-6 has-text-weight-medium\">List of Facilities </span></div>\n                    {/* <div className=\"level-right\">\n                        <div className=\"level-item\"> \n                            <div className=\"level-item\"><div className=\"button is-success is-small\" onClick={handleCreateNew}>New</div></div>\n                        </div>\n                    </div> */}\n\n                </div>\n                <div className=\"table-container pullup \">\n                                <table className=\"table is-striped is-narrow is-hoverable is-fullwidth is-scrollable \">\n                                    <thead>\n                                        <tr>\n                                        <th><abbr title=\"S/No\">S/No</abbr></th>\n                                        <th>Facility Name</th>\n                                        <th><abbr title=\"Address\"> Address</abbr></th>\n                                        <th><abbr title=\"City\">City</abbr></th>\n                                        <th><abbr title=\"Phone\">Phone</abbr></th>\n                                        <th><abbr title=\"Email\">Email</abbr></th>\n                                        <th><abbr title=\"Type\">Type</abbr></th>\n                                        <th><abbr title=\"Category\">Category</abbr></th>\n                                        <th><abbr title=\"Actions\">Actions</abbr></th>\n                                        </tr>\n                                    </thead>\n                                    <tfoot>\n                                        \n                                    </tfoot>\n                                    <tbody>\n                                        {facilities.map((facility, i)=>(\n\n                                            <tr key={facility._id} onClick={()=>handleRow(facility)} className={facility._id===(selectedFacility?._id||null)?\"is-selected\":\"\"}>\n                                            <th>{i+1}</th>\n                                            <th>{facility.facilityName}</th>\n                                            <td>{facility.facilityAddress}</td>\n                                            <td>{facility.facilityCity}</td>\n                                            <td>{facility.facilityContactPhone}</td>\n                                            <td>{facility.facilityEmail}</td>\n                                            <td>{facility.facilityType}</td>\n                                            <td>{facility.facilityCategory}</td>\n                                           \n                                            <td><span   className=\"showAction\"  >...</span></td>\n                                           \n                                            </tr>\n\n                                        ))}\n                                    </tbody>\n                                    </table>\n                                    \n                </div> \n                </div> \n                </div> \n                </section>              \n            </>\n              \n    )\n}"]},"metadata":{},"sourceType":"module"}