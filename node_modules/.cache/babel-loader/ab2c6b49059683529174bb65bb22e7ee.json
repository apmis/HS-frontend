{"ast":null,"code":"import{jsx as _jsx}from\"react/jsx-runtime\";import _regeneratorRuntime from\"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{createContext,useEffect,useState}from'react';import client from'./feathers';export default function MyUserProvider(_ref){var children=_ref.children;//const [data, setData] = useState(null)\nvar _useState=useState(null),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];useEffect(function(){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var resp;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return client.reAuthenticate();case 3:resp=_context.sent;_context.next=6;return setUser(resp.user);case 6:return _context.abrupt(\"return\");case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);console.log(_context.t0);// history.push(\"/\")\ncase 12:case\"end\":return _context.stop();}}},_callee,null,[[0,9]]);}))();},[]);var Provider=UserContext.Provider;return/*#__PURE__*/_jsx(Provider,{value:{user:user,setUser:setUser},children:children});}export var UserContext=/*#__PURE__*/createContext();export var ObjectContext=/*#__PURE__*/createContext();export var MessageContext=/*#__PURE__*/createContext();","map":{"version":3,"sources":["/home/mfybaby/Documents/HealthStack2/HS-frontend/src/context.js"],"names":["createContext","useEffect","useState","client","MyUserProvider","children","user","setUser","reAuthenticate","resp","console","log","Provider","UserContext","ObjectContext","MessageContext"],"mappings":"6hBAAA,OAAQA,aAAR,CAAuBC,SAAvB,CAAiCC,QAAjC,KAAgD,OAAhD,CACA,MAAOC,CAAAA,MAAP,KAAmB,YAAnB,CAGA,cAAe,SAASC,CAAAA,cAAT,MAAmC,IAAVC,CAAAA,QAAU,MAAVA,QAAU,CAC9C;AAD8C,cAEvBH,QAAQ,CAAC,IAAD,CAFe,wCAEvCI,IAFuC,eAElCC,OAFkC,eAI9CN,SAAS,CAAC,UAAK,CACX,wDAAC,kLACsBE,CAAAA,MAAM,CAACK,cAAP,EADtB,QACSC,IADT,qCAGSF,CAAAA,OAAO,CAACE,IAAI,CAACH,IAAN,CAHhB,iGAUGI,OAAO,CAACC,GAAR,cACD;AAXF,oEAAD,KAaC,CAdI,CAcH,EAdG,CAAT,CAJ8C,GAoBvCC,CAAAA,QApBuC,CAoB1BC,WApB0B,CAoBvCD,QApBuC,CAqB/C,mBACI,KAAC,QAAD,EAAU,KAAK,CAAE,CAACN,IAAI,CAAJA,IAAD,CAAMC,OAAO,CAAPA,OAAN,CAAjB,UACKF,QADL,EADJ,CAKF,CACD,MAAO,IAAMQ,CAAAA,WAAW,cAACb,aAAa,EAA/B,CACP,MAAO,IAAMc,CAAAA,aAAa,cAACd,aAAa,EAAjC,CACP,MAAO,IAAMe,CAAAA,cAAc,cAACf,aAAa,EAAlC","sourcesContent":["import {createContext, useEffect,useState} from 'react'\nimport client from './feathers'\n\n\nexport default function MyUserProvider({children}){\n    //const [data, setData] = useState(null)\n    const [user,setUser] = useState(null)\n\n    useEffect(() =>{\n        (async () => { try{\n            const resp = await client.reAuthenticate();\n            //console.log(resp)\n            await setUser(resp.user)\n            /* console.log(\"lastname:\",  user.lastname)\n            console.log(\"reauth tried\")\n            */\n            return\n            }\n        catch(error){\n            console.log(error)\n           // history.push(\"/\")\n        }  \n    })()},[])\n\n   const { Provider } = UserContext\n   return(\n       <Provider value={{user,setUser}}>\n           {children}\n       </Provider>\n   )\n}\nexport const UserContext=createContext()\nexport const ObjectContext=createContext()\nexport const MessageContext=createContext()\n"]},"metadata":{},"sourceType":"module"}