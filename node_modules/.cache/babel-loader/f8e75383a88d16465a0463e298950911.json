{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/home/mfybaby/Documents/HealthStack2/HS-frontend/src/components/EncounterMgt/Clerking.js\",\n    _s = $RefreshSig$();\n\n/* eslint-disable */\nimport React, { useState, useContext, useEffect, useRef, useCallback } from 'react';\nimport client from '../../feathers';\nimport { DebounceInput } from 'react-debounce-input';\nimport { useForm } from \"react-hook-form\";\nimport { DocumentClassList } from './DocumentClass'; //import {useHistory} from 'react-router-dom'\n\nimport { UserContext, ObjectContext } from '../../context';\nimport { toast } from 'bulma-toast';\nimport AsthmaIntake from './AsthmaIntake';\nimport PulmonologyIntake from './Pulmonology';\nimport NewPatientConsult from './NewPatientConsult';\nimport ProgressNote from './ProgressNote';\nimport MedicationList from './MedicationList';\nimport Dropzone from 'react-dropzone-uploader'; //import 'react-dropzone-uploader/dist/styles.css'\n\nexport default function Clerking() {\n  _s();\n\n  var _useForm = useForm(),\n      register = _useForm.register,\n      handleSubmit = _useForm.handleSubmit,\n      setValue = _useForm.setValue,\n      getValues = _useForm.getValues; //, watch, errors, reset \n\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      error = _useState2[0],\n      setError = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      success = _useState4[0],\n      setSuccess = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      message = _useState6[0],\n      setMessage = _useState6[1]; // eslint-disable-next-line\n\n\n  var _useState7 = useState(),\n      _useState8 = _slicedToArray(_useState7, 2),\n      facility = _useState8[0],\n      setFacility = _useState8[1];\n\n  var ClientServ = client.service('clinicaldocument');\n  var uploadserv = client.service('upload'); //const history = useHistory()\n\n  var _useContext = useContext(UserContext),\n      user = _useContext.user; //,setUser\n  // eslint-disable-next-line\n\n\n  var _useState9 = useState(),\n      _useState10 = _slicedToArray(_useState9, 2),\n      currentUser = _useState10[0],\n      setCurrentUser = _useState10[1];\n\n  var _useContext2 = useContext(ObjectContext),\n      state = _useContext2.state;\n\n  var _useState11 = useState(\"Draft\"),\n      _useState12 = _slicedToArray(_useState11, 2),\n      docStatus = _useState12[0],\n      setDocStatus = _useState12[1];\n\n  var _useState13 = useState(),\n      _useState14 = _slicedToArray(_useState13, 2),\n      selectedFile = _useState14[0],\n      setSelectedFile = _useState14[1];\n\n  var _useState15 = useState(false),\n      _useState16 = _slicedToArray(_useState15, 2),\n      isFilePicked = _useState16[0],\n      setIsFilePicked = _useState16[1];\n\n  var onSubmit = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(data) {\n      var formData, res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              console.log(data.files);\n              formData = new FormData();\n              formData.append(\"files\", data.files[0]);\n              _context.next = 5;\n              return fetch('http://localhost:3035/upload', {\n                method: \"POST\",\n                body: formData\n              }).then(function (resp) {\n                /* resp = resp.json */\n                console.log(JSON.stringify(resp));\n              }).catch(function (err) {\n                console.log(err);\n              });\n\n            case 5:\n              res = _context.sent;\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onSubmit(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit(onSubmit),\n    encType: \"multipart/form-data\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      ref: register,\n      type: \"file\",\n      name: \"files\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      children: \"Submit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Clerking, \"4al8MNgAAIw47k7buOliwf8G4W4=\", false, function () {\n  return [useForm];\n});\n\n_c = Clerking;\n\nvar _c;\n\n$RefreshReg$(_c, \"Clerking\");","map":{"version":3,"sources":["/home/mfybaby/Documents/HealthStack2/HS-frontend/src/components/EncounterMgt/Clerking.js"],"names":["React","useState","useContext","useEffect","useRef","useCallback","client","DebounceInput","useForm","DocumentClassList","UserContext","ObjectContext","toast","AsthmaIntake","PulmonologyIntake","NewPatientConsult","ProgressNote","MedicationList","Dropzone","Clerking","register","handleSubmit","setValue","getValues","error","setError","success","setSuccess","message","setMessage","facility","setFacility","ClientServ","service","uploadserv","user","currentUser","setCurrentUser","state","docStatus","setDocStatus","selectedFile","setSelectedFile","isFilePicked","setIsFilePicked","onSubmit","data","console","log","files","formData","FormData","append","fetch","method","body","then","resp","JSON","stringify","catch","err","res"],"mappings":"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","sourcesContent":["/* eslint-disable */\nimport React, {useState,useContext, useEffect,useRef, useCallback} from 'react'\nimport client from '../../feathers'\nimport {DebounceInput} from 'react-debounce-input';\nimport { useForm} from \"react-hook-form\";\nimport {DocumentClassList} from './DocumentClass'\n//import {useHistory} from 'react-router-dom'\nimport {UserContext,ObjectContext} from '../../context'\nimport {toast} from 'bulma-toast'\nimport AsthmaIntake from './AsthmaIntake';\nimport PulmonologyIntake from './Pulmonology';\nimport NewPatientConsult from './NewPatientConsult';\nimport ProgressNote from './ProgressNote';\nimport MedicationList from './MedicationList';\nimport Dropzone from 'react-dropzone-uploader'\n//import 'react-dropzone-uploader/dist/styles.css'\n\n\nexport default function Clerking(){\n    const { register, handleSubmit,setValue , getValues } = useForm(); //, watch, errors, reset \n    const [error, setError] =useState(false)\n    const [success, setSuccess] =useState(false)\n    const [message,setMessage] = useState(\"\")\n    // eslint-disable-next-line\n    const [facility,setFacility] = useState()\n    const ClientServ=client.service('clinicaldocument')\n    const uploadserv=client.service('upload')\n    //const history = useHistory()\n    const {user} = useContext(UserContext) //,setUser\n    // eslint-disable-next-line\n    const [currentUser,setCurrentUser] = useState()\n    const {state}=useContext(ObjectContext)\n    const [docStatus,setDocStatus] = useState(\"Draft\")\n    const [selectedFile, setSelectedFile] = useState();\n\tconst [isFilePicked, setIsFilePicked] = useState(false)\n\n\n  const onSubmit= async(data)=>{\n      console.log(data.files)\n       const formData = new FormData()\n       formData.append(\"files\", data.files[0])\n       const res= await fetch('http://localhost:3035/upload',{\n           method:\"POST\",\n           body:formData\n       }).then((resp)=>{ \n           /* resp = resp.json */\n            console.log(JSON.stringify(resp))\n        })\n       .catch((err)=>{console.log(err)})\n       \n     /*  uploadserv.create(data.file,{\n        headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n      }) */\n  }\n\n    return(\n        <form onSubmit={handleSubmit(onSubmit)} encType=\"multipart/form-data\">\n            <input ref={register} type=\"file\" name=\"files\" />\n            <button>Submit</button>\n        </form>\n    )\n\n  \n}"]},"metadata":{},"sourceType":"module"}