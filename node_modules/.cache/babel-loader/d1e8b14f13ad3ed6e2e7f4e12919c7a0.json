{"ast":null,"code":"import _defineProperty from \"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _slicedToArray from \"/home/mfybaby/Documents/HealthStack2/HS-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/home/mfybaby/Documents/HealthStack2/HS-frontend/src/components/inventory/ProductEntry.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$(),\n    _s4 = $RefreshSig$(),\n    _s5 = $RefreshSig$(),\n    _s6 = $RefreshSig$();\n\n/* eslint-disable */\nimport React, { useState, useContext, useEffect, useRef } from 'react';\nimport client from '../../feathers';\nimport { DebounceInput } from 'react-debounce-input';\nimport { useForm } from \"react-hook-form\"; //import {useHistory} from 'react-router-dom'\n\nimport { UserContext, ObjectContext } from '../../context';\nimport { toast } from 'bulma-toast';\nimport { ProductCreate } from './Products';\nimport { formatDistanceToNowStrict, format, subDays, addDays } from 'date-fns';\nimport DatePicker from \"react-datepicker\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport \"react-datepicker/dist/react-datepicker.css\"; // eslint-disable-next-line\n\nvar searchfacility = {};\nexport default function ProductEntry() {\n  _s();\n\n  var _useContext = useContext(ObjectContext),\n      state = _useContext.state; //,setState\n  // eslint-disable-next-line\n\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      selectedProductEntry = _useState2[0],\n      setSelectedProductEntry = _useState2[1]; //const [showState,setShowState]=useState() //create|modify|detail\n\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"section remPadTop\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"columns \",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"column is-6 \",\n        children: /*#__PURE__*/_jsxDEV(ProductEntryList, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"column is-6 \",\n        children: [state.ProductEntryModule.show === 'create' && /*#__PURE__*/_jsxDEV(ProductEntryCreate, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 63\n        }, this), state.ProductEntryModule.show === 'detail' && /*#__PURE__*/_jsxDEV(ProductEntryDetail, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 63\n        }, this), state.ProductEntryModule.show === 'modify' && /*#__PURE__*/_jsxDEV(ProductEntryModify, {\n          ProductEntry: selectedProductEntry\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 63\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 9\n  }, this);\n}\n\n_s(ProductEntry, \"rbONvdOqtpnibg4yTxOvgQUvlCY=\");\n\n_c = ProductEntry;\nexport function ProductEntryCreate() {\n  _s2();\n\n  var _this = this;\n\n  // const { register, handleSubmit,setValue} = useForm(); //, watch, errors, reset \n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      error = _useState4[0],\n      setError = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      success = _useState6[0],\n      setSuccess = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      message = _useState8[0],\n      setMessage = _useState8[1]; // eslint-disable-next-line\n\n\n  var _useState9 = useState(),\n      _useState10 = _slicedToArray(_useState9, 2),\n      facility = _useState10[0],\n      setFacility = _useState10[1];\n\n  var ProductEntryServ = client.service('productentry'); //const history = useHistory()\n\n  var _useContext2 = useContext(UserContext),\n      user = _useContext2.user; //,setUser\n  // eslint-disable-next-line\n\n\n  var _useState11 = useState(),\n      _useState12 = _slicedToArray(_useState11, 2),\n      currentUser = _useState12[0],\n      setCurrentUser = _useState12[1];\n\n  var _useState13 = useState(\"Purchase Invoice\"),\n      _useState14 = _slicedToArray(_useState13, 2),\n      type = _useState14[0],\n      setType = _useState14[1];\n\n  var _useState15 = useState(\"\"),\n      _useState16 = _slicedToArray(_useState15, 2),\n      documentNo = _useState16[0],\n      setDocumentNo = _useState16[1];\n\n  var _useState17 = useState(\"\"),\n      _useState18 = _slicedToArray(_useState17, 2),\n      totalamount = _useState18[0],\n      setTotalamount = _useState18[1];\n\n  var _useState19 = useState(\"\"),\n      _useState20 = _slicedToArray(_useState19, 2),\n      productId = _useState20[0],\n      setProductId = _useState20[1];\n\n  var _useState21 = useState(\"\"),\n      _useState22 = _slicedToArray(_useState21, 2),\n      source = _useState22[0],\n      setSource = _useState22[1];\n\n  var _useState23 = useState(\"\"),\n      _useState24 = _slicedToArray(_useState23, 2),\n      date = _useState24[0],\n      setDate = _useState24[1];\n\n  var _useState25 = useState(\"\"),\n      _useState26 = _slicedToArray(_useState25, 2),\n      name = _useState26[0],\n      setName = _useState26[1];\n\n  var _useState27 = useState(\"\"),\n      _useState28 = _slicedToArray(_useState27, 2),\n      baseunit = _useState28[0],\n      setBaseunit = _useState28[1];\n\n  var _useState29 = useState(\"\"),\n      _useState30 = _slicedToArray(_useState29, 2),\n      quantity = _useState30[0],\n      setQuantity = _useState30[1];\n\n  var _useState31 = useState(\"\"),\n      _useState32 = _slicedToArray(_useState31, 2),\n      costprice = _useState32[0],\n      setCostprice = _useState32[1];\n\n  var _useState33 = useState([]),\n      _useState34 = _slicedToArray(_useState33, 2),\n      productItem = _useState34[0],\n      setProductItem = _useState34[1];\n\n  var _useContext3 = useContext(ObjectContext),\n      state = _useContext3.state;\n  /*  const [productEntry,setProductEntry]=useState({\n       productitems:[],\n       date,\n       documentNo,\n       type,\n       totalamount,\n       source,\n    })\n  */\n\n\n  var productItemI = {\n    productId: productId,\n    name: name,\n    quantity: quantity,\n    costprice: costprice,\n    amount: quantity * costprice,\n    baseunit: baseunit\n  }; // consider batchformat{batchno,expirydate,qtty,baseunit}\n  //consider baseunoit conversions\n\n  var getSearchfacility = function getSearchfacility(obj) {\n    setProductId(obj._id);\n    setName(obj.name);\n    setBaseunit(obj.baseunit);\n    /*  setValue(\"facility\", obj._id,  {\n         shouldValidate: true,\n         shouldDirty: true\n     }) */\n  };\n\n  useEffect(function () {\n    setCurrentUser(user); //console.log(currentUser)\n\n    return function () {};\n  }, [user]);\n\n  var handleChangeType = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return setType(e.target.value);\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleChangeType(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var handleClickProd = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              if (!(!productId || !quantity || !costprice)) {\n                _context2.next = 3;\n                break;\n              }\n\n              toast({\n                message: 'Kindly choose Product,price and quantity',\n                type: 'is-danger',\n                dismissible: true,\n                pauseOnHover: true\n              });\n              return _context2.abrupt(\"return\");\n\n            case 3:\n              _context2.next = 5;\n              return setSuccess(false);\n\n            case 5:\n              setProductItem(function (prevProd) {\n                return prevProd.concat(productItemI);\n              });\n              setName(\"\");\n              setBaseunit(\"\");\n              setQuantity(\"\");\n              setCostprice(\"\");\n              _context2.next = 12;\n              return setSuccess(true);\n\n            case 12:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function handleClickProd() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var handleDate = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(date) {\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              setDate(date);\n\n            case 1:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function handleDate(_x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var resetform = function resetform() {\n    setType(\"Purchase Invoice\");\n    setDocumentNo(\"\");\n    setTotalamount(\"\");\n    setProductId(\"\");\n    setSource(\"\");\n    setDate(\"\");\n    setName(\"\");\n    setBaseunit(\"\");\n    setCostprice(\"\");\n    setProductItem([]);\n  };\n\n  var onSubmit = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(e) {\n      var confirm, productEntry;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              confirm = window.confirm(\"Are you sure you want to save this entry ?\");\n\n              if (!confirm) {\n                _context4.next = 26;\n                break;\n              }\n\n              e.preventDefault();\n              setMessage(\"\");\n              setError(false);\n              setSuccess(false);\n\n              if (date) {\n                _context4.next = 9;\n                break;\n              }\n\n              toast({\n                message: 'Kindly choose date',\n                type: 'is-danger',\n                dismissible: true,\n                pauseOnHover: true\n              });\n              return _context4.abrupt(\"return\");\n\n            case 9:\n              productEntry = {\n                date: date,\n                documentNo: documentNo,\n                type: type,\n                totalamount: totalamount,\n                source: source\n              };\n              productEntry.productitems = productItem;\n              productEntry.createdby = user._id;\n              productEntry.transactioncategory = \"credit\"; //console.log(\"b4 facility\",productEntry);\n\n              if (!user.currentEmployee) {\n                _context4.next = 17;\n                break;\n              }\n\n              productEntry.facility = user.currentEmployee.facilityDetail._id; // or from facility dropdown\n\n              _context4.next = 19;\n              break;\n\n            case 17:\n              toast({\n                message: 'You can not add inventory to any organization',\n                type: 'is-danger',\n                dismissible: true,\n                pauseOnHover: true\n              });\n              return _context4.abrupt(\"return\");\n\n            case 19:\n              if (!state.StoreModule.selectedStore._id) {\n                _context4.next = 23;\n                break;\n              }\n\n              productEntry.storeId = state.StoreModule.selectedStore._id;\n              _context4.next = 25;\n              break;\n\n            case 23:\n              toast({\n                message: 'You need to select a store before adding inventory',\n                type: 'is-danger',\n                dismissible: true,\n                pauseOnHover: true\n              });\n              return _context4.abrupt(\"return\");\n\n            case 25:\n              //console.log(\"b4 create\",productEntry);\n              ProductEntryServ.create(productEntry).then(function (res) {\n                //console.log(JSON.stringify(res))\n                resetform();\n                /*  setMessage(\"Created ProductEntry successfully\") */\n\n                setSuccess(true);\n                toast({\n                  message: 'ProductEntry created succesfully',\n                  type: 'is-success',\n                  dismissible: true,\n                  pauseOnHover: true\n                });\n                setSuccess(false);\n                setProductItem([]);\n              }).catch(function (err) {\n                toast({\n                  message: 'Error creating ProductEntry ' + err,\n                  type: 'is-danger',\n                  dismissible: true,\n                  pauseOnHover: true\n                });\n              });\n\n            case 26:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function onSubmit(_x3) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  var removeEntity = function removeEntity(entity, i) {\n    //console.log(entity)\n    setProductItem(function (prev) {\n      return prev.filter(function (obj, index) {\n        return index !== i;\n      });\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card card-overflow\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-header\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"card-header-title\",\n          children: \"Create ProductEntry: Initialization, Purchase Invoice, Audit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-content \",\n        children: [/*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: onSubmit,\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"field is-horizontal\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field-body\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"field\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"control\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"select is-small\",\n                    children: /*#__PURE__*/_jsxDEV(\"select\", {\n                      name: \"type\",\n                      value: type,\n                      onChange: handleChangeType,\n                      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"\",\n                        children: \"Choose Type \"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 261,\n                        columnNumber: 28\n                      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"Purchase Invoice\",\n                        children: \"Purchase Invoice \"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 262,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"Initialization\",\n                        children: \"Initialization\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 263,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"Audit\",\n                        children: \"Audit\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 264,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 260,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 259,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"field\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"control has-icons-left has-icons-right\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    className: \"input is-small\"\n                    /* ref={register({ required: true })} */\n                    ,\n                    value: source,\n                    name: \"supplier\",\n                    type: \"text\",\n                    onChange: function onChange(e) {\n                      return setSource(e.target.value);\n                    },\n                    placeholder: \"Supplier\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 271,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"icon is-small is-left\",\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fas fa-hospital\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 273,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 272,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 270,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 13\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"field is-horizontal\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field-body\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"field\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"control has-icons-left has-icons-right\",\n                  children: /*#__PURE__*/_jsxDEV(DatePicker, {\n                    selected: date,\n                    onChange: function onChange(date) {\n                      return handleDate(date);\n                    },\n                    dateFormat: \"dd/MM/yyyy\",\n                    placeholderText: \"Pick Date\" //isClearable\n\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 285,\n                    columnNumber: 17\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 284,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 16\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"field\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"control has-icons-left\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    className: \"input is-small\"\n                    /* ref={register} */\n                    ,\n                    name: \"documentNo\",\n                    value: documentNo,\n                    type: \"text\",\n                    onChange: function onChange(e) {\n                      return setDocumentNo(e.target.value);\n                    },\n                    placeholder: \" Invoice Number\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 301,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"icon is-small is-left\",\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fas fa-phone-alt\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 303,\n                      columnNumber: 21\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 302,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 300,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"field\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"control has-icons-left\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    className: \"input is-small\"\n                    /* ref={register({ required: true })} */\n                    ,\n                    value: totalamount,\n                    name: \"totalamount\",\n                    type: \"text\",\n                    onChange: /*#__PURE__*/function () {\n                      var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(e) {\n                        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n                          while (1) {\n                            switch (_context5.prev = _context5.next) {\n                              case 0:\n                                _context5.next = 2;\n                                return setTotalamount(e.target.value);\n\n                              case 2:\n                                return _context5.abrupt(\"return\", _context5.sent);\n\n                              case 3:\n                              case \"end\":\n                                return _context5.stop();\n                            }\n                          }\n                        }, _callee5);\n                      }));\n\n                      return function (_x4) {\n                        return _ref5.apply(this, arguments);\n                      };\n                    }(),\n                    placeholder: \" Total Amount\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 309,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"icon is-small is-left\",\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fas fa-coins\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 311,\n                      columnNumber: 21\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 310,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 308,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 16\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 16\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"label is-small\",\n          children: \"Add Product Items:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"field is-horizontal\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"field-body\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field is-expanded\"\n              /* style={ !user.stacker?{display:\"none\"}:{}} */\n              ,\n              children: [/*#__PURE__*/_jsxDEV(ProductSearch, {\n                getSearchfacility: getSearchfacility,\n                clear: success\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 328,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"control has-icons-left \",\n                style: {\n                  display: \"none\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"input is-small\"\n                  /* ref={register ({ required: true }) }  */\n\n                  /* add array no */\n                  ,\n                  value: productId,\n                  name: \"productId\",\n                  type: \"text\",\n                  onChange: function onChange(e) {\n                    return setProductId(e.target.value);\n                  },\n                  placeholder: \"Product Id\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 330,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"icon is-small is-left\",\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas  fa-map-marker-alt\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 332,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 331,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 329,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 327,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 10\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"field is-horizontal\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"field-body\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"control has-icons-left\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"input is-small\"\n                  /* ref={register({ required: true })} */\n                  ,\n                  name: \"quantity\",\n                  value: quantity,\n                  type: \"text\",\n                  onChange: function onChange(e) {\n                    return setQuantity(e.target.value);\n                  },\n                  placeholder: \"Quantity\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 342,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"icon is-small is-left\",\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-envelope\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 344,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 343,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                children: baseunit\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 347,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"control has-icons-left\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"input is-small\"\n                  /* ref={register({ required: true })} */\n                  ,\n                  name: \"costprice\",\n                  value: costprice,\n                  type: \"text\",\n                  onChange: function onChange(e) {\n                    return setCostprice(e.target.value);\n                  },\n                  placeholder: \"Cost Price\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 351,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"icon is-small is-left\",\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-dollar-sign\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 353,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 352,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 350,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 349,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"control\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"button is-info is-small  is-pulled-right minHt\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"is-small\",\n                    onClick: handleClickProd,\n                    children: \" +\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 360,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 359,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 358,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 357,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 17\n        }, this), productItem.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Product Items:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"table-container  vscrol\",\n            id: \"scrollableDiv\",\n            children: /*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"table is-striped  is-hoverable is-fullwidth is-scrollable \",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    children: /*#__PURE__*/_jsxDEV(\"abbr\", {\n                      title: \"Serial No\",\n                      children: \"S/No\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 373,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 373,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: /*#__PURE__*/_jsxDEV(\"abbr\", {\n                      title: \"Type\",\n                      children: \"Name\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 374,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 374,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: /*#__PURE__*/_jsxDEV(\"abbr\", {\n                      title: \"Type\",\n                      children: \"Quanitity\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 375,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 375,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: /*#__PURE__*/_jsxDEV(\"abbr\", {\n                      title: \"Document No\",\n                      children: \"Unit\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 376,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 376,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: /*#__PURE__*/_jsxDEV(\"abbr\", {\n                      title: \"Cost Price\",\n                      children: \"Cost Price\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 377,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 377,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: /*#__PURE__*/_jsxDEV(\"abbr\", {\n                      title: \"Cost Price\",\n                      children: \"Amount\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 378,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 378,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: /*#__PURE__*/_jsxDEV(\"abbr\", {\n                      title: \"Actions\",\n                      children: \"Actions\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 379,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 379,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 372,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 371,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"tfoot\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 382,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: productItem.map(function (ProductEntry, i) {\n                  return /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      children: i + 1\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 389,\n                      columnNumber: 25\n                    }, _this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: ProductEntry.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 390,\n                      columnNumber: 25\n                    }, _this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: ProductEntry.quantity\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 391,\n                      columnNumber: 25\n                    }, _this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: ProductEntry.baseunit\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 392,\n                      columnNumber: 25\n                    }, _this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: ProductEntry.costprice\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 393,\n                      columnNumber: 25\n                    }, _this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: ProductEntry.amount\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 394,\n                      columnNumber: 25\n                    }, _this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      onClick: function onClick() {\n                        return removeEntity(ProductEntry, i);\n                      },\n                      children: /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"showAction\",\n                        children: \"x\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 395,\n                        columnNumber: 72\n                      }, _this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 395,\n                      columnNumber: 25\n                    }, _this)]\n                  }, i, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 388,\n                    columnNumber: 25\n                  }, _this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 385,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 370,\n              columnNumber: 10\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"field mt-2\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"control\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"button is-success is-small\",\n                disabled: !productItem.length > 0,\n                onClick: onSubmit,\n                children: \"Create\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 405,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 404,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 35\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n\n_s2(ProductEntryCreate, \"1dyatCm/ibZlYgJcmEsBqk1cNNY=\");\n\n_c2 = ProductEntryCreate;\nexport function ProductEntryList() {\n  _s3();\n\n  var _this2 = this;\n\n  // const { register, handleSubmit, watch, errors } = useForm();\n  // eslint-disable-next-line\n  var _useState35 = useState(false),\n      _useState36 = _slicedToArray(_useState35, 2),\n      error = _useState36[0],\n      setError = _useState36[1]; // eslint-disable-next-line\n\n\n  var _useState37 = useState(false),\n      _useState38 = _slicedToArray(_useState37, 2),\n      success = _useState38[0],\n      setSuccess = _useState38[1]; // eslint-disable-next-line\n\n\n  var _useState39 = useState(\"\"),\n      _useState40 = _slicedToArray(_useState39, 2),\n      message = _useState40[0],\n      setMessage = _useState40[1];\n\n  var ProductEntryServ = client.service('productentry'); //const history = useHistory()\n  // const {user,setUser} = useContext(UserContext)\n\n  var _useState41 = useState([]),\n      _useState42 = _slicedToArray(_useState41, 2),\n      facilities = _useState42[0],\n      setFacilities = _useState42[1]; // eslint-disable-next-line\n\n\n  var _useState43 = useState(),\n      _useState44 = _slicedToArray(_useState43, 2),\n      selectedProductEntry = _useState44[0],\n      setSelectedProductEntry = _useState44[1]; //\n  // eslint-disable-next-line\n\n\n  var _useContext4 = useContext(ObjectContext),\n      state = _useContext4.state,\n      setState = _useContext4.setState; // eslint-disable-next-line\n\n\n  var _useContext5 = useContext(UserContext),\n      user = _useContext5.user,\n      setUser = _useContext5.setUser;\n\n  var _useState45 = useState(0),\n      _useState46 = _slicedToArray(_useState45, 2),\n      page = _useState46[0],\n      setPage = _useState46[1];\n\n  var _useState47 = useState(20),\n      _useState48 = _slicedToArray(_useState47, 2),\n      limit = _useState48[0],\n      setLimit = _useState48[1];\n\n  var _useState49 = useState(0),\n      _useState50 = _slicedToArray(_useState49, 2),\n      total = _useState50[0],\n      setTotal = _useState50[1];\n\n  var _useState51 = useState(true),\n      _useState52 = _slicedToArray(_useState51, 2),\n      restful = _useState52[0],\n      setRestful = _useState52[1];\n\n  var _useState53 = useState(false),\n      _useState54 = _slicedToArray(_useState53, 2),\n      next = _useState54[0],\n      setNext = _useState54[1];\n\n  var handleCreateNew = /*#__PURE__*/function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6() {\n      var newProductEntryModule;\n      return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              newProductEntryModule = {\n                selectedProductEntry: {},\n                show: 'create'\n              };\n              _context6.next = 3;\n              return setState(function (prevstate) {\n                return _objectSpread(_objectSpread({}, prevstate), {}, {\n                  ProductEntryModule: newProductEntryModule\n                });\n              });\n\n            case 3:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6);\n    }));\n\n    return function handleCreateNew() {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n\n  var handleRow = /*#__PURE__*/function () {\n    var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7(ProductEntry) {\n      var newProductEntryModule;\n      return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              _context7.next = 2;\n              return setSelectedProductEntry(ProductEntry);\n\n            case 2:\n              newProductEntryModule = {\n                selectedProductEntry: ProductEntry,\n                show: 'detail'\n              };\n              _context7.next = 5;\n              return setState(function (prevstate) {\n                return _objectSpread(_objectSpread({}, prevstate), {}, {\n                  ProductEntryModule: newProductEntryModule\n                });\n              });\n\n            case 5:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, _callee7);\n    }));\n\n    return function handleRow(_x5) {\n      return _ref7.apply(this, arguments);\n    };\n  }();\n\n  var handleSearch = /*#__PURE__*/function () {\n    var _ref8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8(val) {\n      var field;\n      return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n        while (1) {\n          switch (_context8.prev = _context8.next) {\n            case 0:\n              field = 'source'; //console.log(val)\n\n              ProductEntryServ.find({\n                query: {\n                  $or: [{\n                    source: {\n                      $regex: val,\n                      $options: 'i'\n                    }\n                  }, {\n                    type: {\n                      $regex: val,\n                      $options: 'i'\n                    }\n                  }],\n                  storeId: state.StoreModule.selectedStore._id,\n                  facility: user.currentEmployee.facilityDetail._id || \"\",\n                  $limit: 100,\n                  $sort: {\n                    createdAt: -1\n                  }\n                }\n              }).then(function (res) {\n                //console.log(res)\n                setFacilities(res.data);\n                setTotal(res.total);\n                setMessage(\" ProductEntry  fetched successfully\");\n                setSuccess(true);\n              }).catch(function (err) {\n                //  console.log(err)\n                setMessage(\"Error fetching ProductEntry, probable network issues \" + err);\n                setError(true);\n              });\n\n            case 2:\n            case \"end\":\n              return _context8.stop();\n          }\n        }\n      }, _callee8);\n    }));\n\n    return function handleSearch(_x6) {\n      return _ref8.apply(this, arguments);\n    };\n  }();\n\n  var getFacilities = /*#__PURE__*/function () {\n    var _ref9 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee9() {\n      var findProductEntry, _findProductEntry;\n\n      return _regeneratorRuntime.wrap(function _callee9$(_context9) {\n        while (1) {\n          switch (_context9.prev = _context9.next) {\n            case 0:\n              if (!user.currentEmployee) {\n                _context9.next = 11;\n                break;\n              }\n\n              _context9.next = 3;\n              return ProductEntryServ.find({\n                query: {\n                  facility: user.currentEmployee.facilityDetail._id,\n                  storeId: state.StoreModule.selectedStore._id,\n                  $limit: limit,\n                  $skip: page * limit,\n\n                  /*  $limit:20, */\n                  $sort: {\n                    createdAt: -1\n                  }\n                }\n              });\n\n            case 3:\n              findProductEntry = _context9.sent;\n              _context9.next = 6;\n              return setTotal(findProductEntry.total);\n\n            case 6:\n              _context9.next = 8;\n              return setFacilities(function (prevstate) {\n                return prevstate.concat(findProductEntry.data);\n              });\n\n            case 8:\n              if (findProductEntry.total > findProductEntry.skip) {\n                setNext(true);\n                setPage(function (page) {\n                  return page + 1;\n                });\n              } else {\n                setNext(false);\n              }\n\n              _context9.next = 17;\n              break;\n\n            case 11:\n              if (!user.stacker) {\n                _context9.next = 17;\n                break;\n              }\n\n              _context9.next = 14;\n              return ProductEntryServ.find({\n                query: {\n                  $limit: 20,\n                  $sort: {\n                    createdAt: -1\n                  }\n                }\n              });\n\n            case 14:\n              _findProductEntry = _context9.sent;\n              _context9.next = 17;\n              return setFacilities(_findProductEntry.data);\n\n            case 17:\n            case \"end\":\n              return _context9.stop();\n          }\n        }\n      }, _callee9);\n    }));\n\n    return function getFacilities() {\n      return _ref9.apply(this, arguments);\n    };\n  }();\n\n  var getNewFacilities = /*#__PURE__*/function () {\n    var _ref10 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee10() {\n      var findProductEntry, _findProductEntry2;\n\n      return _regeneratorRuntime.wrap(function _callee10$(_context10) {\n        while (1) {\n          switch (_context10.prev = _context10.next) {\n            case 0:\n              if (!user.currentEmployee) {\n                _context10.next = 6;\n                break;\n              }\n\n              _context10.next = 3;\n              return ProductEntryServ.find({\n                query: {\n                  facility: user.currentEmployee.facilityDetail._id,\n                  storeId: state.StoreModule.selectedStore._id,\n                  $limit: limit,\n                  //$skip:page * limit,\n\n                  /*  $limit:20, */\n                  $sort: {\n                    createdAt: -1\n                  }\n                }\n              }).then(function (resp) {\n                setTotal(resp.total);\n                setFacilities(resp.data);\n\n                if (resp.total > resp.data.length) {\n                  setNext(true);\n                  setPage(function (page) {\n                    return page + 1;\n                  });\n                } else {\n                  setNext(false);\n                }\n              }).catch(function (err) {\n                console.log(err);\n              });\n\n            case 3:\n              findProductEntry = _context10.sent;\n              _context10.next = 12;\n              break;\n\n            case 6:\n              if (!user.stacker) {\n                _context10.next = 12;\n                break;\n              }\n\n              _context10.next = 9;\n              return ProductEntryServ.find({\n                query: {\n                  $limit: 20,\n                  $sort: {\n                    createdAt: -1\n                  }\n                }\n              });\n\n            case 9:\n              _findProductEntry2 = _context10.sent;\n              _context10.next = 12;\n              return setFacilities(_findProductEntry2.data);\n\n            case 12:\n            case \"end\":\n              return _context10.stop();\n          }\n        }\n      }, _callee10);\n    }));\n\n    return function getNewFacilities() {\n      return _ref10.apply(this, arguments);\n    };\n  }();\n\n  var getUpdatedFacilities = /*#__PURE__*/function () {\n    var _ref11 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee11() {\n      var findProductEntry;\n      return _regeneratorRuntime.wrap(function _callee11$(_context11) {\n        while (1) {\n          switch (_context11.prev = _context11.next) {\n            case 0:\n              _context11.next = 2;\n              return ProductEntryServ.find({\n                query: {\n                  facility: user.currentEmployee.facilityDetail._id,\n                  storeId: state.employeeLocation.locationId,\n                  $limit: limit,\n                  $sort: {\n                    createdAt: -1\n                  }\n                }\n              }).then(function (resp) {\n                setTotal(resp.total);\n                updatelist(resp.data); //setFacilities(resp.data)\n\n                if (resp.total > resp.data.length) {\n                  setNext(true);\n                  setPage(function (page) {\n                    return page + 1;\n                  });\n                } else {\n                  setNext(false);\n                }\n              }).catch(function (err) {\n                console.log(err);\n              });\n\n            case 2:\n              findProductEntry = _context11.sent;\n\n            case 3:\n            case \"end\":\n              return _context11.stop();\n          }\n        }\n      }, _callee11);\n    }));\n\n    return function getUpdatedFacilities() {\n      return _ref11.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    if (!state.StoreModule.selectedStore) {\n      toast({\n        message: 'kindly select a store',\n        type: 'is-danger',\n        dismissible: true,\n        pauseOnHover: true\n      });\n      return; //  getFacilities()\n    }\n\n    ProductEntryServ.on('created', function (obj) {\n      return getUpdatedFacilities();\n    });\n    ProductEntryServ.on('updated', function (obj) {\n      return getUpdatedFacilities();\n    });\n    ProductEntryServ.on('patched', function (obj) {\n      return getUpdatedFacilities();\n    });\n    ProductEntryServ.on('removed', function (obj) {\n      return getUpdatedFacilities();\n    });\n    return function () {};\n  }, []);\n\n  var updatelist = /*#__PURE__*/function () {\n    var _ref12 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee12(data) {\n      return _regeneratorRuntime.wrap(function _callee12$(_context12) {\n        while (1) {\n          switch (_context12.prev = _context12.next) {\n            case 0:\n              _context12.next = 2;\n              return setFacilities(data);\n\n            case 2:\n            case \"end\":\n              return _context12.stop();\n          }\n        }\n      }, _callee12);\n    }));\n\n    return function updatelist(_x7) {\n      return _ref12.apply(this, arguments);\n    };\n  }();\n\n  var updates = function updates() {\n    // setFacilities([])\n    rest1();\n  };\n\n  useEffect(function () {\n    rest1();\n    return function () {};\n  }, [state.StoreModule.selectedStore._id]); //todo: pagination and vertical scroll bar\n\n  var rest1 = /*#__PURE__*/function () {\n    var _ref13 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee13() {\n      return _regeneratorRuntime.wrap(function _callee13$(_context13) {\n        while (1) {\n          switch (_context13.prev = _context13.next) {\n            case 0:\n              setPage(0);\n              setTotal(0);\n              getNewFacilities();\n\n            case 3:\n            case \"end\":\n              return _context13.stop();\n          }\n        }\n      }, _callee13);\n    }));\n\n    return function rest1() {\n      return _ref13.apply(this, arguments);\n    };\n  }();\n\n  var handleDelete = /*#__PURE__*/function () {\n    var _ref14 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee14(obj) {\n      var confirm;\n      return _regeneratorRuntime.wrap(function _callee14$(_context14) {\n        while (1) {\n          switch (_context14.prev = _context14.next) {\n            case 0:\n              confirm = window.confirm(\"Are you sure you want to delete this entry with Document No: \".concat(obj.documentNo, \" ?\"));\n\n              if (!confirm) {\n                _context14.next = 4;\n                break;\n              }\n\n              _context14.next = 4;\n              return ProductEntryServ.remove(obj._id).then(function (resp) {\n                toast({\n                  message: 'Sucessfuly deleted ProductEntry ',\n                  type: 'is-success',\n                  dismissible: true,\n                  pauseOnHover: true\n                });\n              }).catch(function (err) {\n                toast({\n                  message: 'Error deleting ProductEntry ' + err,\n                  type: 'is-danger',\n                  dismissible: true,\n                  pauseOnHover: true\n                });\n              });\n\n            case 4:\n            case \"end\":\n              return _context14.stop();\n          }\n        }\n      }, _callee14);\n    }));\n\n    return function handleDelete(_x8) {\n      return _ref14.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: state.StoreModule.selectedStore ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"level\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"level-left\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"level-item\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"control has-icons-left  \",\n                children: [/*#__PURE__*/_jsxDEV(DebounceInput, {\n                  className: \"input is-small \",\n                  type: \"text\",\n                  placeholder: \"Search Type or Source\",\n                  minLength: 3,\n                  debounceTimeout: 400,\n                  onChange: function onChange(e) {\n                    return handleSearch(e.target.value);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 709,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"icon is-small is-left\",\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-search\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 715,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 714,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 708,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 707,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 706,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 705,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"level-item\",\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"is-size-6 has-text-weight-medium\",\n            children: \"List of Product Additions to Inventory \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 721,\n            columnNumber: 50\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 721,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"level-right\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"level-item\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"level-item\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"button is-success is-small\",\n                onClick: handleCreateNew,\n                children: \"New\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 724,\n                columnNumber: 57\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 724,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 723,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 722,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 704,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"table-container pullup vscrola\",\n        id: \"scrollableDiv\",\n        children: /*#__PURE__*/_jsxDEV(InfiniteScroll, {\n          dataLength: facilities.length,\n          next: getFacilities,\n          hasMore: total > facilities.length,\n          loader: /*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Loading...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 736,\n            columnNumber: 33\n          }, this),\n          scrollableTarget: \"scrollableDiv\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"table is-striped is-narrow is-hoverable is-fullwidth is-scrollable \",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: /*#__PURE__*/_jsxDEV(\"abbr\", {\n                    title: \"Serial No\",\n                    children: \"S/No\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 742,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 742,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: /*#__PURE__*/_jsxDEV(\"abbr\", {\n                    title: \"Date\",\n                    children: \"Date\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 743,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 743,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: /*#__PURE__*/_jsxDEV(\"abbr\", {\n                    title: \"Type\",\n                    children: \"Type\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 744,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 744,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Source\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 745,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: /*#__PURE__*/_jsxDEV(\"abbr\", {\n                    title: \"Document No\",\n                    children: \"Document No\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 746,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 746,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: /*#__PURE__*/_jsxDEV(\"abbr\", {\n                    title: \"Total Amount\",\n                    children: \"Total Amount\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 747,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 747,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: /*#__PURE__*/_jsxDEV(\"abbr\", {\n                    title: \"Actions\",\n                    children: \"Actions\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 749,\n                    columnNumber: 46\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 749,\n                  columnNumber: 42\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 741,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 740,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"tfoot\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 752,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: facilities.map(function (ProductEntry, i) {\n                return /*#__PURE__*/_jsxDEV(\"tr\", {\n                  onClick: function onClick() {\n                    return handleRow(ProductEntry);\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    children: i + 1\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 759,\n                    columnNumber: 45\n                  }, _this2), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: ProductEntry.date ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: format(new Date(ProductEntry.date), \"dd-MM-yy HH:mm\")\n                    }, void 0, false) : \"\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 760,\n                    columnNumber: 45\n                  }, _this2), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: ProductEntry.type\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 761,\n                    columnNumber: 45\n                  }, _this2), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: ProductEntry.source\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 762,\n                    columnNumber: 45\n                  }, _this2), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: ProductEntry.documentNo\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 763,\n                    columnNumber: 45\n                  }, _this2), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: ProductEntry.totalamount\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 764,\n                    columnNumber: 45\n                  }, _this2), /*#__PURE__*/_jsxDEV(\"td\", {\n                    onClick: function onClick() {\n                      return handleDelete(ProductEntry);\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"showAction\",\n                      children: \"X\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 766,\n                      columnNumber: 89\n                    }, _this2)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 766,\n                    columnNumber: 44\n                  }, _this2)]\n                }, ProductEntry._id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 758,\n                  columnNumber: 45\n                }, _this2);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 755,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 739,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 732,\n          columnNumber: 19\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 730,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"loading... \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 776,\n      columnNumber: 18\n    }, this)\n  }, void 0, false);\n}\n\n_s3(ProductEntryList, \"hE5622+2ykB3EJ2td/wdXKCpq8Q=\");\n\n_c3 = ProductEntryList;\nexport function ProductEntryDetail() {\n  _s4();\n\n  var _this3 = this;\n\n  //const { register, handleSubmit, watch, setValue } = useForm(); //errors,\n  // eslint-disable-next-line\n  var _useState55 = useState(false),\n      _useState56 = _slicedToArray(_useState55, 2),\n      error = _useState56[0],\n      setError = _useState56[1]; //, \n  //const [success, setSuccess] =useState(false)\n  // eslint-disable-next-line\n\n\n  var _useState57 = useState(\"\"),\n      _useState58 = _slicedToArray(_useState57, 2),\n      message = _useState58[0],\n      setMessage = _useState58[1]; //,\n  //const ProductEntryServ=client.service('/ProductEntry')\n  //const history = useHistory()\n  //const {user,setUser} = useContext(UserContext)\n\n\n  var _useContext6 = useContext(ObjectContext),\n      state = _useContext6.state,\n      setState = _useContext6.setState;\n\n  var ProductEntry = state.ProductEntryModule.selectedProductEntry;\n\n  var handleEdit = /*#__PURE__*/function () {\n    var _ref15 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee15() {\n      var newProductEntryModule;\n      return _regeneratorRuntime.wrap(function _callee15$(_context15) {\n        while (1) {\n          switch (_context15.prev = _context15.next) {\n            case 0:\n              newProductEntryModule = {\n                selectedProductEntry: ProductEntry,\n                show: 'modify'\n              };\n              _context15.next = 3;\n              return setState(function (prevstate) {\n                return _objectSpread(_objectSpread({}, prevstate), {}, {\n                  ProductEntryModule: newProductEntryModule\n                });\n              });\n\n            case 3:\n            case \"end\":\n              return _context15.stop();\n          }\n        }\n      }, _callee15);\n    }));\n\n    return function handleEdit() {\n      return _ref15.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card \",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-header\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"card-header-title\",\n          children: \"ProductEntry Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 814,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 813,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-content vscrollable\",\n        children: [/*#__PURE__*/_jsxDEV(\"table\", {\n          children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"label is-small\",\n                  children: [\" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"icon is-small is-left\",\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fas fa-hospital\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 825,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 824,\n                    columnNumber: 58\n                  }, this), \"Type\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 824,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 823,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"is-size-7 padleft\",\n                  name: \"name\",\n                  children: [\" \", ProductEntry.type, \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 831,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 830,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 833,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"label is-small padleft\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"icon is-small is-left\",\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fas fa-map-signs\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 838,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 837,\n                    columnNumber: 67\n                  }, this), \"Supplier:\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 837,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 836,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"is-size-7 padleft\",\n                  name: \"ProductEntryType\",\n                  children: [ProductEntry.source, \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 843,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 842,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 822,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"label is-small\",\n                  children: [\" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"icon is-small is-left\",\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fas fa-hospital\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 849,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 848,\n                    columnNumber: 60\n                  }, this), \"Date:\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 848,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 847,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"is-size-7 padleft\",\n                  name: \"name\",\n                  children: [\" \", format(new Date(ProductEntry.date), \"dd-MM-yy HH:mm\"), \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 855,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 854,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 857,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"label is-small padleft\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"icon is-small is-left\",\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fas fa-map-signs\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 862,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 861,\n                    columnNumber: 67\n                  }, this), \"Invoice No:\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 861,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 860,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"is-size-7 padleft\",\n                  name: \"ProductEntryType\",\n                  children: [ProductEntry.documentNo, \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 868,\n                  columnNumber: 26\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 867,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 846,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"label is-small\",\n                  children: [\" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"icon is-small is-left\",\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fas fa-hospital\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 875,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 874,\n                    columnNumber: 60\n                  }, this), \"Total Amount:\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 874,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 872,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"is-size-7 padleft\",\n                  name: \"name\",\n                  children: [\" \", ProductEntry.totalamount, \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 881,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 880,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 871,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 821,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 820,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"label is-size-7 mt-2\",\n          children: \"Product Items:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 887,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"table is-striped  is-hoverable is-fullwidth is-scrollable \",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: /*#__PURE__*/_jsxDEV(\"abbr\", {\n                  title: \"Serial No\",\n                  children: \"S/No\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 891,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 891,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: /*#__PURE__*/_jsxDEV(\"abbr\", {\n                  title: \"Type\",\n                  children: \"Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 892,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 892,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: /*#__PURE__*/_jsxDEV(\"abbr\", {\n                  title: \"Type\",\n                  children: \"Quanitity\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 893,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 893,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: /*#__PURE__*/_jsxDEV(\"abbr\", {\n                  title: \"Document No\",\n                  children: \"Unit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 894,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 894,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: /*#__PURE__*/_jsxDEV(\"abbr\", {\n                  title: \"Cost Price\",\n                  children: \"Cost Price\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 895,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 895,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: /*#__PURE__*/_jsxDEV(\"abbr\", {\n                  title: \"Cost Price\",\n                  children: \"Amount\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 896,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 896,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 890,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 889,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"tfoot\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 900,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: ProductEntry.productitems.map(function (ProductEntry, i) {\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: i + 1\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 907,\n                  columnNumber: 25\n                }, _this3), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: ProductEntry.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 908,\n                  columnNumber: 25\n                }, _this3), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: ProductEntry.quantity\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 909,\n                  columnNumber: 25\n                }, _this3), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: ProductEntry.baseunit\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 910,\n                  columnNumber: 25\n                }, _this3), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: ProductEntry.costprice\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 911,\n                  columnNumber: 25\n                }, _this3), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: ProductEntry.amount\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 912,\n                  columnNumber: 25\n                }, _this3)]\n              }, i, true, {\n                fileName: _jsxFileName,\n                lineNumber: 906,\n                columnNumber: 25\n              }, _this3);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 903,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 888,\n          columnNumber: 10\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 818,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 812,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n\n_s4(ProductEntryDetail, \"h1GDqtA9+gEGAb/iJNQJURdDgz0=\");\n\n_c4 = ProductEntryDetail;\nexport function ProductEntryModify() {\n  _s5();\n\n  var _useForm = useForm(),\n      register = _useForm.register,\n      handleSubmit = _useForm.handleSubmit,\n      setValue = _useForm.setValue,\n      reset = _useForm.reset,\n      errors = _useForm.errors; //watch, errors,\n  // eslint-disable-next-line \n\n\n  var _useState59 = useState(false),\n      _useState60 = _slicedToArray(_useState59, 2),\n      error = _useState60[0],\n      setError = _useState60[1]; // eslint-disable-next-line \n\n\n  var _useState61 = useState(false),\n      _useState62 = _slicedToArray(_useState61, 2),\n      success = _useState62[0],\n      setSuccess = _useState62[1]; // eslint-disable-next-line \n\n\n  var _useState63 = useState(\"\"),\n      _useState64 = _slicedToArray(_useState63, 2),\n      message = _useState64[0],\n      setMessage = _useState64[1]; // eslint-disable-next-line \n\n\n  var ProductEntryServ = client.service('productentry'); //const history = useHistory()\n  // eslint-disable-next-line\n\n  var _useContext7 = useContext(UserContext),\n      user = _useContext7.user;\n\n  var _useContext8 = useContext(ObjectContext),\n      state = _useContext8.state,\n      setState = _useContext8.setState;\n\n  var ProductEntry = state.ProductEntryModule.selectedProductEntry;\n  useEffect(function () {\n    setValue(\"name\", ProductEntry.name, {\n      shouldValidate: true,\n      shouldDirty: true\n    });\n    setValue(\"ProductEntryType\", ProductEntry.ProductEntryType, {\n      shouldValidate: true,\n      shouldDirty: true\n    });\n    return function () {};\n  });\n\n  var handleCancel = /*#__PURE__*/function () {\n    var _ref16 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee16() {\n      var newProductEntryModule;\n      return _regeneratorRuntime.wrap(function _callee16$(_context16) {\n        while (1) {\n          switch (_context16.prev = _context16.next) {\n            case 0:\n              newProductEntryModule = {\n                selectedProductEntry: {},\n                show: 'create'\n              };\n              _context16.next = 3;\n              return setState(function (prevstate) {\n                return _objectSpread(_objectSpread({}, prevstate), {}, {\n                  ProductEntryModule: newProductEntryModule\n                });\n              });\n\n            case 3:\n            case \"end\":\n              return _context16.stop();\n          }\n        }\n      }, _callee16);\n    }));\n\n    return function handleCancel() {\n      return _ref16.apply(this, arguments);\n    };\n  }();\n\n  var changeState = function changeState() {\n    var newProductEntryModule = {\n      selectedProductEntry: {},\n      show: 'create'\n    };\n    setState(function (prevstate) {\n      return _objectSpread(_objectSpread({}, prevstate), {}, {\n        ProductEntryModule: newProductEntryModule\n      });\n    });\n  };\n\n  var handleDelete = /*#__PURE__*/function () {\n    var _ref17 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee17() {\n      var conf, dleteId;\n      return _regeneratorRuntime.wrap(function _callee17$(_context17) {\n        while (1) {\n          switch (_context17.prev = _context17.next) {\n            case 0:\n              conf = window.confirm(\"Are you sure you want to delete this data?\");\n              dleteId = ProductEntry._id;\n\n              if (conf) {\n                ProductEntryServ.remove(dleteId).then(function (res) {\n                  //console.log(JSON.stringify(res))\n                  reset();\n                  /*  setMessage(\"Deleted ProductEntry successfully\")\n                   setSuccess(true)\n                   changeState()\n                  setTimeout(() => {\n                   setSuccess(false)\n                   }, 200); */\n\n                  toast({\n                    message: 'ProductEntry deleted succesfully',\n                    type: 'is-success',\n                    dismissible: true,\n                    pauseOnHover: true\n                  });\n                  changeState();\n                }).catch(function (err) {\n                  // setMessage(\"Error deleting ProductEntry, probable network issues \"+ err )\n                  // setError(true)\n                  toast({\n                    message: \"Error deleting ProductEntry, probable network issues or \" + err,\n                    type: 'is-danger',\n                    dismissible: true,\n                    pauseOnHover: true\n                  });\n                });\n              }\n\n            case 3:\n            case \"end\":\n              return _context17.stop();\n          }\n        }\n      }, _callee17);\n    }));\n\n    return function handleDelete() {\n      return _ref17.apply(this, arguments);\n    };\n  }();\n\n  var onSubmit = function onSubmit(data, e) {\n    e.preventDefault();\n    setSuccess(false); // console.log(data)\n\n    data.facility = ProductEntry.facility; //console.log(data);\n\n    ProductEntryServ.patch(ProductEntry._id, data).then(function (res) {\n      //console.log(JSON.stringify(res))\n      // e.target.reset();\n      // setMessage(\"updated ProductEntry successfully\")\n      toast({\n        message: 'ProductEntry updated succesfully',\n        type: 'is-success',\n        dismissible: true,\n        pauseOnHover: true\n      });\n      changeState();\n    }).catch(function (err) {\n      //setMessage(\"Error creating ProductEntry, probable network issues \"+ err )\n      // setError(true)\n      toast({\n        message: \"Error updating ProductEntry, probable network issues or \" + err,\n        type: 'is-danger',\n        dismissible: true,\n        pauseOnHover: true\n      });\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card \",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-header\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"card-header-title\",\n          children: \"ProductEntry Details-Modify\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1060,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1059,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-content vscrollable\",\n        children: [/*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit(onSubmit),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"field\",\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"label is-small\",\n              children: [\" Name\", /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"control has-icons-left has-icons-right\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"input  is-small\",\n                  ref: register({\n                    required: true\n                  }),\n                  name: \"name\",\n                  type: \"text\",\n                  placeholder: \"Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1070,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"icon is-small is-left\",\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-hospital\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1072,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1071,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1069,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1068,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1067,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"field\",\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"label is-small\",\n              children: [\"ProductEntry Type\", /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"control has-icons-left has-icons-right\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"input is-small \",\n                  ref: register({\n                    required: true\n                  }),\n                  disabled: true,\n                  name: \"ProductEntryType\",\n                  type: \"text\",\n                  placeholder: \"ProductEntry Type\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1080,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"icon is-small is-left\",\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-map-signs\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1082,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1081,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1079,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1078,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1077,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1066,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"field  is-grouped mt-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"control\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"button is-success is-small\",\n              onClick: handleSubmit(onSubmit),\n              children: \"Save\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1095,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1094,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"control\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"button is-warning is-small\",\n              onClick: handleCancel,\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1100,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1099,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"control\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"button is-danger is-small\",\n              onClick: function onClick() {\n                return handleDelete();\n              },\n              type: \"delete\",\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1105,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1104,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1093,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1064,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1058,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n\n_s5(ProductEntryModify, \"W0TJyFq+4jk0GppIUViWG03fFXg=\", false, function () {\n  return [useForm];\n});\n\n_c5 = ProductEntryModify;\nexport function ProductSearch(_ref18) {\n  _s6();\n\n  var _this4 = this;\n\n  var getSearchfacility = _ref18.getSearchfacility,\n      clear = _ref18.clear;\n  var productServ = client.service('products');\n\n  var _useState65 = useState([]),\n      _useState66 = _slicedToArray(_useState65, 2),\n      facilities = _useState66[0],\n      setFacilities = _useState66[1]; // eslint-disable-next-line\n\n\n  var _useState67 = useState(false),\n      _useState68 = _slicedToArray(_useState67, 2),\n      searchError = _useState68[0],\n      setSearchError = _useState68[1]; // eslint-disable-next-line\n\n\n  var _useState69 = useState(false),\n      _useState70 = _slicedToArray(_useState69, 2),\n      showPanel = _useState70[0],\n      setShowPanel = _useState70[1]; // eslint-disable-next-line\n\n\n  var _useState71 = useState(\"\"),\n      _useState72 = _slicedToArray(_useState71, 2),\n      searchMessage = _useState72[0],\n      setSearchMessage = _useState72[1]; // eslint-disable-next-line \n\n\n  var _useState73 = useState(\"\"),\n      _useState74 = _slicedToArray(_useState73, 2),\n      simpa = _useState74[0],\n      setSimpa = _useState74[1]; // eslint-disable-next-line \n\n\n  var _useState75 = useState(false),\n      _useState76 = _slicedToArray(_useState75, 2),\n      chosen = _useState76[0],\n      setChosen = _useState76[1]; // eslint-disable-next-line \n\n\n  var _useState77 = useState(0),\n      _useState78 = _slicedToArray(_useState77, 2),\n      count = _useState78[0],\n      setCount = _useState78[1];\n\n  var inputEl = useRef(null);\n\n  var _useState79 = useState(\"\"),\n      _useState80 = _slicedToArray(_useState79, 2),\n      val = _useState80[0],\n      setVal = _useState80[1];\n\n  var _useState81 = useState(false),\n      _useState82 = _slicedToArray(_useState81, 2),\n      productModal = _useState82[0],\n      setProductModal = _useState82[1];\n\n  var handleRow = /*#__PURE__*/function () {\n    var _ref19 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee18(obj) {\n      return _regeneratorRuntime.wrap(function _callee18$(_context18) {\n        while (1) {\n          switch (_context18.prev = _context18.next) {\n            case 0:\n              _context18.next = 2;\n              return setChosen(true);\n\n            case 2:\n              //alert(\"something is chaning\")\n              getSearchfacility(obj);\n              _context18.next = 5;\n              return setSimpa(obj.name);\n\n            case 5:\n              // setSelectedFacility(obj)\n              setShowPanel(false);\n              _context18.next = 8;\n              return setCount(2);\n\n            case 8:\n            case \"end\":\n              return _context18.stop();\n          }\n        }\n      }, _callee18);\n    }));\n\n    return function handleRow(_x9) {\n      return _ref19.apply(this, arguments);\n    };\n  }();\n\n  var handleBlur = /*#__PURE__*/function () {\n    var _ref20 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee19(e) {\n      return _regeneratorRuntime.wrap(function _callee19$(_context19) {\n        while (1) {\n          switch (_context19.prev = _context19.next) {\n            case 0:\n            case \"end\":\n              return _context19.stop();\n          }\n        }\n      }, _callee19);\n    }));\n\n    return function handleBlur(_x10) {\n      return _ref20.apply(this, arguments);\n    };\n  }();\n\n  var handleSearch = /*#__PURE__*/function () {\n    var _ref21 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee20(value) {\n      var field, _query;\n\n      return _regeneratorRuntime.wrap(function _callee20$(_context20) {\n        while (1) {\n          switch (_context20.prev = _context20.next) {\n            case 0:\n              setVal(value);\n\n              if (!(value === \"\")) {\n                _context20.next = 4;\n                break;\n              }\n\n              setShowPanel(false);\n              return _context20.abrupt(\"return\");\n\n            case 4:\n              field = 'name'; //field variable\n\n              if (!(value.length >= 3)) {\n                _context20.next = 9;\n                break;\n              }\n\n              productServ.find({\n                query: (_query = {}, _defineProperty(_query, field, {\n                  $regex: value,\n                  $options: 'i'\n                }), _defineProperty(_query, \"$limit\", 10), _defineProperty(_query, \"$sort\", {\n                  createdAt: -1\n                }), _query)\n              }).then(function (res) {\n                // console.log(\"product  fetched successfully\") \n                // console.log(res.data) \n                setFacilities(res.data);\n                setSearchMessage(\" product  fetched successfully\");\n                setShowPanel(true);\n              }).catch(function (err) {\n                toast({\n                  message: 'Error creating ProductEntry ' + err,\n                  type: 'is-danger',\n                  dismissible: true,\n                  pauseOnHover: true\n                });\n              });\n              _context20.next = 12;\n              break;\n\n            case 9:\n              // console.log(\"less than 3 \")\n              // console.log(val)\n              setShowPanel(false);\n              _context20.next = 12;\n              return setFacilities([]);\n\n            case 12:\n            case \"end\":\n              return _context20.stop();\n          }\n        }\n      }, _callee20);\n    }));\n\n    return function handleSearch(_x11) {\n      return _ref21.apply(this, arguments);\n    };\n  }();\n\n  var handleAddproduct = function handleAddproduct() {\n    setProductModal(true);\n  };\n\n  var handlecloseModal = function handlecloseModal() {\n    setProductModal(false);\n    handleSearch(val);\n  };\n\n  useEffect(function () {\n    if (clear) {\n      // console.log(\"success has changed\",clear)\n      setSimpa(\"\");\n    }\n\n    return function () {};\n  }, [clear]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"field\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"control has-icons-left  \",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dropdown \".concat(showPanel ? \"is-active\" : \"\", \" wt100\"),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dropdown-trigger wt100\",\n            children: [/*#__PURE__*/_jsxDEV(DebounceInput, {\n              className: \"input is-small \",\n              type: \"text\",\n              placeholder: \"Search Product\",\n              value: simpa,\n              minLength: 3,\n              debounceTimeout: 400,\n              onBlur: function onBlur(e) {\n                return handleBlur(e);\n              },\n              onChange: function onChange(e) {\n                return handleSearch(e.target.value);\n              },\n              inputRef: inputEl\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1226,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"icon is-small is-left\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-search\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1236,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1235,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1225,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dropdown-menu wt100\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"dropdown-content\",\n              children: [facilities.length > 0 ? \"\" : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"dropdown-item\",\n                onClick: handleAddproduct,\n                children: [\" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [\"Add \", val, \" to product list\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1242,\n                  columnNumber: 111\n                }, this), \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1242,\n                columnNumber: 52\n              }, this), facilities.map(function (facility, i) {\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"dropdown-item \",\n                  onClick: function onClick() {\n                    return handleRow(facility);\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: facility.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1248,\n                    columnNumber: 41\n                  }, _this4), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"(\", facility.baseunit, \")\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1248,\n                    columnNumber: 69\n                  }, _this4)]\n                }, facility._id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1246,\n                  columnNumber: 37\n                }, _this4);\n              })]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1241,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1240,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1224,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1223,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1222,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal \".concat(productModal ? \"is-active\" : \"\"),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-background\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1260,\n        columnNumber: 37\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"header\", {\n          className: \"modal-card-head minHt\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"modal-card-title\",\n            children: \"Product\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1263,\n            columnNumber: 41\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"delete\",\n            \"aria-label\": \"close\",\n            onClick: handlecloseModal\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1264,\n            columnNumber: 41\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1262,\n          columnNumber: 41\n        }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"modal-card-body\",\n          children: /*#__PURE__*/_jsxDEV(ProductCreate, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1268,\n            columnNumber: 41\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1266,\n          columnNumber: 41\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1261,\n        columnNumber: 37\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1259,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1221,\n    columnNumber: 9\n  }, this);\n}\n\n_s6(ProductSearch, \"n7tlHagMubRI6TEi75OiAGKTZeg=\");\n\n_c6 = ProductSearch;\n\nvar _c, _c2, _c3, _c4, _c5, _c6;\n\n$RefreshReg$(_c, \"ProductEntry\");\n$RefreshReg$(_c2, \"ProductEntryCreate\");\n$RefreshReg$(_c3, \"ProductEntryList\");\n$RefreshReg$(_c4, \"ProductEntryDetail\");\n$RefreshReg$(_c5, \"ProductEntryModify\");\n$RefreshReg$(_c6, \"ProductSearch\");","map":{"version":3,"sources":["/home/mfybaby/Documents/HealthStack2/HS-frontend/src/components/inventory/ProductEntry.js"],"names":["React","useState","useContext","useEffect","useRef","client","DebounceInput","useForm","UserContext","ObjectContext","toast","ProductCreate","formatDistanceToNowStrict","format","subDays","addDays","DatePicker","InfiniteScroll","searchfacility","ProductEntry","state","selectedProductEntry","setSelectedProductEntry","ProductEntryModule","show","ProductEntryCreate","error","setError","success","setSuccess","message","setMessage","facility","setFacility","ProductEntryServ","service","user","currentUser","setCurrentUser","type","setType","documentNo","setDocumentNo","totalamount","setTotalamount","productId","setProductId","source","setSource","date","setDate","name","setName","baseunit","setBaseunit","quantity","setQuantity","costprice","setCostprice","productItem","setProductItem","productItemI","amount","getSearchfacility","obj","_id","handleChangeType","e","target","value","handleClickProd","dismissible","pauseOnHover","prevProd","concat","handleDate","resetform","onSubmit","confirm","window","preventDefault","productEntry","productitems","createdby","transactioncategory","currentEmployee","facilityDetail","StoreModule","selectedStore","storeId","create","then","res","catch","err","removeEntity","entity","i","prev","filter","index","display","length","map","ProductEntryList","facilities","setFacilities","setState","setUser","page","setPage","limit","setLimit","total","setTotal","restful","setRestful","next","setNext","handleCreateNew","newProductEntryModule","prevstate","handleRow","handleSearch","val","field","find","query","$or","$regex","$options","$limit","$sort","createdAt","data","getFacilities","$skip","findProductEntry","skip","stacker","getNewFacilities","resp","console","log","getUpdatedFacilities","employeeLocation","locationId","updatelist","on","updates","rest1","handleDelete","remove","Date","ProductEntryDetail","handleEdit","ProductEntryModify","register","handleSubmit","setValue","reset","errors","shouldValidate","shouldDirty","ProductEntryType","handleCancel","changeState","conf","dleteId","patch","required","ProductSearch","clear","productServ","searchError","setSearchError","showPanel","setShowPanel","searchMessage","setSearchMessage","simpa","setSimpa","chosen","setChosen","count","setCount","inputEl","setVal","productModal","setProductModal","handleBlur","handleAddproduct","handlecloseModal"],"mappings":"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","sourcesContent":["/* eslint-disable */\nimport React, {useState,useContext, useEffect,useRef} from 'react'\nimport client from '../../feathers'\nimport {DebounceInput} from 'react-debounce-input';\nimport { useForm } from \"react-hook-form\";\n//import {useHistory} from 'react-router-dom'\nimport {UserContext,ObjectContext} from '../../context'\nimport {toast} from 'bulma-toast'\nimport {ProductCreate} from './Products'\nimport { formatDistanceToNowStrict, format, subDays,addDays } from 'date-fns'\nimport DatePicker from \"react-datepicker\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\n\nimport \"react-datepicker/dist/react-datepicker.css\";\n// eslint-disable-next-line\nconst searchfacility={};\n\n\nexport default function ProductEntry() {\n    const {state}=useContext(ObjectContext) //,setState\n    // eslint-disable-next-line\n    const [selectedProductEntry,setSelectedProductEntry]=useState()\n    //const [showState,setShowState]=useState() //create|modify|detail\n    \n    return(\n        <section className= \"section remPadTop\">\n           {/*  <div className=\"level\">\n            <div className=\"level-item\"> <span className=\"is-size-6 has-text-weight-medium\">ProductEntry  Module</span></div>\n            </div> */}\n            <div className=\"columns \">\n            <div className=\"column is-6 \">\n                <ProductEntryList />\n                </div>\n            <div className=\"column is-6 \">\n                {(state.ProductEntryModule.show ==='create')&&<ProductEntryCreate />}\n                {(state.ProductEntryModule.show ==='detail')&&<ProductEntryDetail  />}\n                {(state.ProductEntryModule.show ==='modify')&&<ProductEntryModify ProductEntry={selectedProductEntry} />}\n               \n            </div>\n\n            </div>                            \n            </section>\n       \n    )\n    \n}\n\nexport function ProductEntryCreate(){\n   // const { register, handleSubmit,setValue} = useForm(); //, watch, errors, reset \n    const [error, setError] =useState(false)\n    const [success, setSuccess] =useState(false)\n    const [message,setMessage] = useState(\"\")\n    // eslint-disable-next-line\n    const [facility,setFacility] = useState()\n    const ProductEntryServ=client.service('productentry')\n    //const history = useHistory()\n    const {user} = useContext(UserContext) //,setUser\n    // eslint-disable-next-line\n    const [currentUser,setCurrentUser] = useState()\n    const [type,setType] = useState(\"Purchase Invoice\")\n    const [documentNo,setDocumentNo] = useState(\"\")\n    const [totalamount,setTotalamount] = useState(\"\")\n    const [productId,setProductId] = useState(\"\")\n    const [source,setSource] = useState(\"\")\n    const [date,setDate] = useState(\"\")\n    const [name,setName] = useState(\"\")\n    const [baseunit,setBaseunit] = useState(\"\")\n    const [quantity,setQuantity] = useState(\"\")\n    const [costprice,setCostprice] = useState(\"\")\n    const [productItem,setProductItem] = useState([])\n    const {state}=useContext(ObjectContext)\n    \n   /*  const [productEntry,setProductEntry]=useState({\n        productitems:[],\n        date,\n        documentNo,\n        type,\n        totalamount,\n        source,\n\n    })\n  */\n    const productItemI={\n        productId,\n        name,\n        quantity,\n        costprice,\n        amount:quantity*costprice,\n        baseunit\n\n    }\n    // consider batchformat{batchno,expirydate,qtty,baseunit}\n    //consider baseunoit conversions\n    const getSearchfacility=(obj)=>{\n\n        setProductId(obj._id)\n        setName(obj.name)\n        setBaseunit(obj.baseunit)\n        \n       /*  setValue(\"facility\", obj._id,  {\n            shouldValidate: true,\n            shouldDirty: true\n        }) */\n    }\n    \n    useEffect(() => {\n        setCurrentUser(user)\n        //console.log(currentUser)\n        return () => {\n        \n        }\n    }, [user])\n\n    const handleChangeType=async (e)=>{\n        await setType(e.target.value)\n    }\n    const handleClickProd=async()=>{\n        if(!productId||!quantity||!costprice){\n            toast({\n                message: 'Kindly choose Product,price and quantity',\n                type: 'is-danger',\n                dismissible: true,\n                pauseOnHover: true,\n              }) \n              return\n        }\n        await setSuccess(false)\n        setProductItem(\n            prevProd=>prevProd.concat(productItemI)\n        )\n        setName(\"\")\n        setBaseunit(\"\")\n        setQuantity(\"\")\n        setCostprice(\"\")\n        await setSuccess(true)\n      // console.log(success)\n     //  console.log(productItem)\n    }\n    const handleDate=async (date)=>{\n        setDate(date)\n        \n    }\n    \n\n    const resetform=()=>{\n     setType(\"Purchase Invoice\")\n    setDocumentNo(\"\")\n    setTotalamount(\"\")\n    setProductId(\"\")\n    setSource(\"\")\n    setDate(\"\")\n    setName(\"\")\n    setBaseunit(\"\")\n    setCostprice(\"\")\n    setProductItem([])\n    }\n\n    const onSubmit = async(e) =>{\n        let confirm =window.confirm(`Are you sure you want to save this entry ?`)\n        if (confirm){\n        e.preventDefault();\n        setMessage(\"\")\n        setError(false)\n        setSuccess(false)\n        if (!date){\n          \n            toast({\n                message: 'Kindly choose date',\n                type: 'is-danger',\n                dismissible: true,\n                pauseOnHover: true,\n              }) \n              return\n          }\n\n        let productEntry={\n            \n            date,\n            documentNo,\n            type,\n            totalamount,\n            source,\n        }\n        productEntry.productitems=productItem\n        productEntry.createdby=user._id\n        productEntry.transactioncategory=\"credit\"\n\n          //console.log(\"b4 facility\",productEntry);\n          if (user.currentEmployee){\n         productEntry.facility=user.currentEmployee.facilityDetail._id  // or from facility dropdown\n          }else{\n            toast({\n                message: 'You can not add inventory to any organization',\n                type: 'is-danger',\n                dismissible: true,\n                pauseOnHover: true,\n              }) \n              return\n          }\n          if (state.StoreModule.selectedStore._id){\n            productEntry.storeId=state.StoreModule.selectedStore._id\n          }else{\n            toast({\n                message: 'You need to select a store before adding inventory',\n                type: 'is-danger',\n                dismissible: true,\n                pauseOnHover: true,\n              }) \n              return\n\n          }\n          //console.log(\"b4 create\",productEntry);\n        ProductEntryServ.create(productEntry)\n        .then((res)=>{\n                //console.log(JSON.stringify(res))\n                resetform()\n               /*  setMessage(\"Created ProductEntry successfully\") */\n                setSuccess(true)\n                toast({\n                    message: 'ProductEntry created succesfully',\n                    type: 'is-success',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n                  setSuccess(false)\n                  setProductItem([])\n            })\n            .catch((err)=>{\n                toast({\n                    message: 'Error creating ProductEntry ' + err,\n                    type: 'is-danger',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n            })\n        }\n      } \n    const removeEntity=(entity,i)=>{\n    //console.log(entity)\n        setProductItem(prev=>prev.filter((obj,index)=>index!==i ))\n    }\n    \n\n    return (\n        <>\n            <div className=\"card card-overflow\">\n            <div className=\"card-header\">\n                <p className=\"card-header-title\">\n                    Create ProductEntry: Initialization, Purchase Invoice, Audit\n                </p>\n            </div>\n            <div className=\"card-content \">\n   \n            <form onSubmit={onSubmit}> {/* handleSubmit(onSubmit) */}\n            <div className=\"field is-horizontal\">\n            <div className=\"field-body\">\n            <div className=\"field\">    \n                <div className=\"control\">\n                    <div className=\"select is-small\">\n                        <select name=\"type\" value={type} onChange={handleChangeType}>\n                           <option value=\"\">Choose Type </option>\n                            <option value=\"Purchase Invoice\">Purchase Invoice </option>\n                            <option value=\"Initialization\">Initialization</option>\n                            <option value=\"Audit\">Audit</option>\n                        </select>\n                    </div>\n                </div>\n            </div>\n            <div className=\"field\">\n                    <p className=\"control has-icons-left has-icons-right\">\n                        <input className=\"input is-small\" /* ref={register({ required: true })} */ value={source} name=\"supplier\" type=\"text\" onChange={e=>setSource(e.target.value)} placeholder=\"Supplier\" />\n                        <span className=\"icon is-small is-left\">\n                            <i className=\"fas fa-hospital\"></i>\n                        </span>                    \n                    </p>\n                </div>\n           \n            </div>\n            </div> {/* horizontal end */}\n           \n               <div className=\"field is-horizontal\">\n               <div className=\"field-body\">\n               <div className=\"field\">\n                <div className=\"control has-icons-left has-icons-right\">\n                <DatePicker \n                            selected={date} \n                            onChange={date => handleDate(date)} \n                            dateFormat=\"dd/MM/yyyy\"\n                            placeholderText=\"Pick Date\"\n                            \n                            //isClearable\n                            />\n                  {/*   <input className=\"input is-small\"   ref={register({ required: true })}  value={date}  name=\"date\" type=\"text\" onChange={e=>setDate(e.target.value)} placeholder=\"Date\" />\n                    <span className=\"icon is-small is-left\">\n                        <i className=\"fas fa-map-signs\"></i>\n                    </span> */}\n                </div>\n            </div>\n            <div className=\"field\">\n                <p className=\"control has-icons-left\">\n                    <input className=\"input is-small\" /* ref={register} */ name=\"documentNo\" value={documentNo} type=\"text\" onChange={e=>setDocumentNo(e.target.value)} placeholder=\" Invoice Number\"/>\n                    <span className=\"icon is-small is-left\">\n                    <i className=\"fas fa-phone-alt\"></i>\n                    </span>\n                </p>\n            </div>\n            <div className=\"field\">\n                <p className=\"control has-icons-left\">\n                    <input className=\"input is-small\" /* ref={register({ required: true })} */ value={totalamount} name=\"totalamount\" type=\"text\" onChange={async e=> await setTotalamount(e.target.value)} placeholder=\" Total Amount\"/>\n                    <span className=\"icon is-small is-left\">\n                    <i className=\"fas fa-coins\"></i>\n                    </span>\n                </p>\n            </div>\n\n                </div> \n                </div> \n               \n                </form>   \n               \n           \n         {/* array of ProductEntry items */}\n        \n        <label className=\"label is-small\">Add Product Items:</label>\n         <div className=\"field is-horizontal\">\n            <div className=\"field-body\">\n            <div className=\"field is-expanded\"  /* style={ !user.stacker?{display:\"none\"}:{}} */ >\n                    <ProductSearch  getSearchfacility={getSearchfacility} clear={success} /> \n                    <p className=\"control has-icons-left \" style={{display:\"none\"}}>\n                        <input className=\"input is-small\" /* ref={register ({ required: true }) }  *//* add array no */  value={productId} name=\"productId\" type=\"text\" onChange={e=>setProductId(e.target.value)} placeholder=\"Product Id\" />\n                        <span className=\"icon is-small is-left\">\n                        <i className=\"fas  fa-map-marker-alt\"></i>\n                        </span>\n                    </p>\n                </div>\n                </div>\n                </div>\n                <div className=\"field is-horizontal\">\n            <div className=\"field-body\">\n                <div className=\"field\">\n                <p className=\"control has-icons-left\">\n                    <input className=\"input is-small\" /* ref={register({ required: true })} */ name=\"quantity\" value={quantity} type=\"text\" onChange={e=>setQuantity(e.target.value)} placeholder=\"Quantity\"  />\n                    <span className=\"icon is-small is-left\">\n                    <i className=\"fas fa-envelope\"></i>\n                    </span>\n                </p>\n        <label >{baseunit}</label>\n            </div> \n            <div className=\"field\">\n                <p className=\"control has-icons-left\">\n                    <input className=\"input is-small\" /* ref={register({ required: true })} */ name=\"costprice\" value={costprice} type=\"text\" onChange={e=>setCostprice(e.target.value)} placeholder=\"Cost Price\"  />\n                    <span className=\"icon is-small is-left\">\n                    <i className=\"fas fa-dollar-sign\"></i>\n                    </span>\n                </p>\n            </div> \n            <div className=\"field\">\n            <p className=\"control\">\n                    <button className=\"button is-info is-small  is-pulled-right minHt\">\n                      <span className=\"is-small\" onClick={handleClickProd}> +</span>\n                    </button>\n                </p>\n            </div>\n            </div>\n         </div>\n            \n       {(productItem.length>0) && <div>\n            <label>Product Items:</label>\n            <div className=\"table-container  vscrol\" id=\"scrollableDiv\">\n         <table className=\"table is-striped  is-hoverable is-fullwidth is-scrollable \">\n                <thead>\n                    <tr>\n                    <th><abbr title=\"Serial No\">S/No</abbr></th>\n                    <th><abbr title=\"Type\">Name</abbr></th>\n                    <th><abbr title=\"Type\">Quanitity</abbr></th>\n                    <th><abbr title=\"Document No\">Unit</abbr></th>\n                    <th><abbr title=\"Cost Price\">Cost Price</abbr></th>\n                    <th><abbr title=\"Cost Price\">Amount</abbr></th>\n                    <th><abbr title=\"Actions\">Actions</abbr></th>\n                    </tr>\n                </thead>\n                <tfoot>\n                    \n                </tfoot>\n                <tbody>\n                   { productItem.map((ProductEntry, i)=>(\n\n                        <tr key={i}>\n                        <th>{i+1}</th>\n                        <td>{ProductEntry.name}</td>\n                        <th>{ProductEntry.quantity}</th>\n                        <td>{ProductEntry.baseunit}</td>\n                        <td>{ProductEntry.costprice}</td>\n                        <td>{ProductEntry.amount}</td>\n                        <td onClick={()=>removeEntity(ProductEntry,i)}><span className=\"showAction\"  >x</span></td>\n                        \n                        </tr>\n\n                    ))}\n                </tbody>\n                </table>\n                </div>\n                <div className=\"field mt-2\">\n                <p className=\"control\">\n                    <button className=\"button is-success is-small\" disabled={!productItem.length>0} onClick={onSubmit}>\n                        Create\n                    </button>\n                </p>\n                </div>\n                </div>\n           \n            }\n            \n            \n            </div>\n            </div>\n        </>\n    )\n   \n}\n\nexport function ProductEntryList(){\n   // const { register, handleSubmit, watch, errors } = useForm();\n    // eslint-disable-next-line\n    const [error, setError] =useState(false)\n     // eslint-disable-next-line\n    const [success, setSuccess] =useState(false)\n     // eslint-disable-next-line\n   const [message, setMessage] = useState(\"\") \n    const ProductEntryServ=client.service('productentry')\n    //const history = useHistory()\n   // const {user,setUser} = useContext(UserContext)\n    const [facilities,setFacilities]=useState([])\n     // eslint-disable-next-line\n   const [selectedProductEntry, setSelectedProductEntry]=useState() //\n    // eslint-disable-next-line\n    const {state,setState}=useContext(ObjectContext)\n    // eslint-disable-next-line\n    const {user,setUser}=useContext(UserContext)\n    const [page, setPage] = useState(0) \n    const [limit, setLimit] = useState(20) \n    const [total, setTotal] = useState(0) \n    const [restful, setRestful] = useState(true) \n    const [next, setNext] = useState(false) \n\n    const handleCreateNew = async()=>{\n        const    newProductEntryModule={\n            selectedProductEntry:{},\n            show :'create'\n            }\n       await setState((prevstate)=>({...prevstate, ProductEntryModule:newProductEntryModule}))\n       //console.log(state)\n        \n\n    }\n    const handleRow= async(ProductEntry)=>{\n        //console.log(\"b4\",state)\n\n        //console.log(\"handlerow\",ProductEntry)\n\n        await setSelectedProductEntry(ProductEntry)\n\n        const    newProductEntryModule={\n            selectedProductEntry:ProductEntry,\n            show :'detail'\n        }\n       await setState((prevstate)=>({...prevstate, ProductEntryModule:newProductEntryModule}))\n       //console.log(state)\n\n    }\n\n   const handleSearch=async(val)=>{\n       const field='source'\n       //console.log(val)\n       ProductEntryServ.find({query: {\n              $or:[\n                  {\n                    source: {\n                        $regex:val,\n                        $options:'i'  \n                    }\n                  },\n                  {\n                    type:{\n                        $regex:val,\n                        $options:'i' \n                    }\n                  }\n                 \n\n              ],\n                \n                storeId:state.StoreModule.selectedStore._id,\n               facility:user.currentEmployee.facilityDetail._id || \"\",\n                $limit:100,\n                $sort: {\n                    createdAt: -1\n                  }\n                    }}).then((res)=>{\n               //console.log(res)\n               setFacilities(res.data)\n               setTotal(res.total)\n                setMessage(\" ProductEntry  fetched successfully\")\n                setSuccess(true) \n            })\n            .catch((err)=>{\n              //  console.log(err)\n                setMessage(\"Error fetching ProductEntry, probable network issues \"+ err )\n                setError(true)\n            })\n    }\n   \n    const getFacilities= async()=>{\n            if (user.currentEmployee){\n         \n        const findProductEntry= await ProductEntryServ.find(\n                {query: {\n                    facility:user.currentEmployee.facilityDetail._id,\n                    storeId:state.StoreModule.selectedStore._id,\n                    $limit:limit,\n                    $skip:page * limit,\n                   /*  $limit:20, */\n                    $sort: {\n                        createdAt: -1\n                    }\n                    }})\n\n        \n        await setTotal(findProductEntry.total)\n        await setFacilities(prevstate=>prevstate.concat(findProductEntry.data))\n        if (findProductEntry.total> findProductEntry.skip){\n            setNext(true)\n          \n              setPage(page=>page+1)\n           } else{\n            setNext(false)  \n           }    \n                }\n                else {\n                    if (user.stacker){\n                      \n                        const findProductEntry= await ProductEntryServ.find(\n                            {query: {\n                                \n                                $limit:20,\n                                $sort: {\n                                    createdAt: -1\n                                }\n                                }})\n            \n                    await setFacilities(findProductEntry.data)\n\n                    }\n                }\n        \n    }\n\n    const getNewFacilities= async()=>{\n                if (user.currentEmployee){\n              \n            const findProductEntry= await ProductEntryServ.find(\n                    {query: {\n                        facility:user.currentEmployee.facilityDetail._id,\n                        storeId:state.StoreModule.selectedStore._id,\n                        $limit:limit,\n                        //$skip:page * limit,\n                       /*  $limit:20, */\n                        $sort: {\n                            createdAt: -1\n                        }\n                        }}).then((resp)=>{\n                            setTotal(resp.total)\n                            setFacilities(resp.data)\n                            if (resp.total> resp.data.length){\n                                setNext(true)\n                               \n                                  setPage(page=>page+1)\n                               } else{\n                                setNext(false)  \n                               }    \n\n                        })\n                        .catch((err)=>{\n                            console.log(err) \n                        })\n            }\n            else {\n                     if (user.stacker){\n                        \n                        const findProductEntry= await ProductEntryServ.find(\n                            {query: {\n                                \n                                $limit:20,\n                                $sort: {\n                                    createdAt: -1\n                                }\n                                }})\n            \n                    await setFacilities(findProductEntry.data)\n                \n                    }\n                }\n            \n    }\n            \n    const getUpdatedFacilities= async()=>{\n       \n        const findProductEntry= await ProductEntryServ.find(  \n            {query: {\n                facility:user.currentEmployee.facilityDetail._id,\n                storeId:state.employeeLocation.locationId,\n                $limit:limit,\n             \n                $sort: {\n                    createdAt: -1\n                }\n                }}).then((resp)=>{\n                   \n                    setTotal(resp.total)\n                    updatelist(resp.data)\n                    //setFacilities(resp.data)\n                    if (resp.total> resp.data.length){\n                        setNext(true)\n                          setPage(page=>page+1)\n                       } else{\n                        setNext(false)  \n                       }    \n\n                })\n                .catch((err)=>{\n                    console.log(err) \n                })\n    }\n  \n    useEffect(() => {\n               \n        if (!state.StoreModule.selectedStore){\n            toast({\n                message: 'kindly select a store',\n                type: 'is-danger',\n                dismissible: true,\n                pauseOnHover: true,\n                }) \n                return\n          //  getFacilities()\n\n        }\n        ProductEntryServ.on('created', (obj)=>getUpdatedFacilities())\n        ProductEntryServ.on('updated', (obj)=>getUpdatedFacilities())\n        ProductEntryServ.on('patched', (obj)=>getUpdatedFacilities())\n        ProductEntryServ.on('removed', (obj)=>getUpdatedFacilities())\n        return () => {\n           \n        }\n    },[])\n\n    const updatelist=async(data)=>{\n       await setFacilities(data)\n    }\n    const updates=()=>{\n       // setFacilities([])\n        rest1()\n    }\n\n    useEffect(() => {\n        rest1()\n        return () => {\n            \n        }\n    }, [state.StoreModule.selectedStore._id])\n    //todo: pagination and vertical scroll bar\n  \n\n    const rest1 = async ()=>{\n       setPage(0) \n       setTotal(0) \n       getNewFacilities()\n    }\n    const handleDelete= async(obj)=>{\n        let confirm =window.confirm(`Are you sure you want to delete this entry with Document No: ${obj.documentNo} ?`)\n        if (confirm){\n        await ProductEntryServ.remove(obj._id).then((resp)=>{\n            toast({\n                message: 'Sucessfuly deleted ProductEntry ' ,\n                type: 'is-success',\n                dismissible: true,\n                pauseOnHover: true,\n            })\n        })\n        .catch((err)=>{\n            toast({\n                message: 'Error deleting ProductEntry ' + err,\n                type: 'is-danger',\n                dismissible: true,\n                pauseOnHover: true,\n            })\n        })\n        }\n    }\n\n    return(\n        <>\n           {state.StoreModule.selectedStore?( <>  \n                <div className=\"level\">\n                    <div className=\"level-left\">\n                        <div className=\"level-item\">\n                            <div className=\"field\">\n                                <p className=\"control has-icons-left  \">\n                                    <DebounceInput className=\"input is-small \" \n                                        type=\"text\" placeholder=\"Search Type or Source\"\n                                        minLength={3}\n                                        debounceTimeout={400}\n                                        onChange={(e)=>handleSearch(e.target.value)} />\n                                    <span className=\"icon is-small is-left\">\n                                        <i className=\"fas fa-search\"></i>\n                                    </span>\n                                </p>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"level-item\"> <span className=\"is-size-6 has-text-weight-medium\">List of Product Additions to Inventory </span></div>\n                    <div className=\"level-right\">\n                        <div className=\"level-item\"> \n                            <div className=\"level-item\"><div className=\"button is-success is-small\" onClick={handleCreateNew}>New</div></div>\n                        </div>\n                    </div>\n\n                </div>\n\n                <div className=\"table-container pullup vscrola\" id=\"scrollableDiv\">\n              \n                  <InfiniteScroll\n                        dataLength={facilities.length}\n                        next={getFacilities}\n                        hasMore={ total>facilities.length}\n                        loader={<h4>Loading...</h4>}\n                        scrollableTarget=\"scrollableDiv\"\n                    > \n                                <table className=\"table is-striped is-narrow is-hoverable is-fullwidth is-scrollable \">\n                                    <thead>\n                                        <tr>\n                                        <th><abbr title=\"Serial No\">S/No</abbr></th>\n                                        <th><abbr title=\"Date\">Date</abbr></th>\n                                        <th><abbr title=\"Type\">Type</abbr></th>\n                                        <th>Source</th>\n                                        <th><abbr title=\"Document No\">Document No</abbr></th>\n                                        <th><abbr title=\"Total Amount\">Total Amount</abbr></th>\n                                        {/* <th><abbr title=\"Enteredby\">Entered By</abbr></th> */} \n                                         <th><abbr title=\"Actions\">Actions</abbr></th> \n                                        </tr>\n                                    </thead>\n                                    <tfoot>\n                                        \n                                    </tfoot>\n                                    <tbody>\n                                        {facilities.map((ProductEntry, i)=>(\n\n                                            <tr key={ProductEntry._id} onClick={()=>handleRow(ProductEntry)}>\n                                            <th>{i+1}</th>\n                                            <td>{ProductEntry.date?<>{format(new Date(ProductEntry.date),\"dd-MM-yy HH:mm\")}</>:\"\"}</td>\n                                            <th>{ProductEntry.type}</th>\n                                            <td>{ProductEntry.source}</td>\n                                            <td>{ProductEntry.documentNo}</td>\n                                            <td>{ProductEntry.totalamount}</td>\n                                          {/*   <td>{ProductEntry.enteredby}</td> */}\n                                           <td onClick={()=>handleDelete(ProductEntry)}><span className=\"showAction\"  >X</span></td> \n                                           \n                                            </tr>\n\n                                        ))}\n                                    </tbody>\n                                    </table>\n                                 </InfiniteScroll>   \n                                    \n                </div>              \n            </>):<div>loading... </div>}\n            </>\n              \n    )\n}\n\n\nexport function ProductEntryDetail(){\n    //const { register, handleSubmit, watch, setValue } = useForm(); //errors,\n     // eslint-disable-next-line\n    const [error, setError] =useState(false) //, \n    //const [success, setSuccess] =useState(false)\n     // eslint-disable-next-line\n    const [message, setMessage] = useState(\"\") //,\n    //const ProductEntryServ=client.service('/ProductEntry')\n    //const history = useHistory()\n    //const {user,setUser} = useContext(UserContext)\n    const {state,setState} = useContext(ObjectContext)\n\n   \n\n   const ProductEntry =state.ProductEntryModule.selectedProductEntry \n\n    const handleEdit= async()=>{\n        const    newProductEntryModule={\n            selectedProductEntry:ProductEntry,\n            show :'modify'\n        }\n       await setState((prevstate)=>({...prevstate, ProductEntryModule:newProductEntryModule}))\n       //console.log(state)\n       \n    }\n\n \n    return (\n        <>\n        <div className=\"card \">\n            <div className=\"card-header\">\n                <p className=\"card-header-title\">\n                    ProductEntry Details\n                </p>\n            </div>\n            <div className=\"card-content vscrollable\">\n           \n                <table> \n                <tbody>         \n                <tr>\n                    <td>\n                      <label className=\"label is-small\"> <span className=\"icon is-small is-left\">\n                            <i className=\"fas fa-hospital\"></i>\n                        </span>                    \n                        Type\n                        </label>\n                    </td>\n                    <td>\n                        <span className=\"is-size-7 padleft\"   name=\"name\"> {ProductEntry.type} </span>\n                    </td>\n                    <td>\n\n                    </td>\n                    <td>\n                        <label className=\"label is-small padleft\"><span className=\"icon is-small is-left\">\n                            <i className=\"fas fa-map-signs\"></i>\n                        </span>Supplier:\n                        </label>\n                    </td>\n                    <td>\n                        <span className=\"is-size-7 padleft\"   name=\"ProductEntryType\">{ProductEntry.source} </span> \n                    </td>\n                </tr>\n                <tr>\n                    <td>\n                        <label className=\"label is-small\"> <span className=\"icon is-small is-left\">\n                        <i className=\"fas fa-hospital\"></i>\n                        </span>                    \n                        Date:\n                        </label>\n                    </td>\n                    <td>\n                        <span className=\"is-size-7 padleft\"   name=\"name\"> {format(new Date(ProductEntry.date),\"dd-MM-yy HH:mm\")} </span>\n                    </td>\n                    <td>\n                                \n                    </td>\n                    <td>\n                        <label className=\"label is-small padleft\"><span className=\"icon is-small is-left\">\n                            <i className=\"fas fa-map-signs\"></i>\n                        </span>Invoice No:\n                        </label>\n                    </td>\n                    \n                    <td>\n                         <span className=\"is-size-7 padleft\"   name=\"ProductEntryType\">{ProductEntry.documentNo} </span> \n                    </td>\n                </tr>\n                <tr>\n                    <td>\n                \n                        <label className=\"label is-small\"> <span className=\"icon is-small is-left\">\n                        <i className=\"fas fa-hospital\"></i>\n                    </span>            \n                        Total Amount:\n                    </label>\n                    </td>\n                    <td>\n                        <span className=\"is-size-7 padleft\"   name=\"name\"> {ProductEntry.totalamount} </span>\n                    </td>\n                </tr>\n\n                </tbody> \n            </table> \n            <label className=\"label is-size-7 mt-2\">Product Items:</label>\n         <table className=\"table is-striped  is-hoverable is-fullwidth is-scrollable \">\n                <thead>\n                    <tr>\n                    <th><abbr title=\"Serial No\">S/No</abbr></th>\n                    <th><abbr title=\"Type\">Name</abbr></th>\n                    <th><abbr title=\"Type\">Quanitity</abbr></th>\n                    <th><abbr title=\"Document No\">Unit</abbr></th>\n                    <th><abbr title=\"Cost Price\">Cost Price</abbr></th>\n                    <th><abbr title=\"Cost Price\">Amount</abbr></th>\n                   \n                    </tr>\n                </thead>\n                <tfoot>\n                    \n                </tfoot>\n                <tbody>\n                   { ProductEntry.productitems.map((ProductEntry, i)=>(\n\n                        <tr key={i}>\n                        <th>{i+1}</th>\n                        <td>{ProductEntry.name}</td>\n                        <th>{ProductEntry.quantity}</th>\n                        <td>{ProductEntry.baseunit}</td>\n                        <td>{ProductEntry.costprice}</td>\n                        <td>{ProductEntry.amount}</td>\n                        \n                        \n                        </tr>\n\n                    ))}\n                </tbody>\n                </table>\n            \n           \n        </div>\n        </div>\n        </>\n    )\n   \n   \n}\n\nexport function ProductEntryModify(){\n    const { register, handleSubmit, setValue,reset, errors } = useForm(); //watch, errors,\n    // eslint-disable-next-line \n    const [error, setError] =useState(false)\n    // eslint-disable-next-line \n    const [success, setSuccess] =useState(false)\n    // eslint-disable-next-line \n    const [message,setMessage] = useState(\"\")\n    // eslint-disable-next-line \n    const ProductEntryServ=client.service('productentry')\n    //const history = useHistory()\n     // eslint-disable-next-line\n    const {user} = useContext(UserContext)\n    const {state,setState} = useContext(ObjectContext)\n\n    const ProductEntry =state.ProductEntryModule.selectedProductEntry \n\n        useEffect(() => {\n            setValue(\"name\", ProductEntry.name,  {\n                shouldValidate: true,\n                shouldDirty: true\n            })\n            setValue(\"ProductEntryType\", ProductEntry.ProductEntryType,  {\n                shouldValidate: true,\n                shouldDirty: true\n            })\n    \n            \n            return () => {\n                \n            }\n        })\n\n   const handleCancel=async()=>{\n    const    newProductEntryModule={\n        selectedProductEntry:{},\n        show :'create'\n      }\n   await setState((prevstate)=>({...prevstate, ProductEntryModule:newProductEntryModule}))\n   //console.log(state)\n           }\n\n\n        const changeState =()=>{\n        const    newProductEntryModule={\n            selectedProductEntry:{},\n            show :'create'\n        }\n        setState((prevstate)=>({...prevstate, ProductEntryModule:newProductEntryModule}))\n\n        }\n    const handleDelete=async()=>{\n        let conf=window.confirm(\"Are you sure you want to delete this data?\")\n        \n        const dleteId=ProductEntry._id\n        if (conf){\n             \n        ProductEntryServ.remove(dleteId)\n        .then((res)=>{\n                //console.log(JSON.stringify(res))\n                reset();\n               /*  setMessage(\"Deleted ProductEntry successfully\")\n                setSuccess(true)\n                changeState()\n               setTimeout(() => {\n                setSuccess(false)\n                }, 200); */\n                toast({\n                    message: 'ProductEntry deleted succesfully',\n                    type: 'is-success',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n                changeState()\n            })\n            .catch((err)=>{\n               // setMessage(\"Error deleting ProductEntry, probable network issues \"+ err )\n               // setError(true)\n                toast({\n                    message: \"Error deleting ProductEntry, probable network issues or \"+ err,\n                    type: 'is-danger',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n            })\n        }\n    }\n        \n    const onSubmit = (data,e) =>{\n        e.preventDefault();\n        \n        setSuccess(false)\n       // console.log(data)\n        data.facility=ProductEntry.facility\n          //console.log(data);\n          \n        ProductEntryServ.patch(ProductEntry._id,data)\n        .then((res)=>{\n                //console.log(JSON.stringify(res))\n               // e.target.reset();\n               // setMessage(\"updated ProductEntry successfully\")\n                 toast({\n                    message: 'ProductEntry updated succesfully',\n                    type: 'is-success',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n                  \n                changeState()\n\n            })\n            .catch((err)=>{\n                //setMessage(\"Error creating ProductEntry, probable network issues \"+ err )\n               // setError(true)\n                toast({\n                    message: \"Error updating ProductEntry, probable network issues or \"+ err,\n                    type: 'is-danger',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n            })\n\n      } \n     \n      \n    return (\n        \n        <>\n        <div className=\"card \">\n            <div className=\"card-header\">\n                <p className=\"card-header-title\">\n                    ProductEntry Details-Modify\n                </p>\n            </div>\n            <div className=\"card-content vscrollable\">\n           \n            <form onSubmit={handleSubmit(onSubmit)}>\n                <div className=\"field\">\n                    <label className=\"label is-small\"> Name\n                    <p className=\"control has-icons-left has-icons-right\">\n                        <input className=\"input  is-small\" ref={register({ required: true })}  name=\"name\" type=\"text\" placeholder=\"Name\" />\n                        <span className=\"icon is-small is-left\">\n                            <i className=\"fas fa-hospital\"></i>\n                        </span>                    \n                    </p>\n                    </label>\n                    </div>\n                <div className=\"field\">\n                <label className=\"label is-small\">ProductEntry Type\n                    <p className=\"control has-icons-left has-icons-right\">\n                    <input className=\"input is-small \" ref={register({ required: true })} disabled name=\"ProductEntryType\" type=\"text\" placeholder=\"ProductEntry Type\" />\n                    <span className=\"icon is-small is-left\">\n                        <i className=\"fas fa-map-signs\"></i>\n                    </span>\n                    \n                </p>\n                </label>\n                </div>\n           \n           \n           \n            </form>\n            \n            <div className=\"field  is-grouped mt-2\" >\n                <p className=\"control\">\n                    <button type=\"submit\" className=\"button is-success is-small\" onClick={handleSubmit(onSubmit)}>\n                        Save\n                    </button>\n                </p>\n                <p className=\"control\">\n                    <button className=\"button is-warning is-small\" onClick={handleCancel}>\n                        Cancel\n                    </button>\n                </p>\n                <p className=\"control\">\n                    <button className=\"button is-danger is-small\" onClick={()=>handleDelete()} type=\"delete\">\n                       Delete\n                    </button>\n                </p>\n            </div>\n        </div>\n        </div>\n        </>\n    )\n   \n   \n                \n}   \n\nexport  function ProductSearch({getSearchfacility,clear}) {\n    \n    const productServ=client.service('products')\n    const [facilities,setFacilities]=useState([])\n     // eslint-disable-next-line\n     const [searchError, setSearchError] =useState(false)\n     // eslint-disable-next-line\n    const [showPanel, setShowPanel] =useState(false)\n     // eslint-disable-next-line\n   const [searchMessage, setSearchMessage] = useState(\"\") \n   // eslint-disable-next-line \n   const [simpa,setSimpa]=useState(\"\")\n   // eslint-disable-next-line \n   const [chosen,setChosen]=useState(false)\n   // eslint-disable-next-line \n   const [count,setCount]=useState(0)\n   const inputEl=useRef(null)\n   const [val,setVal]=useState(\"\")\n    const [productModal,setProductModal]=useState(false)\n\n   const handleRow= async(obj)=>{\n        await setChosen(true)\n        //alert(\"something is chaning\")\n       getSearchfacility(obj)\n       \n       await setSimpa(obj.name)\n       \n        // setSelectedFacility(obj)\n        setShowPanel(false)\n        await setCount(2)\n        /* const    newfacilityModule={\n            selectedFacility:facility,\n            show :'detail'\n        }\n   await setState((prevstate)=>({...prevstate, facilityModule:newfacilityModule})) */\n   //console.log(state)\n}\n    const handleBlur=async(e)=>{\n       \n    }\n    const handleSearch=async(value)=>{\n        setVal(value)\n        if (value===\"\"){\n            setShowPanel(false)\n            return\n        }\n        const field='name' //field variable\n\n       \n        if (value.length>=3 ){\n            productServ.find({query: {     //service\n                 [field]: {\n                     $regex:value,\n                     $options:'i'\n                    \n                 },\n                 $limit:10,\n                 $sort: {\n                     createdAt: -1\n                   }\n                     }}).then((res)=>{\n             // console.log(\"product  fetched successfully\") \n             // console.log(res.data) \n                setFacilities(res.data)\n                 setSearchMessage(\" product  fetched successfully\")\n                 setShowPanel(true)\n             })\n             .catch((err)=>{\n                toast({\n                    message: 'Error creating ProductEntry ' + err,\n                    type: 'is-danger',\n                    dismissible: true,\n                    pauseOnHover: true,\n                  })\n             })\n         }\n        else{\n           // console.log(\"less than 3 \")\n           // console.log(val)\n            setShowPanel(false)\n            await setFacilities([])\n           // console.log(facilities)\n        }\n    }\n\n    const handleAddproduct =()=>{\n        setProductModal(true) \n    }\n    const handlecloseModal =()=>{\n        setProductModal(false)\n        handleSearch(val)\n    }\n    useEffect(() => {\n       if (clear){\n          // console.log(\"success has changed\",clear)\n           setSimpa(\"\")\n       }\n        return () => {\n            \n        }\n    }, [clear] )\n    return (\n        <div>\n            <div className=\"field\">\n                <div className=\"control has-icons-left  \">\n                    <div className={`dropdown ${showPanel?\"is-active\":\"\"} wt100`}>\n                        <div className=\"dropdown-trigger wt100\">\n                            <DebounceInput className=\"input is-small \" \n                                type=\"text\" placeholder=\"Search Product\"\n                                value={simpa}\n                                minLength={3}\n                                debounceTimeout={400}\n                                onBlur={(e)=>handleBlur(e)}\n                                onChange={(e)=>handleSearch(e.target.value)}\n                                inputRef={inputEl}\n                                  />\n                            <span className=\"icon is-small is-left\">\n                                <i className=\"fas fa-search\"></i>\n                            </span>\n                        </div>\n                        {/* {searchError&&<div>{searchMessage}</div>} */}\n                        <div className=\"dropdown-menu wt100\" >\n                            <div className=\"dropdown-content\">\n                          { facilities.length>0?\"\":<div className=\"dropdown-item\" onClick={handleAddproduct}> <span>Add {val} to product list</span> </div>}\n\n                              {facilities.map((facility, i)=>(\n                                    \n                                    <div className=\"dropdown-item \" key={facility._id} onClick={()=>handleRow(facility)}>\n                                        \n                                        <span>{facility.name}</span><span>({facility.baseunit})</span>\n                                        \n                                    </div>\n                                    \n                                    ))}\n                                    \n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div className={`modal ${productModal?\"is-active\":\"\"}` }>\n                                    <div className=\"modal-background\"></div>\n                                    <div className=\"modal-card\">\n                                        <header className=\"modal-card-head minHt\">\n                                        <p className=\"modal-card-title\">Product</p>\n                                        <button className=\"delete\" aria-label=\"close\"  onClick={handlecloseModal}></button>\n                                        </header>\n                                        <section className=\"modal-card-body\">\n                                        {/* <StoreList standalone=\"true\" /> */}\n                                        <ProductCreate />\n                                        </section>\n                                        {/* <footer className=\"modal-card-foot\">\n                                        <button className=\"button is-success\">Save changes</button>\n                                        <button className=\"button\">Cancel</button>\n                                        </footer> */}\n                                    </div>\n                                </div>       \n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}